window.__require=function e(t,a,i){function n(r,s){if(!a[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var h=a[r]={exports:{}};t[r][0].call(h.exports,function(e){return n(t[r][1][e]||e)},h,h.exports,e,t,a,i)}return a[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({AuxiliaryConfig:[function(e,t,a){"use strict";cc._RF.push(t,"9fd0cxVD0FAF6mitA/Bk6x+","AuxiliaryConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.AuxiliaryConfig=void 0;var i=e("../M_Basics/GameData"),n=e("./RoomConfig"),o=function(){function e(){}return e.initTaskThread=function(){for(var e=0,t=function(t,a){this.taskThread_config[e]={index:e,type:t,target:a,rewardCash:(750+50*Math.floor(e/2))*i.GameData.instance.basePrice_Task,rewardGem:3,rewardMaterial:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1}},e++}.bind(this),a=n.RoomConfig.MainRoom_config.length,o=0;o<a;o++){o>0&&t("level",o+1);var r=n.RoomConfig.MainRoom_config[o].facility;for(var s in r)"farming"==s||"farm"==s||"orchard"==s||"fish"==s||"flowers"==s?-1!=r[s]&&t(s,r[s]):-1!=r[s]&&t(s,r[s]+1)}cc.log("%c \u4e3b\u7ebf\u4efb\u52a1 \u914d\u7f6e"," font-size : 8px ; color : #888000 ;",this.taskThread_config)},e.config7DaySignIn=[{gem:5},{gem:10},{gem:15},{gem:20},{gem:25},{gem:30},{gem:30,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10}}],e.configAchievement={farming:{need:[10,50,100,500,1e3,5e3,1e4],reward:[3,6,9,12,15,18,21]},orchard:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},farm:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},fish:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},flowers:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},kitchen:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},delivery:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},freight:{need:[10,50,100,500,1e3],reward:[5,10,15,20,25]},canteen:{need:[10,50,100,500,1e3,5e3,1e4],reward:[3,6,9,12,15,18,21]},messHall:{need:[10,50,100,500,1e3,5e3,1e4],reward:[3,6,9,12,15,18,21]},haveDinner:{need:[10,50,100,500,1e3,5e3,1e4],reward:[3,6,9,12,15,18,21]},pickUp:{need:[10,50,100,500,1e3,5e3,1e4],reward:[3,6,9,12,15,18,21]},exchange:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},collection:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},goOut:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},purchase:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},buy:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]},sell:{need:[10,50,100,500,1e3],reward:[3,6,9,12,15]}},e.taskThread_config=[],e.taskBranchLine_config={farming:{target:[5,10],unlockLevel:0},orchard:{target:[5,10],unlockLevel:8},flowers:{target:[5,10],unlockLevel:13},fish:{target:[5,10],unlockLevel:12},farm:{target:[5,10],unlockLevel:2},kitchen:{target:[5,10],unlockLevel:0},delivery:{target:[1,3],unlockLevel:0},messHall:{target:[10,20],unlockLevel:21},freight:{target:[1,3],unlockLevel:5},canteen:{target:[10,20],unlockLevel:9},haveDinner:{target:[10,20],unlockLevel:22},collection:{target:[1,3],unlockLevel:9},goOut:{target:[1,3],unlockLevel:8}},e.configEverydayTask={video:{target:10,reward:5,unlock:0,Complete:!1},time:{target:30,reward:5,unlock:0,Complete:!1},farming:{target:50,reward:3,unlock:0,Complete:!0},orchard:{target:20,reward:3,unlock:8,Complete:!0},farm:{target:20,reward:3,unlock:2,Complete:!0},fish:{target:10,reward:3,unlock:12,Complete:!0},flowers:{target:10,reward:3,unlock:13,Complete:!0},kitchen:{target:20,reward:3,unlock:0,Complete:!0},delivery:{target:5,reward:3,unlock:0,Complete:!0},freight:{target:2,reward:3,unlock:5,Complete:!0},canteen:{target:50,reward:3,unlock:9,Complete:!0},haveDinner:{target:50,reward:3,unlock:22,Complete:!0},branchLine:{target:5,reward:5,unlock:0,Complete:!1},gem:{target:20,reward:5,unlock:0,Complete:!1},exchange:{target:5,reward:5,unlock:8,Complete:!0},goOut:{target:3,reward:5,unlock:9,Complete:!0}},e}();a.AuxiliaryConfig=o,cc._RF.pop()},{"../M_Basics/GameData":"GameData","./RoomConfig":"RoomConfig"}],BasicsConfig:[function(e,t,a){"use strict";cc._RF.push(t,"f68eeytowNEr7CB297XB3+r","BasicsConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.BasicsConfig=void 0;var i=function(){function e(){}return e.CanteenItem_config={fresh:["farming_HuLuoBo","orchard_PingGuo","farming_LuoBo","farming_DaBaiCai","farming_TuDou","farming_XiaHongShi","farming_HuangGua","farming_LaJiao","farming_DaSuan","orchard_ChengZi","farming_HongShu","farming_NanGua","farm_JiDan","farm_ZhuRou","fish_LiYu","farming_YangCong","farming_DaCong","orchard_Li","orchard_YingTao","orchard_ShiZi"],stationery:["WJ_QianBi","WJ_XiangPi","WJ_ZhongXingBi","WJ_ZuoYeBen","WJ_GangBi","WJ_QianBiDao","WJ_JiaoShui","WJ_RiJiBen","WJ_WenJuHe","WJ_YuanZhuBi","WJ_JianDao","WJ_DingShuJi"],food:["SP_LeShiShuPian","SP_MianCuiQiao","SP_KuangQuanShui","SP_XiaTiao","SP_KouXiangTang","SP_LaTiao","SP_FangBianMian","SP_WaHaHaADGaiNai","SP_KangShiFuHongCha","SP_XianChengDuo","SP_KeLe","SP_XueBi"],life:["SH_YaGao","SH_YaShua","SH_WeiShengZhi","SH_TuoXie","SH_TiXuDao","SH_XiYiFen","SH_KuaiZi","SH_Wan","SH_BeiZi","SH_MaoJin","SH_WeiShengJin","SH_XiFaShui"]},e.Item_config={farming_XiaoMai:{Type:"farming",seedPrice:0,unlock:0,Price:4,Cycle:30,quicken:300},farming_YuMi:{Type:"farming",seedPrice:1,unlock:0,Price:6,Cycle:30,quicken:300},farming_HuLuoBo:{Type:"farming",seedPrice:1,unlock:0,Price:6,Cycle:30,quicken:300},farming_DaoZi:{Type:"farming",seedPrice:2,unlock:0,Price:12,Cycle:30,quicken:300},farming_DaDou:{Type:"farming",seedPrice:2,unlock:0,Price:12,Cycle:30,quicken:300},farming_LuoBo:{Type:"farming",seedPrice:3,unlock:0,Price:18,Cycle:30,quicken:300},farming_DaBaiCai:{Type:"farming",seedPrice:2,unlock:0,Price:12,Cycle:30,quicken:300},farming_TuDou:{Type:"farming",seedPrice:2,unlock:0,Price:12,Cycle:45,quicken:300},farming_XiaHongShi:{Type:"farming",seedPrice:3,unlock:0,Price:18,Cycle:45,quicken:300},farming_HuangGua:{Type:"farming",seedPrice:4,unlock:0,Price:14,Cycle:45,quicken:300},farming_LaJiao:{Type:"farming",seedPrice:6,unlock:0,Price:18,Cycle:45,quicken:300},farming_DaSuan:{Type:"farming",seedPrice:4,unlock:0,Price:15,Cycle:45,quicken:300},farming_ZhiMa:{Type:"farming",seedPrice:3,unlock:0,Price:24,Cycle:45,quicken:300},farming_HongShu:{Type:"farming",seedPrice:3,unlock:0,Price:12,Cycle:45,quicken:300},farming_NanGua:{Type:"farming",seedPrice:3,unlock:0,Price:16,Cycle:60,quicken:300},farming_GanZhe:{Type:"farming",seedPrice:3,unlock:0,Price:14,Cycle:60,quicken:300},farming_HuaSheng:{Type:"farming",seedPrice:3,unlock:0,Price:20,Cycle:60,quicken:300},farming_XiGua:{Type:"farming",seedPrice:3,unlock:0,Price:12,Cycle:60,quicken:300},farming_YangCong:{Type:"farming",seedPrice:3,unlock:0,Price:13,Cycle:60,quicken:300},farming_ChaYe:{Type:"farming",seedPrice:3,unlock:0,Price:25,Cycle:60,quicken:300},farming_CaoMei:{Type:"farming",seedPrice:3,unlock:0,Price:20,Cycle:60,quicken:300},farming_DaCong:{Type:"farming",seedPrice:3,unlock:0,Price:12,Cycle:60,quicken:300},orchard_PingGuo:{Type:"orchard",seedPrice:3,unlock:8,Price:18,Cycle:90,quicken:300},orchard_Li:{Type:"orchard",seedPrice:4,unlock:8,Price:24,Cycle:90,quicken:300},orchard_ChengZi:{Type:"orchard",seedPrice:4,unlock:8,Price:24,Cycle:90,quicken:300},orchard_PuTao:{Type:"orchard",seedPrice:5,unlock:8,Price:30,Cycle:90,quicken:300},orchard_YingTao:{Type:"orchard",seedPrice:4,unlock:8,Price:24,Cycle:120,quicken:300},orchard_HongZao:{Type:"orchard",seedPrice:3,unlock:8,Price:18,Cycle:120,quicken:300},orchard_XingZi:{Type:"orchard",seedPrice:4,unlock:8,Price:24,Cycle:120,quicken:300},orchard_ShiZi:{Type:"orchard",seedPrice:4,unlock:8,Price:24,Cycle:120,quicken:300},orchard_TaoZi:{Type:"orchard",seedPrice:6,unlock:8,Price:36,Cycle:180,quicken:300},orchard_LiZi:{Type:"orchard",seedPrice:5,unlock:8,Price:30,Cycle:180,quicken:300},orchard_HeTao:{Type:"orchard",seedPrice:8,unlock:8,Price:48,Cycle:180,quicken:300},orchard_BanLi:{Type:"orchard",seedPrice:8,unlock:8,Price:48,Cycle:180,quicken:300},flowers_MeiGui:{Type:"flowers",seedPrice:8,unlock:16,Price:36,Cycle:120,quicken:300},flowers_YuJinXiang:{Type:"flowers",seedPrice:9,unlock:16,Price:48,Cycle:120,quicken:300},flowers_MoLi:{Type:"flowers",seedPrice:7,unlock:16,Price:32,Cycle:180,quicken:300},flowers_BaiHe:{Type:"flowers",seedPrice:10,unlock:16,Price:56,Cycle:180,quicken:300},flowers_XunYiCao:{Type:"flowers",seedPrice:12,unlock:16,Price:68,Cycle:240,quicken:300},flowers_JuHua:{Type:"flowers",seedPrice:9,unlock:16,Price:46,Cycle:240,quicken:300},farm_JiDan:{Type:"farm",seedPrice:9,unlock:2,Price:36,Cycle:180,quicken:300},farm_NiuNai:{Type:"farm",seedPrice:10,unlock:4,Price:48,Cycle:180,quicken:300},farm_ZhuRou:{Type:"farm",seedPrice:14,unlock:6,Price:56,Cycle:180,quicken:300},farm_JiRou:{Type:"farm",seedPrice:16,unlock:8,Price:64,Cycle:240,quicken:300},farm_YangRou:{Type:"farm",seedPrice:14,unlock:10,Price:52,Cycle:240,quicken:300},farm_FengMi:{Type:"farm",seedPrice:15,unlock:12,Price:66,Cycle:240,quicken:300},fish_JiYu:{Type:"fish",seedPrice:16,unlock:12,Price:52,Cycle:180,quicken:300},fish_LiYu:{Type:"fish",seedPrice:17,unlock:13,Price:56,Cycle:180,quicken:300},fish_XiaoLongXia:{Type:"fish",seedPrice:21,unlock:14,Price:64,Cycle:180,quicken:300},fish_DaZhaXie:{Type:"fish",seedPrice:22,unlock:15,Price:72,Cycle:240,quicken:300},fish_DuiXia:{Type:"fish",seedPrice:24,unlock:16,Price:80,Cycle:240,quicken:300},fish_ShanBei:{Type:"fish",seedPrice:26,unlock:16,Price:88,Cycle:240,quicken:300},fish_JiaYu:{Type:"fish",seedPrice:28,unlock:16,Price:90,Cycle:300,quicken:300},WJ_QianBi:{Type:"stall",TypeSub:"stationery",seedPrice:10,Price:20,unlock:8,quicken:300},WJ_XiangPi:{Type:"stall",TypeSub:"stationery",seedPrice:11,Price:22,unlock:8,quicken:300},WJ_ZhongXingBi:{Type:"stall",TypeSub:"stationery",seedPrice:12,Price:24,unlock:8,quicken:300},WJ_ZuoYeBen:{Type:"stall",TypeSub:"stationery",seedPrice:13,Price:26,unlock:8,quicken:300},WJ_GangBi:{Type:"stall",TypeSub:"stationery",seedPrice:14,Price:28,unlock:8,quicken:300},WJ_QianBiDao:{Type:"stall",TypeSub:"stationery",seedPrice:15,Price:30,unlock:8,quicken:300},WJ_JiaoShui:{Type:"stall",TypeSub:"stationery",seedPrice:16,Price:32,unlock:8,quicken:300},WJ_RiJiBen:{Type:"stall",TypeSub:"stationery",seedPrice:17,Price:34,unlock:8,quicken:300},WJ_WenJuHe:{Type:"stall",TypeSub:"stationery",seedPrice:18,Price:36,unlock:8,quicken:300},WJ_YuanZhuBi:{Type:"stall",TypeSub:"stationery",seedPrice:19,Price:38,unlock:8,quicken:300},WJ_JianDao:{Type:"stall",TypeSub:"stationery",seedPrice:20,Price:40,unlock:8,quicken:300},WJ_DingShuJi:{Type:"stall",TypeSub:"stationery",seedPrice:21,Price:42,unlock:8,quicken:300},SP_LeShiShuPian:{Type:"stall",TypeSub:"food",seedPrice:20,Price:40,unlock:14,quicken:300},SP_MianCuiQiao:{Type:"stall",TypeSub:"food",seedPrice:22,Price:44,unlock:14,quicken:300},SP_KuangQuanShui:{Type:"stall",TypeSub:"food",seedPrice:24,Price:48,unlock:14,quicken:300},SP_XiaTiao:{Type:"stall",TypeSub:"food",seedPrice:26,Price:52,unlock:14,quicken:300},SP_KouXiangTang:{Type:"stall",TypeSub:"food",seedPrice:28,Price:56,unlock:14,quicken:300},SP_LaTiao:{Type:"stall",TypeSub:"food",seedPrice:30,Price:60,unlock:14,quicken:300},SP_FangBianMian:{Type:"stall",TypeSub:"food",seedPrice:32,Price:64,unlock:14,quicken:300},SP_WaHaHaADGaiNai:{Type:"stall",TypeSub:"food",seedPrice:34,Price:68,unlock:14,quicken:300},SP_KangShiFuHongCha:{Type:"stall",TypeSub:"food",seedPrice:36,Price:72,unlock:14,quicken:300},SP_XianChengDuo:{Type:"stall",TypeSub:"food",seedPrice:38,Price:76,unlock:14,quicken:300},SP_KeLe:{Type:"stall",TypeSub:"food",seedPrice:40,Price:80,unlock:14,quicken:300},SP_XueBi:{Type:"stall",TypeSub:"food",seedPrice:42,Price:84,unlock:14,quicken:300},SH_YaGao:{Type:"stall",TypeSub:"life",seedPrice:30,Price:60,unlock:20,quicken:300},SH_YaShua:{Type:"stall",TypeSub:"life",seedPrice:33,Price:66,unlock:20,quicken:300},SH_WeiShengZhi:{Type:"stall",TypeSub:"life",seedPrice:36,Price:72,unlock:20,quicken:300},SH_TuoXie:{Type:"stall",TypeSub:"life",seedPrice:39,Price:78,unlock:20,quicken:300},SH_TiXuDao:{Type:"stall",TypeSub:"life",seedPrice:42,Price:84,unlock:20,quicken:300},SH_XiYiFen:{Type:"stall",TypeSub:"life",seedPrice:45,Price:90,unlock:20,quicken:300},SH_KuaiZi:{Type:"stall",TypeSub:"life",seedPrice:48,Price:96,unlock:20,quicken:300},SH_Wan:{Type:"stall",TypeSub:"life",seedPrice:51,Price:102,unlock:20,quicken:300},SH_BeiZi:{Type:"stall",TypeSub:"life",seedPrice:54,Price:108,unlock:20,quicken:300},SH_MaoJin:{Type:"stall",TypeSub:"life",seedPrice:57,Price:114,unlock:20,quicken:300},SH_WeiShengJin:{Type:"stall",TypeSub:"life",seedPrice:60,Price:120,unlock:20,quicken:300},SH_XiFaShui:{Type:"stall",TypeSub:"life",seedPrice:63,Price:126,unlock:20,quicken:300},XY_RenShen:{Type:"rare",seedPrice:24,Price:96,unlock:8,quicken:300},XY_LuRong:{Type:"rare",seedPrice:27,Price:108,unlock:8,quicken:300},XY_LingZhi:{Type:"rare",seedPrice:28,Price:114,unlock:8,quicken:300},XY_YanWu:{Type:"rare",seedPrice:32,Price:128,unlock:8,quicken:300},XY_YuChi:{Type:"rare",seedPrice:36,Price:144,unlock:8,quicken:300},XY_HaiShen:{Type:"rare",seedPrice:28,Price:116,unlock:8,quicken:300},XY_YinEr:{Type:"rare",seedPrice:24,Price:96,unlock:8,quicken:300},XY_SongRong:{Type:"rare",seedPrice:30,Price:120,unlock:8,quicken:300},XY_XueLi:{Type:"rare",seedPrice:34,Price:136,unlock:8,quicken:300},XY_ZhongCaoYao:{Type:"rare",seedPrice:25,Price:100,unlock:8,quicken:300},XY_BaoYu:{Type:"rare",seedPrice:30,Price:120,unlock:8,quicken:300},XY_ChongCao:{Type:"rare",seedPrice:33,Price:132,unlock:8,quicken:300},XY_GouQi:{Type:"rare",seedPrice:21,Price:84,unlock:8,quicken:300},noodle_ManTou:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:1},unlock:0,machining:0,Cycle:30,quicken:300},noodle_HuaJuan:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:2},unlock:0,machining:0,Cycle:30,quicken:300},noodle_YouTiao:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:1,oil_DaDouYou:1},unlock:0,machining:0,Cycle:30,quicken:300},noodle_MaHua:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:2,oil_DaDouYou:1},unlock:0,machining:1,Cycle:30,quicken:300},noodle_YouCongBing:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:2,farming_DaCong:1,oil_DaDouYou:1},unlock:0,machining:1,Cycle:30,quicken:300},noodle_MianTiao:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:3},unlock:0,machining:2,Cycle:30,quicken:300},noodle_BaoZi:{Type:"kitchen",TypeSub:"noodle",material:{farming_XiaoMai:2,farm_ZhuRou:1,oil_DaDouYou:1},unlock:6,machining:3,Cycle:30,quicken:300},oil_DaDouYou:{Type:"kitchen",TypeSub:"oil",material:{farming_DaDou:2},unlock:2,machining:1,Cycle:30,quicken:300},oil_XiangYou:{Type:"kitchen",TypeSub:"oil",material:{farming_ZhiMa:3},unlock:2,machining:1,Cycle:30,quicken:300},oil_ZhiMaJiang:{Type:"kitchen",TypeSub:"oil",material:{farming_ZhiMa:3},unlock:2,machining:1,Cycle:30,quicken:300},oil_LaJiaoYou:{Type:"kitchen",TypeSub:"oil",material:{farming_DaDou:3,farming_LaJiao:1},unlock:2,machining:1,Cycle:30,quicken:300},sauce_ChengCu:{Type:"kitchen",TypeSub:"sauceVinegar",material:{farming_DaoZi:2,farming_XiaoMai:2},unlock:4,machining:2,Cycle:30,quicken:300},sauce_BaiCu:{Type:"kitchen",TypeSub:"sauceVinegar",material:{farming_DaoZi:2,farming_XiaoMai:2},unlock:4,machining:2,Cycle:30,quicken:300},sauce_ShengChou:{Type:"kitchen",TypeSub:"sauceVinegar",material:{farming_DaDou:2,farming_XiaoMai:2},unlock:4,machining:2,Cycle:30,quicken:300},sauce_LaoChou:{Type:"kitchen",TypeSub:"sauceVinegar",material:{farming_DaDou:2,farming_XiaoMai:2},unlock:4,machining:2,Cycle:30,quicken:300},egg_XianDan:{Type:"kitchen",TypeSub:"egg",material:{farm_JiDan:1},unlock:6,machining:3,Cycle:30,quicken:300},egg_SongHuaDan:{Type:"kitchen",TypeSub:"egg",material:{farm_JiDan:2},unlock:6,machining:3,Cycle:30,quicken:300},egg_XianDanHuang:{Type:"kitchen",TypeSub:"egg",material:{farm_JiDan:3},unlock:6,machining:3,Cycle:30,quicken:300},egg_LuDan:{Type:"kitchen",TypeSub:"egg",material:{farm_JiDan:2,sauce_ShengChou:1},unlock:6,machining:3,Cycle:30,quicken:300},egg_ChaYeDan:{Type:"kitchen",TypeSub:"egg",material:{farm_JiDan:2,sauce_ShengChou:1,farming_ChaYe:1},unlock:6,machining:3,Cycle:30,quicken:300},milk_NaiYou:{Type:"kitchen",TypeSub:"milk",material:{farm_NiuNai:1},unlock:8,machining:4,Cycle:30,quicken:300},milk_HuangYou:{Type:"kitchen",TypeSub:"milk",material:{farm_NiuNai:2},unlock:8,machining:4,Cycle:30,quicken:300},milk_ZhiShi:{Type:"kitchen",TypeSub:"milk",material:{farm_NiuNai:3},unlock:8,machining:4,Cycle:30,quicken:300},milk_SuanNai:{Type:"kitchen",TypeSub:"milk",material:{farm_NiuNai:4},unlock:8,machining:4,Cycle:30,quicken:300},bean_DouFu:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:2},unlock:10,machining:5,Cycle:30,quicken:300},bean_FuZhu:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:2},unlock:10,machining:5,Cycle:30,quicken:300},bean_DouFuGan:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:3},unlock:10,machining:5,Cycle:30,quicken:300},bean_DouFuRu:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:3},unlock:10,machining:5,Cycle:30,quicken:300},bean_DouYa:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:3},unlock:10,machining:5,Cycle:30,quicken:300},bean_ChuDouFu:{Type:"kitchen",TypeSub:"bean",material:{farming_DaDou:3},unlock:10,machining:1,Cycle:30,quicken:300},meat_HuoTui:{Type:"kitchen",TypeSub:"meat",material:{farm_ZhuRou:1},unlock:12,machining:6,Cycle:30,quicken:300},meat_XiangChang:{Type:"kitchen",TypeSub:"meat",material:{farm_ZhuRou:1,farming_DaSuan:1,farming_LaJiao:1},unlock:12,machining:6,Cycle:30,quicken:300},meat_XunRou:{Type:"kitchen",TypeSub:"meat",material:{farm_ZhuRou:2},unlock:12,machining:6,Cycle:30,quicken:300},meat_LaRou:{Type:"kitchen",TypeSub:"meat",material:{farm_ZhuRou:3},unlock:12,machining:6,Cycle:30,quicken:300},sugar_BaiTang:{Type:"kitchen",TypeSub:"sugar",material:{farming_GanZhe:1},unlock:14,machining:7,Cycle:30,quicken:300},sugar_BingTang:{Type:"kitchen",TypeSub:"sugar",material:{farming_GanZhe:2},unlock:14,machining:7,Cycle:30,quicken:300},sugar_HongTang:{Type:"kitchen",TypeSub:"sugar",material:{farming_GanZhe:3},unlock:14,machining:7,Cycle:30,quicken:300},sugar_MaiYaTang:{Type:"kitchen",TypeSub:"sugar",material:{farming_XiaoMai:2,farming_DaoZi:2},unlock:14,machining:7,Cycle:30,quicken:300},pickle_PaoCai:{Type:"kitchen",TypeSub:"pickle",material:{farming_HuLuoBo:1,farming_LuoBo:1,farming_DaBaiCai:1,farming_HuangGua:1},unlock:16,machining:8,Cycle:30,quicken:300},pickle_SuanCai:{Type:"kitchen",TypeSub:"pickle",material:{farming_HuLuoBo:1,farming_LuoBo:1,farming_DaBaiCai:1,farming_HuangGua:1},unlock:16,machining:8,Cycle:30,quicken:300},pickle_HuangDouJiang:{Type:"kitchen",TypeSub:"pickle",material:{farming_DaDou:3,sauce_ShengChou:1},unlock:16,machining:8,Cycle:30,quicken:300},pickle_DouBanJiang:{Type:"kitchen",TypeSub:"pickle",material:{farming_DaDou:3,sauce_ShengChou:1,farming_LaJiao:1},unlock:16,machining:8,Cycle:30,quicken:300},pickle_TangSuan:{Type:"kitchen",TypeSub:"pickle",material:{farming_DaSuan:3,sugar_BaiTang:1,sauce_BaiCu:1},unlock:16,machining:8,Cycle:30,quicken:300},snacks_GuoBa:{Type:"kitchen",TypeSub:"snacks",material:{farming_YuMi:2,farming_XiaoMai:1,oil_DaDouYou:1},unlock:18,machining:9,Cycle:30,quicken:300},snacks_BaoMiHua:{Type:"kitchen",TypeSub:"snacks",material:{farming_YuMi:3,milk_NaiYou:1,sugar_BaiTang:1},unlock:18,machining:9,Cycle:30,quicken:300},snacks_ShouPian:{Type:"kitchen",TypeSub:"snacks",material:{farming_TuDou:3,oil_DaDouYou:1},unlock:18,machining:9,Cycle:30,quicken:300},snacks_LaTiao:{Type:"kitchen",TypeSub:"snacks",material:{farming_XiaoMai:2,farming_YuMi:1,farming_LaJiao:1,oil_LaJiaoYou:1},unlock:18,machining:9,Cycle:30,quicken:300},snacks_HongShouPian:{Type:"kitchen",TypeSub:"snacks",material:{farming_HongShu:3},unlock:18,machining:9,Cycle:30,quicken:300},snacks_TaoChaoBanLi:{Type:"kitchen",TypeSub:"snacks",material:{orchard_BanLi:2,sugar_BaiTang:1},unlock:18,machining:9,Cycle:30,quicken:300},snacks_JiaoYanHeTao:{Type:"kitchen",TypeSub:"snacks",material:{orchard_HeTao:2,farming_LaJiao:1,oil_DaDouYou:1},unlock:18,machining:9,Cycle:30,quicken:300},cake_DanHuangSu:{Type:"kitchen",TypeSub:"cake",material:{egg_XianDanHuang:2,farming_XiaoMai:1,sugar_BaiTang:1},unlock:20,machining:10,Cycle:30,quicken:300},cake_HeTaoSu:{Type:"kitchen",TypeSub:"cake",material:{orchard_HeTao:2,farming_XiaoMai:1,sugar_BaiTang:1},unlock:20,machining:10,Cycle:30,quicken:300},cake_LaoPoBing:{Type:"kitchen",TypeSub:"cake",material:{farming_XiaoMai:2,sugar_BaiTang:1,oil_DaDouYou:1},unlock:20,machining:10,Cycle:30,quicken:300},cake_HuaShengSu:{Type:"kitchen",TypeSub:"cake",material:{farming_HuaSheng:2,farming_XiaoMai:1,sugar_BaiTang:1},unlock:20,machining:10,Cycle:30,quicken:300},cake_LongXuSu:{Type:"kitchen",TypeSub:"cake",material:{sugar_MaiYaTang:2,farming_XiaoMai:2},unlock:20,machining:10,Cycle:30,quicken:300},fruit_XingRen:{Type:"kitchen",TypeSub:"fruit",material:{orchard_XingZi:3},unlock:22,machining:11,Cycle:30,quicken:300},fruit_XingGan:{Type:"kitchen",TypeSub:"fruit",material:{orchard_XingZi:2},unlock:22,machining:11,Cycle:30,quicken:300},fruit_MiZao:{Type:"kitchen",TypeSub:"fruit",material:{orchard_HongZao:2,farm_FengMi:1},unlock:22,machining:11,Cycle:30,quicken:300},fruit_ShiZiBing:{Type:"kitchen",TypeSub:"fruit",material:{orchard_ShiZi:3},unlock:22,machining:11,Cycle:30,quicken:300},fruit_CaoMeiJiang:{Type:"kitchen",TypeSub:"fruit",material:{farming_CaoMei:3},unlock:22,machining:11,Cycle:30,quicken:300},fruit_HuaShengJiang:{Type:"kitchen",TypeSub:"fruit",material:{farming_HuaSheng:3},unlock:22,machining:11,Cycle:30,quicken:300},fruit_PuTaoGan:{Type:"kitchen",TypeSub:"fruit",material:{orchard_PuTao:3},unlock:22,machining:11,Cycle:30,quicken:300},fruit_YingTaoJiang:{Type:"kitchen",TypeSub:"fruit",material:{orchard_YingTao:3},unlock:22,machining:11,Cycle:30,quicken:300},baking_MianBao:{Type:"kitchen",TypeSub:"baking",material:{farming_XiaoMai:2,farm_JiDan:1,sugar_BaiTang:1},unlock:24,machining:12,Cycle:30,quicken:300},baking_BingGan:{Type:"kitchen",TypeSub:"baking",material:{farming_XiaoMai:2,farm_JiDan:1,sugar_BaiTang:1},unlock:24,machining:12,Cycle:30,quicken:300},baking_DanGao:{Type:"kitchen",TypeSub:"baking",material:{farming_XiaoMai:2,farm_JiDan:1,sugar_BaiTang:1},unlock:24,machining:12,Cycle:30,quicken:300},baking_NaiYouDanGao:{Type:"kitchen",TypeSub:"baking",material:{farming_XiaoMai:2,farm_JiDan:1,sugar_BaiTang:1,milk_NaiYou:1},unlock:24,machining:12,Cycle:30,quicken:300},baking_GuoJiangDanGao:{Type:"kitchen",TypeSub:"baking",material:{farming_XiaoMai:2,farm_JiDan:1,fruit_CaoMeiJiang:1,milk_NaiYou:1},unlock:24,machining:12,Cycle:30,quicken:300},seafood_XianYu:{Type:"kitchen",TypeSub:"seafood",material:{fish_LiYu:3},unlock:26,machining:13,Cycle:30,quicken:300},seafood_XiaRouGan:{Type:"kitchen",TypeSub:"seafood",material:{fish_DuiXia:3},unlock:26,machining:13,Cycle:30,quicken:300},seafood_YuWan:{Type:"kitchen",TypeSub:"seafood",material:{fish_LiYu:3},unlock:26,machining:13,Cycle:30,quicken:300},seafood_XieRouBang:{Type:"kitchen",TypeSub:"seafood",material:{fish_DaZhaXie:3},unlock:26,machining:13,Cycle:30,quicken:300},seafood_XiaWan:{Type:"kitchen",TypeSub:"seafood",material:{fish_DuiXia:3},unlock:26,machining:13,Cycle:30,quicken:300},beverage_XiGuaZhi:{Type:"kitchen",TypeSub:"beverage",material:{farming_XiGua:2},unlock:28,machining:14,Cycle:30,quicken:300},beverage_ChengZhi:{Type:"kitchen",TypeSub:"beverage",material:{orchard_ChengZi:2},unlock:28,machining:14,Cycle:30,quicken:300},beverage_HuoTaoZhi:{Type:"kitchen",TypeSub:"beverage",material:{orchard_TaoZi:2},unlock:28,machining:14,Cycle:30,quicken:300},beverage_PingGuoCu:{Type:"kitchen",TypeSub:"beverage",material:{orchard_PingGuo:2},unlock:28,machining:14,Cycle:30,quicken:300},beverage_ShiJinGuoZhi:{Type:"kitchen",TypeSub:"beverage",material:{orchard_PuTao:1,orchard_PingGuo:1,orchard_Li:1},unlock:28,machining:14,Cycle:30,quicken:300},makeWine_BaiJiu:{Type:"kitchen",TypeSub:"makeWine",material:{farming_XiaoMai:3},unlock:30,machining:15,Cycle:30,quicken:300},makeWine_HuangJiu:{Type:"kitchen",TypeSub:"makeWine",material:{farming_YuMi:3},unlock:30,machining:15,Cycle:30,quicken:300},makeWine_LaoZao:{Type:"kitchen",TypeSub:"makeWine",material:{farming_DaoZi:3},unlock:30,machining:15,Cycle:30,quicken:300},makeWine_PuTaoJiu:{Type:"kitchen",TypeSub:"makeWine",material:{orchard_PuTao:3},unlock:30,machining:15,Cycle:30,quicken:300},makeWine_PiJiu:{Type:"kitchen",TypeSub:"makeWine",material:{farming_XiaoMai:3},unlock:30,machining:15,Cycle:30,quicken:300},makeWine_YaoJiu:{Type:"kitchen",TypeSub:"makeWine",material:{makeWine_BaiJiu:1,XY_ZhongCaoYao:1,XY_RenShen:1,XY_LingZhi:1},unlock:30,machining:15,Cycle:30,quicken:300},Tea_HongCha:{Type:"kitchen",TypeSub:"Tea",material:{farming_ChaYe:3},unlock:32,machining:16,Cycle:30,quicken:300},Tea_LvCha:{Type:"kitchen",TypeSub:"Tea",material:{farming_ChaYe:3},unlock:32,machining:16,Cycle:30,quicken:300},Tea_WuLongCha:{Type:"kitchen",TypeSub:"Tea",material:{farming_ChaYe:3},unlock:32,machining:16,Cycle:30,quicken:300},Tea_MoLiHuaCha:{Type:"kitchen",TypeSub:"Tea",material:{farming_ChaYe:3,flowers_MoLi:1},unlock:32,machining:16,Cycle:30,quicken:300},Tea_MeiGuiCha:{Type:"kitchen",TypeSub:"Tea",material:{farming_ChaYe:3,flowers_MeiGui:1},unlock:32,machining:16,Cycle:30,quicken:300},Tea_JuHuaCha:{Type:"kitchen",TypeSub:"Tea",material:{flowers_JuHua:3},unlock:32,machining:16,Cycle:30,quicken:300},fresh_HuaShu:{Type:"kitchen",TypeSub:"fresh",material:{flowers_MeiGui:2,flowers_BaiHe:2,flowers_MoLi:2},unlock:34,machining:17,Cycle:30,quicken:300},fresh_HuaLan:{Type:"kitchen",TypeSub:"fresh",material:{flowers_MeiGui:3,flowers_YuJinXiang:3,flowers_MoLi:3},unlock:34,machining:17,Cycle:30,quicken:300},fresh_ShouPengGua:{Type:"kitchen",TypeSub:"fresh",material:{flowers_MeiGui:1,flowers_XunYiCao:1,flowers_MoLi:1},unlock:34,machining:17,Cycle:30,quicken:300},material_MuCai:{Type:"material",Price:10,unlock:0},material_DaoCao:{Type:"material",Price:10,unlock:0},material_ShaZi:{Type:"material",Price:10,unlock:0}},e.dishes_config={eat_YouPoMian:{Type:0,unlock:0,material:{noodle_MianTiao:1,oil_DaDouYou:1,bean_DouYa:1},Cycle:20,quicken:300},eat_ReGanMian:{Type:0,unlock:1,material:{noodle_MianTiao:1,oil_ZhiMaJiang:1},Cycle:20,quicken:300},eat_ChaoMian:{Type:0,unlock:2,material:{noodle_MianTiao:1,oil_DaDouYou:1,farm_JiDan:1},Cycle:20,quicken:300},eat_SuanTangMian:{Type:0,unlock:3,material:{noodle_MianTiao:1,farming_DaCong:1,sauce_ChengCu:1},Cycle:20,quicken:300},eat_ChaoHeFen:{Type:0,unlock:4,material:{farming_DaoZi:2,bean_DouYa:1,oil_DaDouYou:1},Cycle:20,quicken:300},eat_ChongQingXiaoMian:{Type:0,unlock:5,material:{noodle_MianTiao:1,oil_LaJiaoYou:1,farming_DaBaiCai:1},Cycle:20,quicken:300},eat_YangZhouChaoFan:{Type:0,unlock:6,material:{farming_DaoZi:2,farm_JiDan:1,meat_HuoTui:1,fish_DuiXia:1},Cycle:20,quicken:300},eat_ShuiJiao:{Type:0,unlock:7,material:{farming_XiaoMai:2,farm_ZhuRou:1,farming_LuoBo:1},Cycle:20,quicken:300},eat_XiaoLongBao:{Type:0,unlock:8,material:{farming_XiaoMai:2,farm_ZhuRou:1,farming_DaCong:1},Cycle:20,quicken:300},eat_HunDun:{Type:0,unlock:9,material:{farming_XiaoMai:1,farm_ZhuRou:1,farming_DaCong:1},Cycle:20,quicken:300},eat_ZhaJiangMian:{Type:0,unlock:10,material:{noodle_MianTiao:1,farm_ZhuRou:1,bean_DouYa:1},Cycle:20,quicken:300},eat_BaBaoTianFan:{Type:0,unlock:11,material:{farming_DaoZi:2,fruit_MiZao:1,fruit_PuTaoGan:1,orchard_HeTao:1},Cycle:20,quicken:300},eat_ChunJuan:{Type:0,unlock:12,material:{farming_XiaoMai:1,bean_DouFuGan:1,farming_DaBaiCai:1},Cycle:20,quicken:300},eat_HaiXianChaoFan:{Type:0,unlock:13,material:{farming_DaoZi:2,seafood_XiaRouGan:1,farming_YangCong:1},Cycle:20,quicken:300},eat_XieHuangBao:{Type:0,unlock:14,material:{farming_XiaoMai:2,fish_DaZhaXie:1,farm_ZhuRou:1},Cycle:20,quicken:300},eat_SuanNiHuangGua:{Type:1,unlock:0,material:{farming_HuangGua:1,sauce_BaiCu:1,farming_DaSuan:1},Cycle:20,quicken:300},eat_JianJiaoPiDan:{Type:1,unlock:1,material:{egg_SongHuaDan:1,farming_LaJiao:1},Cycle:25,quicken:300},eat_LiangBanDouFuSi:{Type:1,unlock:2,material:{bean_DouFuGan:1,farming_LaJiao:1,oil_XiangYou:1},Cycle:20,quicken:300},eat_LianBanPaoCai:{Type:1,unlock:3,material:{pickle_SuanCai:1,pickle_PaoCai:1,oil_XiangYou:1},Cycle:20,quicken:300},eat_LiangBanFuZhu:{Type:1,unlock:4,material:{bean_FuZhu:1,oil_LaJiaoYou:1,farming_DaCong:1},Cycle:20,quicken:300},eat_HuoShanPiaoXue:{Type:1,unlock:5,material:{farming_XiaHongShi:2,sugar_BaiTang:1},Cycle:20,quicken:300},eat_ShuiGuoShaLa:{Type:1,unlock:6,material:{milk_SuanNai:1,orchard_PingGuo:1,orchard_TaoZi:1,orchard_ChengZi:1},Cycle:20,quicken:300},eat_LaoHuCai:{Type:1,unlock:7,material:{farming_LaJiao:2,farming_HuangGua:1,farming_DaCong:1},Cycle:20,quicken:300},eat_LaoCouHuaSheng:{Type:1,unlock:8,material:{farming_HuaSheng:2,sauce_ChengCu:1,sugar_BaiTang:1},Cycle:20,quicken:300},eat_JiaoMaJi:{Type:1,unlock:9,material:{farm_JiRou:1,farming_YangCong:1,oil_LaJiaoYou:1},Cycle:20,quicken:300},eat_LiangBanZhuTouRou:{Type:1,unlock:10,material:{farm_ZhuRou:1,farming_DaSuan:1,oil_LaJiaoYou:1},Cycle:20,quicken:300},eat_ZuiXia:{Type:1,unlock:11,material:{fish_DuiXia:2,makeWine_HuangJiu:1,farming_LaJiao:1},Cycle:20,quicken:300},eat_LuWeiPingPan:{Type:1,unlock:12,material:{sauce_ShengChou:1,bean_DouFuGan:1,meat_XiangChang:1,egg_LuDan:1},Cycle:25,quicken:300},eat_BaiTieYangRou:{Type:1,unlock:13,material:{farm_YangRou:1,farming_DaSuan:1,farming_DaCong:1},Cycle:20,quicken:300},eat_MaLaYangRou:{Type:1,unlock:14,material:{oil_LaJiaoYou:1,farm_YangRou:1},Cycle:20,quicken:300},eat_TuDouSi:{Type:2,unlock:0,material:{farming_TuDou:2,farming_LaJiao:1,sauce_BaiCu:1},Cycle:20,quicken:300},eat_MaPoDuFu:{Type:2,unlock:1,material:{bean_DouFu:2,pickle_DouBanJiang:1,farming_LaJiao:1},Cycle:20,quicken:300},eat_XiHongShiChaoJiDan:{Type:2,unlock:2,material:{farming_XiaHongShi:1,farm_JiDan:1},Cycle:20,quicken:300},eat_BaSiHongShou:{Type:2,unlock:3,material:{farming_HongShu:2,sugar_BaiTang:1},Cycle:20,quicken:300},eat_GongBaoJiDing:{Type:2,unlock:4,material:{farm_JiRou:1,farming_LaJiao:1,farming_HuaSheng:1},Cycle:20,quicken:300},eat_XiangGanChaoLaRou:{Type:2,unlock:5,material:{bean_DouFuGan:2,meat_LaRou:1},Cycle:20,quicken:300},eat_QingZhengLiYu:{Type:2,unlock:6,material:{fish_LiYu:1,farming_DaCong:1,sauce_ShengChou:1},Cycle:20,quicken:300},eat_HongShaoLiYu:{Type:2,unlock:7,material:{fish_LiYu:1,sauce_LaoChou:1},Cycle:20,quicken:300},eat_CongShaoHaiShen:{Type:2,unlock:8,material:{XY_HaiShen:2,farming_DaCong:1},Cycle:20,quicken:300},eat_XiangLaXie:{Type:2,unlock:9,material:{fish_DaZhaXie:2,farming_LaJiao:1,farming_DaCong:1},Cycle:20,quicken:300},eat_MaLaXiaoLongXia:{Type:2,unlock:10,material:{fish_XiaoLongXia:3,oil_LaJiaoYou:1},Cycle:20,quicken:300},eat_SuanRongZhengShanBei:{Type:2,unlock:11,material:{fish_ShanBei:2,farming_DaSuan:2},Cycle:20,quicken:300},eat_ShiZiTou:{Type:2,unlock:12,material:{farming_XiaoMai:1,farm_ZhuRou:1},Cycle:20,quicken:300},eat_HongShaoRou:{Type:2,unlock:13,material:{farm_ZhuRou:2,sauce_LaoChou:1,sugar_BingTang:1},Cycle:20,quicken:300},eat_TuDouShaoPaiGu:{Type:2,unlock:14,material:{farm_ZhuRou:1,farming_TuDou:1,sauce_LaoChou:1},Cycle:20,quicken:300},eat_XiHongShiJiDanTang:{Type:3,unlock:0,material:{farming_XiaHongShi:1,farm_JiDan:1},Cycle:20,quicken:300},eat_LaoZaoJiDanTang:{Type:3,unlock:1,material:{makeWine_LaoZao:1,farm_JiDan:1},Cycle:20,quicken:300},eat_BaoBaoZhou:{Type:3,unlock:2,material:{farming_DaoZi:2,orchard_HongZao:1,fruit_PuTaoGan:1,orchard_HeTao:1},Cycle:20,quicken:300},eat_SuanLaTang:{Type:3,unlock:3,material:{bean_DouFu:1,farming_DaCong:1,sauce_ChengCu:1},Cycle:20,quicken:300},eat_SanXianTang:{Type:3,unlock:4,material:{seafood_XiaRouGan:2,farming_HuLuoBo:2,farm_JiDan:1},Cycle:20,quicken:300},eat_LuoSongTang:{Type:3,unlock:5,material:{farm_ZhuRou:1,farming_HuLuoBo:1,farming_YangCong:1,farming_XiaHongShi:1},Cycle:20,quicken:300},eat_XiHuShuRouGeng:{Type:3,unlock:6,material:{farm_ZhuRou:1,bean_DouFu:1,farm_JiDan:1},Cycle:20,quicken:300},eat_YuWanTang:{Type:3,unlock:7,material:{seafood_YuWan:1,fish_DuiXia:1,farming_DaBaiCai:1},Cycle:20,quicken:300},eat_JiaYuTang:{Type:3,unlock:8,material:{fish_JiaYu:1,meat_HuoTui:1,farming_DaCong:1,XY_ChongCao:1},Cycle:20,quicken:300},eat_LiYuDouFuTang:{Type:3,unlock:9,material:{fish_JiYu:1,bean_DouFu:1},Cycle:20,quicken:300},eat_HuLuoBoPaiGuTang:{Type:3,unlock:10,material:{farming_LuoBo:1,farm_ZhuRou:1},Cycle:20,quicken:300},eat_NiuNaiDunXueHa:{Type:3,unlock:11,material:{farm_NiuNai:2,XY_XueLi:1,orchard_HongZao:1,XY_GouQi:1,sugar_BingTang:1},Cycle:20,quicken:300},eat_RenShenDunJiTang:{Type:3,unlock:12,material:{XY_RenShen:1,farm_JiRou:1,orchard_HongZao:1,XY_SongRong:1},Cycle:20,quicken:300},eat_YuChiYinErYanWoGeng:{Type:3,unlock:13,material:{XY_YinEr:1,XY_YanWu:2,XY_YuChi:1,sugar_BingTang:1},Cycle:20,quicken:300},eat_FuoTiaoQiang:{Type:3,unlock:14,material:{XY_BaoYu:1,XY_HaiShen:1,meat_HuoTui:1},Cycle:20,quicken:300}},e.rubbish_config={Waste_YuGu:{Type:0,unlock:0,Price:5},Waste_BingQiLinQianTong:{Type:0,unlock:0,Price:6},Waste_XiangJiaoPi:{Type:0,unlock:0,Price:7},Waste_JuZiPi:{Type:0,unlock:0,Price:8},Waste_PingGuoHe:{Type:0,unlock:0,Price:9},Waste_GuTou:{Type:0,unlock:0,Price:10},Waste_WeiShangZhi:{Type:1,unlock:2,Price:10},Waste_YanDi:{Type:1,unlock:2,Price:12},Waste_YiCiXingKuaiZi:{Type:1,unlock:2,Price:14},Waste_YongGuoCanJinZhi:{Type:1,unlock:2,Price:16},Waste_YiCiXingZhiBei:{Type:1,unlock:2,Price:18},Waste_FeiQiKouZhao:{Type:1,unlock:2,Price:20},Waste_YiLaGuan:{Type:2,unlock:5,Price:15},Waste_KuangQuanShuiPing:{Type:2,unlock:5,Price:18},Waste_JiuShouJi:{Type:2,unlock:5,Price:21},Waste_FeiZhi:{Type:2,unlock:5,Price:24},Waste_WanJu:{Type:2,unlock:5,Price:27},Waste_PiJiuPing:{Type:2,unlock:5,Price:30},Waste_DianChi:{Type:3,unlock:8,Price:20},Waste_QianBi:{Type:3,unlock:8,Price:24},Waste_DaHuoJi:{Type:3,unlock:8,Price:28},Waste_JiaoNang:{Type:3,unlock:8,Price:32},Waste_FeiQiYouTong:{Type:3,unlock:8,Price:36},Waste_DianDengPao:{Type:3,unlock:8,Price:40}},e}();a.BasicsConfig=i,cc._RF.pop()},{}],CommonFun:[function(e,t,a){"use strict";cc._RF.push(t,"ab3f6J5vj5IQrdFiaywHG4m","CommonFun"),Object.defineProperty(a,"__esModule",{value:!0}),a.FuncCommon=void 0;var i=function(){function e(){}return e.encode=function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("INVALID_CHARACTER_ERR");for(var a,i,n,o=0,r=[];o<t.length;){switch(i=t.charCodeAt(o),n=o%3){case 0:r.push(e.base64hash.charAt(i>>2));break;case 1:r.push(e.base64hash.charAt((3&a)<<4|i>>4));break;case 2:r.push(e.base64hash.charAt((15&a)<<2|i>>6)),r.push(e.base64hash.charAt(63&i))}a=i,o++}return 0==n?(r.push(e.base64hash.charAt((3&a)<<4)),r.push("==")):1==n&&(r.push(e.base64hash.charAt((15&a)<<2)),r.push("=")),r.join("")},e.decode=function(t){t=t.replace(/\s|=/g,"");for(var a,i,n=0,o=[];n<t.length;){switch(a=e.base64hash.indexOf(t.charAt(n)),n%4){case 0:break;case 1:o.push(String.fromCharCode(i<<2|a>>4));break;case 2:o.push(String.fromCharCode((15&i)<<4|a>>2));break;case 3:o.push(String.fromCharCode((3&i)<<6|a))}i=a,n++}return o.join("")},e.encodeString=function(t){var a,i,n,o,r,s,c,l="",h=0;for(t=e.encodeUtf8(t);h<t.length;)o=(a=t.charCodeAt(h++))>>2,r=(3&a)<<4|(i=t.charCodeAt(h++))>>4,s=(15&i)<<2|(n=t.charCodeAt(h++))>>6,c=63&n,isNaN(i)?s=c=64:isNaN(n)&&(c=64),l=l+e.base64hash.charAt(o)+e.base64hash.charAt(r)+e.base64hash.charAt(s)+e.base64hash.charAt(c);return l},e.decodeString=function(t){var a,i,n,o,r,s,c="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)a=e.base64hash.indexOf(t.charAt(l++))<<2|(o=e.base64hash.indexOf(t.charAt(l++)))>>4,i=(15&o)<<4|(r=e.base64hash.indexOf(t.charAt(l++)))>>2,n=(3&r)<<6|(s=e.base64hash.indexOf(t.charAt(l++))),c+=String.fromCharCode(a),64!=r&&(c+=String.fromCharCode(i)),64!=s&&(c+=String.fromCharCode(n));return c=e.decodeUtf8(c)},e.encodeUtf8=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},e.decodeUtf8=function(e){for(var t="",a=0,i=0,n=0,o=0;a<e.length;)(i=e.charCodeAt(a))<128?(t+=String.fromCharCode(i),a++):i>191&&i<224?(n=e.charCodeAt(a+1),t+=String.fromCharCode((31&i)<<6|63&n),a+=2):(n=e.charCodeAt(a+1),o=e.charCodeAt(a+2),t+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&o),a+=3);return t},e.base64ToBlob=function(e){if(!window||!window.atob)return null;for(var t=e.split(","),a=/image\/\w+|;/.exec(t[0])[0],i=window.atob(t[1]),n=new ArrayBuffer(i.length),o=new Uint8Array(n),r=0;r<i.length;r++)o[r]=255&i.charCodeAt(r);return new Blob([o],{type:a})},e.base64hash="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}();a.default=i;var n=function(){function e(){}return e.setStorage=function(e,t){void 0!==e&&null!==e&&""!==e?void 0!==t&&null!==t&&""!==t?cc.sys.localStorage.setItem(i.encodeString(JSON.stringify(e+"_LaoWangHappy")),i.encodeString(JSON.stringify(t))):cc.log("\u6240\u50a8\u5b58\u6570\u636e \u6709\u8bef \u8bf7\u4ed4\u7ec6\u68c0\u67e5 = >"+t):cc.log("key\u6709\u8bef \u8bf7\u4ed4\u7ec6\u68c0\u67e5 = >"+e)},e.getStorage=function(t,a){var n=cc.sys.localStorage.getItem(i.encodeString(JSON.stringify(t+"_LaoWangHappy")));return null===n||""===n?(e.setStorage(t,a),a):JSON.parse(i.decodeString(n))},e.remove=function(e){cc.sys.localStorage.removeItem(i.encodeString(JSON.stringify(e+"_LaoWangHappy")))},e.formatFloatShort=function(e){for(var t="",a=0,i=["\u4e07","\u4ebf","\u4e07\u4ebf","\u5146","\u4e07\u5146","\u4eac","\u4e07\u4eac","\u5793","\u4e07\u5793","\u79ed","\u4e07\u79ed","\u7a70","\u4e07\u7a70","\u6c9f","\u4e07\u6c9f","\u6da7","\u4e07\u6da7","\u6b63","\u4e07\u6b63","\u8f7d","\u4e07\u8f7d","\u6781","\u4e07\u6781","\u6052\u6cb3\u6c99","\u4e07\u6052\u6cb3\u6c99","\u963f\u50e7\u7947","\u4e07\u963f\u50e7\u7947","\u90a3\u7531\u4ed6","\u4e07\u90a3\u7531\u4ed6","\u4e0d\u53ef\u601d\u8bae","\u4e07\u4e0d\u53ef\u601d\u8bae","\u65e0\u91cf\u6570\u51c0","\u4e07\u65e0\u91cf\u6570\u51c0","\u6e05","\u4e07\u6e05","\u7a7a","\u4e07\u7a7a","\u865a","\u4e07\u865a"];e>=1e4;)e/=1e4,t=i[a],a++;return this.Funcformat_2(e)+t},e.Funcformat_2=function(e){return(e?new Number(e).toFixed(2)+"":"0.00").toString().replace(/\d+/,function(e){return e.replace(/(\d)(?=(\d{3})+$)/g,function(e){return e+","})})},e.Funcformat_0=function(e){return(e?new Number(e).toFixed(0)+"":"0").toString().replace(/\d+/,function(e){return e.replace(/(\d)(?=(\d{3})+$)/g,function(e){return e+","})})},e.Func_formatString=function(e,t){for(var a=0;a<t.length;a++)e=e.replace("%s",t[a]);return e},e.Func_Array_shuffle=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[a],e[a]=i}return e},e.formatTime1=function(e){var t=e/1e3,a=Math.floor(t/60).toString(),i=Math.floor(t%60).toString();return Number(a)<10&&(a="0"+a),Number(i)<10&&(i="0"+i),this.Func_formatString("%s:%s",[a,i])},e.formatTime2=function(e){var t=e/1e3,a=Math.floor(t/86400),i=t%86400,n=Math.floor(i/3600);i%=3600;var o=Math.floor(i/60),r=Math.floor(i%60);return t>=86400?this.Func_formatString("%s\u5929%s\u5c0f\u65f6%s\u5206%s\u79d2",[a,n,o,r]):t>=3600?this.Func_formatString("%s\u5c0f\u65f6%s\u5206%s\u79d2",[n,o,r]):t>=60?this.Func_formatString("%s\u5206%s\u79d2",[o,r]):this.Func_formatString("%s\u79d2",[r])},e.dateFormat=function(e){var t="YYYY-:mm-:dd-  HH:MM:SS",a=[],i={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var n in i)(a=new RegExp("("+n+")").exec(t))&&(t=t.replace(a[1],1==a[1].length?i[n]:i[n].padStart(a[1].length,"0")));return t},e.isWeekend=function(e){var t=new Date(e);return 6==t.getDay()||0==t.getDay()},e.leapyear=function(e){return e%100==0?e%400==0:e%4==0},e.dayOfWeek=function(e){var t="";switch(new Date(e).getDay()){case 0:t="\u661f\u671f\u65e5";break;case 1:t="\u661f\u671f\u4e00";break;case 2:t="\u661f\u671f\u4e8c";break;case 3:t="\u661f\u671f\u4e09";break;case 4:t="\u661f\u671f\u56db";break;case 5:t="\u661f\u671f\u4e94";break;case 6:t="\u661f\u671f\u516d"}return t},e.isSameDay=function(e,t){if(0==e||0==t)return!1;var a=new Date(e),i=a.getFullYear(),n=a.getMonth(),o=a.getDate(),r=new Date(t),s=r.getFullYear(),c=r.getMonth(),l=r.getDate();return i==s&&n==c&&o==l},e.isContinueDay=function(e,t){if(0==e||0==t)return!1;var a=new Date(e),i=a.getFullYear(),n=a.getMonth()+1,o=a.getDate(),r=new Date(t),s=r.getFullYear(),c=r.getMonth()+1,l=r.getDate();if(i==s&&n==c)return l-o==1;if(i==s&&c-n==1){if(1==n||3==n||5==n||7==n||8==n||10==n||12==n)return 31==o&&1==l;if(4==n||6==n||9==n||11==n)return 30==o&&1==l;if(2==n)return this.leapyear(i)?29==o&&1==l:28==o&&1==l}else if(s-i==1)return 12==n&&31==o&&1==l&&1==l;return!1},e.random=function(e,t){var a=this.randomSeed,i=(e=e||0)+(9301*a+49297)%233280/233280*((t=t||1)-e);return this.randomSeed=Math.floor(1+(9301*a+49297)%233280/233280*9999),Math.round(i)},e.probability=function(e,t){return this.random(1,t)<=e},e.GetRandNum=function(e,t){var a=t-e+1;return e+Math.floor(Math.random()*a)},e.randomString=function(e){var t="ABCDEFGHIGKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz9876543210",a="",i=0,n=t.length;for(i=0;i<e;i++)a+=t.charAt(Math.floor(Math.random()*n));return a},e.randomSeed=(new Date).getTime(),e}();a.FuncCommon=n,cc._RF.pop()},{}],DMA_Canteen:[function(e,t,a){"use strict";cc._RF.push(t,"557770T6cBIc6rwe2RL1eQ4","DMA_Canteen"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_Canteen=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Canteen_Data={price:0,profit:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initCanteen=function(){this.Canteen_Data=n.FuncCommon.getStorage("Canteen_Data",{profit:0,price:50,data:[{lattices:20,capacity:20,details:[{},{},{}]},{lattices:20,capacity:20,details:[{},{},{}]},{lattices:20,capacity:20,details:[{},{},{}]},{lattices:20,capacity:20,details:[{},{},{}]}]}),cc.log("%c \u5c0f\u5356\u90e8 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Canteen_Data)},e.prototype.upCanteen=function(){if(-1==o.GameData.instance.MasterData.transitStationLevel)return 5;var e=o.GameData.instance.MasterData.CanteenLevel+1;if(e>=r.RoomConfig.Canteen_config.length)return 1;if(o.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.Canteen_config[e].unlock)return 2;var t=r.RoomConfig.Canteen_config[e].Price;if(o.GameData.instance.MasterData.GameCash<t)return 3;var a=r.RoomConfig.Canteen_config[e].material;for(var i in a)if(a[i]>c.DMA_StorageRoom.instance.ViewItemNumber(i))return 4;for(var i in a)c.DMA_StorageRoom.instance.ModifyNum(i,0-a[i]);return o.GameData.instance.setGameCash(0-t),o.GameData.instance.MasterData.CanteenLevel+=1,n.FuncCommon.setStorage("MasterData",o.GameData.instance.MasterData),h.DMC_Task.instance.addTaskThread("canteen"),s.default.postEvent2("stall_level",o.GameData.instance.MasterData.CanteenLevel+1),0},e.prototype.Buylattices=function(e){if(this.Canteen_Data.data[e].details.length<20){var t=this.Canteen_Data.price;return o.GameData.instance.MasterData.GameGem<t?1:(o.GameData.instance.setGameGem(0-t),this.Canteen_Data.data[e].details.push({}),n.FuncCommon.setStorage("Canteen_Data",this.Canteen_Data),0)}},e.prototype.GoodsShelves=function(e,t,a){var i=c.DMA_StorageRoom.instance.ViewItemNumber(a);if(i<=0)return 2;if(t>=this.Canteen_Data.data[e].details.length)return 2;if("{}"==JSON.stringify(this.Canteen_Data.data[e].details[t]))return i>=20?(this.Canteen_Data.data[e].details[t][a]=20,c.DMA_StorageRoom.instance.ModifyNum(a,-20)):(this.Canteen_Data.data[e].details[t][a]=i,c.DMA_StorageRoom.instance.ModifyNum(a,0-i)),n.FuncCommon.setStorage("Canteen_Data",this.Canteen_Data),0;if(1==this.Canteen_Data.data[e].details[t].hasOwnProperty(a)){var o=20-this.Canteen_Data.data[e].details[t][a];return i>=o?(this.Canteen_Data.data[e].details[t][a]+=o,c.DMA_StorageRoom.instance.ModifyNum(a,0-o)):(this.Canteen_Data.data[e].details[t][a]+=i,c.DMA_StorageRoom.instance.ModifyNum(a,0-i)),n.FuncCommon.setStorage("Canteen_Data",this.Canteen_Data),0}return 1},e.prototype.OrderEstablish=function(e){for(var t=[0,1,2,3],a=[],s=t.length,c=0;c<s;c++)for(var d=this.Canteen_Data.data[t[c]].details.length,_=0;_<d;_++)"{}"!=JSON.stringify(this.Canteen_Data.data[t[c]].details[_])&&a.push(this.Canteen_Data.data[t[c]].details[_]);var m=a.length;if(0==m)return{code:0,id:[]};a=n.FuncCommon.Func_Array_shuffle(a);var u=o.GameData.instance.MasterData.CanteenLevel,g=r.RoomConfig.Canteen_config[u].num,p=[],f=Math.min(m,g);for(c=0;c<f;c++)for(var C in a[c])p[c]=C,1==o.GameData.instance.foodPrice.hasOwnProperty(C)?this.Canteen_Data.profit+=o.GameData.instance.foodPrice[C]*o.GameData.instance.basePrice_Canteen:cc.log(C,"\u4ef7\u683c\u4e0d\u5b58\u5728"),a[c][C]-=1,a[c][C]<=0&&(a[c][C]=0,delete a[c][C]);return n.FuncCommon.setStorage("Canteen_Data",this.Canteen_Data),h.DMC_Task.instance.addTaskBranchLine("canteen",1),h.DMC_Task.instance.addTaskEveryDay("canteen",1),l.DMC_Achievement.instance.progressAddAchievement("canteen",1),i.UI_Events.instance.emitEvents("CanteenPre_Tips"),{code:1,id:p}},e.prototype.GainCanteenIncome=function(e){return void 0===e&&(e=1),this.Canteen_Data.profit<=0?1:(o.GameData.instance.setGameCash(this.Canteen_Data.profit*e),this.Canteen_Data.profit=0,n.FuncCommon.setStorage("Canteen_Data",this.Canteen_Data),0)},e}();a.DMA_Canteen=d,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_DeliverGoods:[function(e,t,a){"use strict";cc._RF.push(t,"6a3beTflLZEaYo5fNGUW7ZK","DMA_DeliverGoods"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_DeliverGoods=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initDeliverGoods=function(){this.DeliverGoods_Data=n.FuncCommon.getStorage("DeliverGoods_Data",{endTime:-1,data:[]}),cc.log("%c \u7269\u6d41\u4e2d\u5fc3 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.DeliverGoods_Data)},e.prototype.generateDeliverGoodsOrder=function(){var e=o.GameData.instance.MasterData.deliverGoodsLevel;-1==e&&(e=0);var t={id:"",num:0,isload:!1,TotalPrice:0},a=1+r.RoomConfig.deliverGoods_config[e].Income/100,s=n.FuncCommon.Func_Array_shuffle(o.GameData.instance.unlockItem),c=n.FuncCommon.GetRandNum(3,5);return t.id=s[0],t.num=c,t.isload=!1,t.TotalPrice=o.GameData.instance.foodPrice[s[0]]*c*a*o.GameData.instance.basePrice_deliverGoods1,i.UI_Events.instance.emitEvents("DeliverGoods_HongDianTips"),t},e.prototype.UpBuyDeliverGoods=function(){var e=o.GameData.instance.MasterData.deliverGoodsLevel+1;if(e>=r.RoomConfig.deliverGoods_config.length)return 1;if(o.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.deliverGoods_config[e].unlock)return 2;var t=r.RoomConfig.deliverGoods_config[e].Price;if(o.GameData.instance.MasterData.GameCash<t)return 3;var a=r.RoomConfig.deliverGoods_config[e].material;for(var i in a)if(a[i]>c.DMA_StorageRoom.instance.ViewItemNumber(i))return 4;for(var i in a)c.DMA_StorageRoom.instance.ModifyNum(i,0-a[i]);o.GameData.instance.setGameCash(0-t);for(var l=this.DeliverGoods_Data.data.length,d=1+r.RoomConfig.deliverGoods_config[e].Income/100,_=0;_<l;_++){for(var m=0,u=0;u<3;u++){var g=this.DeliverGoods_Data.data[_].order[u].id,p=this.DeliverGoods_Data.data[_].order[u].num,f=o.GameData.instance.foodPrice[g]*p*d*o.GameData.instance.basePrice_deliverGoods1;this.DeliverGoods_Data.data[_].order[u].TotalPrice=f,m+=f}this.DeliverGoods_Data.data[_].reward=m}var C=r.RoomConfig.deliverGoods_config[e].Num;if(C>l)for(_=l;_<C;_++){var y=this.generateDeliverGoodsOrder(),D=this.generateDeliverGoodsOrder(),v=this.generateDeliverGoodsOrder();m=(y.TotalPrice+D.TotalPrice+v.TotalPrice)*o.GameData.instance.basePrice_deliverGoods2;this.DeliverGoods_Data.data[_]={state:0,progress:0,reward:m,order:[y,D,v]}}return o.GameData.instance.MasterData.deliverGoodsLevel+=1,n.FuncCommon.setStorage("MasterData",o.GameData.instance.MasterData),n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),h.DMC_Task.instance.addTaskThread("deliverGoods"),s.default.postEvent2("bridge_level",o.GameData.instance.MasterData.deliverGoodsLevel+1),0},e.prototype.RefreshDeliverGoodsOrder=function(e,t,a){if(1==e){if(o.GameData.instance.MasterData.GameGem<2)return 1;o.GameData.instance.setGameGem(-2)}this.DeliverGoods_Data.data[t].order[a]=this.generateDeliverGoodsOrder();for(var i=0,r=0;r<3;r++)i+=this.DeliverGoods_Data.data[t].order[r].TotalPrice;return this.DeliverGoods_Data.data[t].state=0,this.DeliverGoods_Data.data[t].progress=0,this.DeliverGoods_Data.data[t].reward=i,n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),0},e.prototype.LoadDeliverGoodsOrder=function(e,t){var a=this.DeliverGoods_Data.data[e].order[t].num,r=this.DeliverGoods_Data.data[e].order[t].id;return a>c.DMA_StorageRoom.instance.ViewItemNumber(r)?1:(c.DMA_StorageRoom.instance.ModifyNum(r,0-a),o.GameData.instance.setGameCash(this.DeliverGoods_Data.data[e].order[t].TotalPrice),this.DeliverGoods_Data.data[e].order[t].isload=!0,this.DeliverGoods_Data.data[e].progress+=1,n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),i.UI_Events.instance.emitEvents("DeliverGoods_HongDianTips"),0)},e.prototype.orderOneRevenue=function(e,t){return void 0===t&&(t=1),3!=this.DeliverGoods_Data.data[e].progress?1:(o.GameData.instance.setGameCash(this.DeliverGoods_Data.data[e].reward*t),this.DeliverGoods_Data.data[e].state=1,n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),i.UI_Events.instance.emitEvents("DeliverGoods_HongDianTips"),0)},e.prototype.isRevenue=function(e){return 3==this.DeliverGoods_Data.data[e].progress},e.prototype.transportStart=function(e){void 0===e&&(e=!1);var t=o.GameData.instance.MasterData.deliverGoodsLevel;if(!(t<0)){for(var a=r.RoomConfig.deliverGoods_config[t].Num,i=0,s=0;s<a;s++){i+=this.DeliverGoods_Data.data[s].reward;var c=this.generateDeliverGoodsOrder(),d=this.generateDeliverGoodsOrder(),_=this.generateDeliverGoodsOrder(),m=(c.TotalPrice+d.TotalPrice+_.TotalPrice)*o.GameData.instance.basePrice_deliverGoods2;this.DeliverGoods_Data.data[s]={state:0,progress:0,reward:m,order:[c,d,_]}}this.DeliverGoods_Data.endTime=o.GameData.instance.TimeServer+1e3*r.RoomConfig.deliverGoods_config[t].Cycle,1==e&&o.GameData.instance.setGameCash(i),n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),h.DMC_Task.instance.addTaskBranchLine("freight",1),h.DMC_Task.instance.addTaskEveryDay("freight",1),l.DMC_Achievement.instance.progressAddAchievement("freight",1)}},e.prototype.transportFast=function(e){if(1==e){if(o.GameData.instance.MasterData.GameGem<5)return 1;o.GameData.instance.setGameGem(-5)}return this.DeliverGoods_Data.endTime=-1,n.FuncCommon.setStorage("DeliverGoods_Data",this.DeliverGoods_Data),i.UI_Events.instance.emitEvents("DeliverGoods_HongDianTips"),0},e.prototype.isAvailable=function(){for(var e=this.DeliverGoods_Data.data.length,t=0;t<e;t++){var a=this.DeliverGoods_Data.data[t].order.length;if(this.DeliverGoods_Data.data[t].progress>=a&&0==this.DeliverGoods_Data.data[t].state)return!0}return!1},e.prototype.isLoadAll=function(){for(var e=this.DeliverGoods_Data.data.length,t=0;t<e;t++)for(var a=this.DeliverGoods_Data.data[t].order.length,i=0;i<a;i++)if(0==this.DeliverGoods_Data.data[t].order[i].isload)return!1;return!0},e.prototype.isLoadable=function(){for(var e=this.DeliverGoods_Data.data.length,t=0;t<e;t++)for(var a=this.DeliverGoods_Data.data[t].order.length,i=0;i<a;i++)if(0==this.DeliverGoods_Data.data[t].order[i].isload&&c.DMA_StorageRoom.instance.ViewItemNumber(this.DeliverGoods_Data.data[t].order[i].id)>=this.DeliverGoods_Data.data[t].order[i].num)return!0;return!1},e.prototype.DeliverGoods_ViewItemNum=function(e){var t=0;if(-1!=this.DeliverGoods_Data.endTime)for(var a=this.DeliverGoods_Data.data.length,i=0;i<a;i++)for(var n=this.DeliverGoods_Data.data[i].order.length,o=0;o<n;o++)0==this.DeliverGoods_Data.data[i].order[o].isload&&this.DeliverGoods_Data.data[i].order[o].id==e&&(t+=this.DeliverGoods_Data.data[i].order[o].num);return t},e}();a.DMA_DeliverGoods=d,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_FreightStation:[function(e,t,a){"use strict";cc._RF.push(t,"eeecamXF8RH4bhzpai9SqM6","DMA_FreightStation"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_FreightStation=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.FreightStation_Data=[],this.FreightCar_Data={own:[],Data:{state:0,endTime:0,count:0,maxNum:0,profit:0}},this.FreightStationOrderRatio=[2.5,2.4,2.3,2.2,2.1,2,1.9,1.8,1.7,1.6,1.5,1.4,1.3,1.2,1.1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initFreightStation=function(){for(var e=o.GameData.instance.MasterData.FreightStationLevel,t=r.RoomConfig.freightStation_config[e].Num,a=0;a<t;a++)if(0==a){var i=r.RoomConfig.freightStation_config[o.GameData.instance.MasterData.FreightStationLevel].Income/100;this.FreightStation_Data[a]={endTime:-1,profit:(2*o.GameData.instance.foodPrice.noodle_ManTou+o.GameData.instance.foodPrice.noodle_HuaJuan)*(1+i)*o.GameData.instance.basePrice_FreightStation*this.FreightStationOrderRatio[o.GameData.instance.MasterData.MainRoomLevel],Data:[{id:"noodle_ManTou",num:2},{id:"noodle_HuaJuan",num:1}]}}else{var s=this.generateFreightStationOrder();this.FreightStation_Data[a]={endTime:-1,profit:s.profit,Data:s.orderArr}}this.FreightCar_Data={own:[],Data:{state:0,endTime:o.GameData.instance.TimeServer,count:0,maxNum:r.RoomConfig.freightStationCar_config[0].capacity,profit:0}};var c=r.RoomConfig.freightStationCar_config.length;for(a=0;a<c;a++)this.FreightCar_Data.own[a]=0==a?1:-1;this.FreightStation_Data=n.FuncCommon.getStorage("FreightStation_Data",this.FreightStation_Data),this.FreightCar_Data=n.FuncCommon.getStorage("FreightCar_Data",this.FreightCar_Data),cc.log("%c \u8d27\u8fd0\u7ad9 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.FreightStation_Data),cc.log("%c \u8d27\u8fd0\u8f66 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.FreightCar_Data)},e.prototype.generateFreightStationOrder=function(){for(var e=[],t=0,a=r.RoomConfig.freightStation_config[o.GameData.instance.MasterData.FreightStationLevel].Income/100,s=n.FuncCommon.GetRandNum(2,4),c=o.GameData.instance.unlockItem.length,l=n.FuncCommon.Func_Array_shuffle(o.GameData.instance.unlockItem),h=Math.min(s,c),d=0;d<h;d++){var _=n.FuncCommon.GetRandNum(2,5);e[d]={id:l[d],num:_},t+=o.GameData.instance.foodPrice[l[d]]*_*(1+a)*o.GameData.instance.basePrice_FreightStation*this.FreightStationOrderRatio[o.GameData.instance.MasterData.MainRoomLevel]}return i.UI_Events.instance.emitEvents("FreightStation_HongDianTips"),{profit:t,orderArr:e}},e.prototype.FreightStation_ViewItemNum=function(e){for(var t=0,a=o.GameData.instance.MasterData.FreightStationLevel,i=r.RoomConfig.freightStation_config[a].Num,n=0;n<i;n++)if(-1==this.FreightStation_Data[n].endTime)for(var s=this.FreightStation_Data[n].Data.length,c=0;c<s;c++)this.FreightStation_Data[n].Data[c].id==e&&(t+=this.FreightStation_Data[n].Data[c].num);return t},e.prototype.FreightStation_order_issatisfy=function(){for(var e=o.GameData.instance.MasterData.FreightStationLevel,t=r.RoomConfig.freightStation_config[e].Num,a=0;a<t;a++)if(-1==this.FreightStation_Data[a].endTime){for(var i=0,n=this.FreightStation_Data[a].Data.length,s=0;s<n;s++)c.DMA_StorageRoom.instance.ViewItemNumber(this.FreightStation_Data[a].Data[s].id)>=this.FreightStation_Data[a].Data[s].num&&i++;if(i>=n)return!0}return!1},e.prototype.deleteFreightStationOrder=function(e){var t=o.GameData.instance.MasterData.FreightStationLevel,a=1e3*r.RoomConfig.freightStation_config[t].Cycle,i=this.generateFreightStationOrder();this.FreightStation_Data[e]={endTime:o.GameData.instance.TimeServer+a,profit:i.profit,Data:i.orderArr},n.FuncCommon.setStorage("FreightStation_Data",this.FreightStation_Data)},e.prototype.FastFreightStationOrder=function(e,t){if(1==t){if(o.GameData.instance.MasterData.GameGem<1)return 1;o.GameData.instance.setGameGem(-1)}return this.FreightStation_Data[e].endTime=-1,n.FuncCommon.setStorage("FreightStation_Data",this.FreightStation_Data),i.UI_Events.instance.emitEvents("FreightStation_HongDianTips"),0},e.prototype.loadFreightStationOrder=function(e){if(2==this.FreightCar_Data.Data.state)return 1;if(3==this.FreightCar_Data.Data.state)return 2;for(var t=this.FreightCar_Data.Data.count,a=this.FreightCar_Data.Data.maxNum,i=0,o=this.FreightStation_Data[e].Data.length,r=0;r<o;r++)if(i+=this.FreightStation_Data[e].Data[r].num,this.FreightStation_Data[e].Data[r].num>c.DMA_StorageRoom.instance.ViewItemNumber(this.FreightStation_Data[e].Data[r].id))return 3;if(i>a-t)return 4;for(r=0;r<o;r++)c.DMA_StorageRoom.instance.ModifyNum(this.FreightStation_Data[e].Data[r].id,0-this.FreightStation_Data[e].Data[r].num);return this.FreightCar_Data.Data.state=1,this.FreightCar_Data.Data.count+=i,this.FreightCar_Data.Data.profit+=this.FreightStation_Data[e].profit,this.deleteFreightStationOrder(e),n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),0},e.prototype.startDelivery=function(){if(0==this.FreightCar_Data.Data.state)return 1;var e=this.FreightCar_Data.own.indexOf(1);if(this.FreightCar_Data.Data.state=2,this.FreightCar_Data.Data.count=0,1==o.GameData.instance.IsGuidePattern)this.FreightCar_Data.Data.endTime=o.GameData.instance.TimeServer+2e3;else{var t=1e3*r.RoomConfig.freightStationCar_config[e].Cycle;this.FreightCar_Data.Data.endTime=o.GameData.instance.TimeServer+t}return n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),h.DMC_Task.instance.addTaskBranchLine("delivery",1),h.DMC_Task.instance.addTaskEveryDay("delivery",1),l.DMC_Achievement.instance.progressAddAchievement("delivery",1),0},e.prototype.FastDelivery=function(e){if(void 0===e&&(e=0),1==e){if(o.GameData.instance.MasterData.GameGem<2)return 1;o.GameData.instance.setGameGem(-2)}return this.FreightCar_Data.Data.state=3,this.FreightCar_Data.Data.endTime=o.GameData.instance.TimeServer,n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),i.UI_Events.instance.emitEvents("FreightStation_HongDianTips"),0},e.prototype.receiveDeliveryProfit=function(t){void 0===t&&(t=1),o.GameData.instance.setGameCash(this.FreightCar_Data.Data.profit*t);var a=e.instance.FreightCar_Data.own.indexOf(1),s=r.RoomConfig.freightStationCar_config[a].material;for(var l in s)c.DMA_StorageRoom.instance.ModifyNum(l,s[l]*t);this.FreightCar_Data.Data.state=0,this.FreightCar_Data.Data.profit=0,this.FreightCar_Data.Data.count=0,this.FreightCar_Data.Data.endTime=-1,n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),i.UI_Events.instance.emitEvents("FreightStation_HongDianTips")},e.prototype.UpFreightStation=function(){var e=o.GameData.instance.MasterData.FreightStationLevel;if(e>=r.RoomConfig.freightStation_config.length-1)return 1;if(o.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.freightStation_config[e].unlock)return 4;var t=r.RoomConfig.freightStation_config[e+1].Price;if(o.GameData.instance.MasterData.GameCash<t)return 2;var a=r.RoomConfig.freightStation_config[o.GameData.instance.MasterData.FreightStationLevel+1].material;for(var i in a)if(a[i]>c.DMA_StorageRoom.instance.ViewItemNumber(i))return 3;for(var i in a)c.DMA_StorageRoom.instance.ModifyNum(i,0-a[i]);o.GameData.instance.setGameCash(0-t);var l=r.RoomConfig.freightStation_config[e].Num;if(r.RoomConfig.freightStation_config[e+1].Num>l){var d=1e3*r.RoomConfig.freightStation_config[e+1].Cycle,_=this.generateFreightStationOrder();this.FreightStation_Data.push({endTime:o.GameData.instance.TimeServer+d,profit:_.profit,Data:_.orderArr})}return n.FuncCommon.setStorage("FreightStation_Data",this.FreightStation_Data),o.GameData.instance.MasterData.FreightStationLevel+=1,n.FuncCommon.setStorage("MasterData",o.GameData.instance.MasterData),h.DMC_Task.instance.addTaskThread("freightStation"),s.default.postEvent2("trestle_level",o.GameData.instance.MasterData.FreightStationLevel+1),0},e.prototype.buyDeliveryCar=function(e){var t=r.RoomConfig.freightStationCar_config[e].Price;if(o.GameData.instance.MasterData.GameCash<t)return 1;if(o.GameData.instance.setGameCash(0-t),0==this.FreightCar_Data.Data.state){var a=this.FreightCar_Data.own.indexOf(1);this.FreightCar_Data.own[a]=0,this.FreightCar_Data.own[e]=1,this.FreightCar_Data.Data.maxNum=r.RoomConfig.freightStationCar_config[e].capacity}else this.FreightCar_Data.own[e]=0;return n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),0},e.prototype.replaceDeliveryCar=function(e){if(1==this.FreightCar_Data.Data.state)return 1;if(2==this.FreightCar_Data.Data.state)return 2;if(3==this.FreightCar_Data.Data.state)return 3;var t=this.FreightCar_Data.own.indexOf(1);return this.FreightCar_Data.own[t]=0,this.FreightCar_Data.own[e]=1,this.FreightCar_Data.Data.maxNum=r.RoomConfig.freightStationCar_config[e].capacity,n.FuncCommon.setStorage("FreightCar_Data",this.FreightCar_Data),0},e}();a.DMA_FreightStation=d,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_GoOut:[function(e,t,a){"use strict";cc._RF.push(t,"034b98/tddGVpURVVVGrnm2","DMA_GoOut"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_GoOut=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("./DMA_StorageRoom"),c=e("./DMC_Achievement"),l=function(){function e(){this.UnlockedItem={rare:[],stationery:[],food:[],life:[]},this.GoOut_DSata={car:[],sell:[],get:{Mounted:0,capacity:0,rare:{},other:{}}}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initGoOut=function(){if(this.GoOut_DSata=i.FuncCommon.getStorage("GoOut_DSata",this.GoOut_DSata),0==this.GoOut_DSata.sell.length){for(var e=r.RoomConfig.goOutCar_config.length,t=0;t<e;t++)this.GoOut_DSata.car[t]=0==t?1:-1;this.GoOut_DSata.sell=this.GenerateSellGoods(),this.GoOut_DSata.get.Mounted=0,this.GoOut_DSata.get.capacity=r.RoomConfig.goOutCar_config[0].capacity,this.GoOut_DSata.get.rare={},this.GoOut_DSata.get.other={},i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata)}cc.log("%c \u5916\u51fa \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.GoOut_DSata),this.UnlockedGoods()},e.prototype.BuyCar=function(e){if(e>=r.RoomConfig.goOutCar_config.length)return 1;var t=this.GoOut_DSata.car.indexOf(1);if(e==t)return 2;var a=r.RoomConfig.goOutCar_config[e].Price;return n.GameData.instance.MasterData.GameCash<a?3:n.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.goOutCar_config[e].unlock?4:(n.GameData.instance.setGameCash(0-a),e>t?(this.GoOut_DSata.car[t]=0,this.GoOut_DSata.car[e]=1,this.GoOut_DSata.get.capacity=r.RoomConfig.goOutCar_config[e].capacity):this.GoOut_DSata.car[e]=0,i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata),0)},e.prototype.replaceCar=function(e){if(0!=this.GoOut_DSata.get.Mounted)return 1;if(-1==this.GoOut_DSata.car[e])return 2;var t=this.GoOut_DSata.car.indexOf(1);return this.GoOut_DSata.car[t]=0,this.GoOut_DSata.car[e]=1,this.GoOut_DSata.get.capacity=r.RoomConfig.goOutCar_config[e].capacity,i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata),0},e.prototype.GenerateSellGoods=function(){for(var e=i.FuncCommon.Func_Array_shuffle(n.GameData.instance.unlockItem),t=[],a=0;a<4;a++)t[a]={},t[a][e[a]]=i.FuncCommon.GetRandNum(10,15);return t},e.prototype.RefreshSellGoods=function(e){if(void 0===e&&(e=0),1==e){if(n.GameData.instance.MasterData.GameGem<5)return 1;n.GameData.instance.setGameGem(-5)}return this.GoOut_DSata.sell=this.GenerateSellGoods(),i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata),0},e.prototype.BuildEventType=function(){var e=[];n.GameData.instance.MasterData.MainRoomLevel>=8&&(e=[0,0,3,3,4,4,4]),n.GameData.instance.MasterData.MainRoomLevel>=14&&(e=[0,0,1,1,3,3,3,4,4,4]),n.GameData.instance.MasterData.MainRoomLevel>=20&&(e=[0,0,1,1,2,2,3,3,3,4,4,4]);var t=null,a=0,i=function(e){for(var i=[],n=0;n<e.length;n++)e[n]!==t&&i.push(e[n]);return 100*Math.random()<=50?o(i):2===++a?o(i):-1},o=function(e){var i=Math.floor(100*Math.random())%e.length;return t=e[i],a=0,t},r=function(e,n){t=null,a=0;for(var o=[],r=0;r<n;r++)o.push(i(e));return o[n-1]=-1,o[0]=-1,o}(e,14);return cc.log("\u4e8b\u4ef6\u7c7b\u578b",r),r},e.prototype.UnlockedGoods=function(){for(var e=n.GameData.instance.stall_sortItem.stationery,t=n.GameData.instance.stall_sortItem.food,a=n.GameData.instance.stall_sortItem.life,i=n.GameData.instance.sortItem.rare,r=0;r<e.length;r++){var s=e[r];n.GameData.instance.MasterData.MainRoomLevel>=o.BasicsConfig.Item_config[s].unlock&&-1==this.UnlockedItem.stationery.indexOf(s)&&this.UnlockedItem.stationery.push(s)}for(r=0;r<t.length;r++){s=t[r];n.GameData.instance.MasterData.MainRoomLevel>=o.BasicsConfig.Item_config[s].unlock&&-1==this.UnlockedItem.food.indexOf(s)&&this.UnlockedItem.food.push(s)}for(r=0;r<a.length;r++){s=a[r];n.GameData.instance.MasterData.MainRoomLevel>=o.BasicsConfig.Item_config[s].unlock&&-1==this.UnlockedItem.life.indexOf(s)&&this.UnlockedItem.life.push(s)}for(r=0;r<i.length;r++){s=i[r];n.GameData.instance.MasterData.MainRoomLevel>=o.BasicsConfig.Item_config[s].unlock&&-1==this.UnlockedItem.rare.indexOf(s)&&this.UnlockedItem.rare.push(s)}cc.log("%c \u5df2\u89e3\u9501 \u5916\u51fa\u53ca\u5c0f\u5356\u90e8 \u7269\u54c1","font-size : 12px ; color : #8FDC67 ;",this.UnlockedItem)},e.prototype.createGoOutBuyGoods=function(e){var t={data:[],profit:0};if(4==e){for(var a=this.GoOut_DSata.car.indexOf(1),s=r.RoomConfig.goOutCar_config[a].Income,c=i.FuncCommon.Func_Array_shuffle(this.GoOut_DSata.sell),l=i.FuncCommon.GetRandNum(2,4),h=0;h<l;h++){t.data[h]={};var d=i.FuncCommon.GetRandNum(2,4);for(var _ in c[h])t.data[h][_]=d,t.profit+=n.GameData.instance.foodPrice[_]*d*(1+s)}return t}c=[];0==e?c=i.FuncCommon.Func_Array_shuffle(this.UnlockedItem.stationery):1==e?c=i.FuncCommon.Func_Array_shuffle(this.UnlockedItem.food):2==e?c=i.FuncCommon.Func_Array_shuffle(this.UnlockedItem.life):3==e&&(c=i.FuncCommon.Func_Array_shuffle(this.UnlockedItem.rare));for(h=0;h<4;h++){t.data[h]={};d=i.FuncCommon.GetRandNum(3,8);3==e&&(d=1),t.data[h][c[h]]=d,t.profit+=o.BasicsConfig.Item_config[c[h]].seedPrice*d}return t},e.prototype.SaleOrPurchase=function(e,t,a){if(void 0===a&&(a=1),4==t){for(var o=e.data.length,r=0;r<o;r++)for(var l in e.data[r]){var h=s.DMA_StorageRoom.instance.ViewItemNumber(l);if(e.data[r][l]>h)return 2}for(r=0;r<o;r++)for(var l in e.data[r])s.DMA_StorageRoom.instance.ModifyNum(l,0-e.data[r][l]);return n.GameData.instance.setGameCash(e.profit*a),c.DMC_Achievement.instance.progressAddAchievement("sell",1),0}h=this.GoOut_DSata.get.capacity-this.GoOut_DSata.get.Mounted;var d=0;for(o=e.data.length,r=0;r<o;r++)for(var l in e.data[r])d+=e.data[r][l];if(d>h)return 1;if(n.GameData.instance.MasterData.GameCash<e.profit)return 3;for(r=0;r<o;r++)if(3==t){for(var l in e.data[r])1==this.GoOut_DSata.get.rare.hasOwnProperty(l)?this.GoOut_DSata.get.rare[l]+=e.data[r][l]:this.GoOut_DSata.get.rare[l]=e.data[r][l];c.DMC_Achievement.instance.progressAddAchievement("buy",1)}else{for(var l in e.data[r])1==this.GoOut_DSata.get.other.hasOwnProperty(l)?this.GoOut_DSata.get.other[l]+=e.data[r][l]:this.GoOut_DSata.get.other[l]=e.data[r][l];c.DMC_Achievement.instance.progressAddAchievement("purchase",1)}return this.GoOut_DSata.get.Mounted+=d,n.GameData.instance.setGameCash(0-e.profit),i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata),0},e.prototype.uninstallItem=function(t,a){void 0===a&&(a=1);var n=s.DMA_StorageRoom.instance.ViewResidualCapacity(),o=0;if(0==t){if("{}"!=JSON.stringify(e.instance.GoOut_DSata.get.rare)){for(var r in e.instance.GoOut_DSata.get.rare)o+=e.instance.GoOut_DSata.get.rare[r];if(n<o*a)return 1}return 2}if("{}"!=JSON.stringify(e.instance.GoOut_DSata.get.rare)){for(var r in e.instance.GoOut_DSata.get.rare)o+=e.instance.GoOut_DSata.get.rare[r];if(n<o*a)return 1;for(var r in e.instance.GoOut_DSata.get.rare)s.DMA_StorageRoom.instance.ModifyNum(r,e.instance.GoOut_DSata.get.rare[r]*a),delete e.instance.GoOut_DSata.get.rare[r]}if("{}"!=JSON.stringify(e.instance.GoOut_DSata.get.other))for(var r in e.instance.GoOut_DSata.get.other)s.DMA_StorageRoom.instance.ModifyNum(r,e.instance.GoOut_DSata.get.other[r]*a),delete e.instance.GoOut_DSata.get.other[r];return e.instance.GoOut_DSata.get.rare={},e.instance.GoOut_DSata.get.other={},e.instance.GoOut_DSata.get.Mounted=0,i.FuncCommon.setStorage("GoOut_DSata",this.GoOut_DSata),0},e}();a.DMA_GoOut=l,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement"}],DMA_KitchenRoom:[function(e,t,a){"use strict";cc._RF.push(t,"50997fy/gJGdIZ23751J4BA","DMA_KitchenRoom"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_KitchenRoom=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.BuyData=[],this.MachiningData=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initKitchenRoom=function(){for(var e=Object.keys(n.GameData.instance.kitchen_sortItem).length,t=0;t<e;t++)this.BuyData[t]=3,this.MachiningData[t]=[];this.BuyData=i.FuncCommon.getStorage("KitchenRoomBuyData",this.BuyData),this.MachiningData=i.FuncCommon.getStorage("KitchenRoomMachiningData",this.MachiningData),cc.log("%c \u53a8\u623f \u52a0\u5de5\u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.BuyData),cc.log("%c \u53a8\u623f \u4f4d\u7f6e\u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.MachiningData)},e.prototype.UpKitchenRoom=function(){var e=r.RoomConfig.KitchenRoom_config[n.GameData.instance.MasterData.KitchenRoomLevel+1].Price;if(n.GameData.instance.MasterData.GameCash<e)return 1;var t=r.RoomConfig.KitchenRoom_config[n.GameData.instance.MasterData.KitchenRoomLevel+1].material;for(var a in t)if(t[a]>c.DMA_StorageRoom.instance.ViewItemNumber(a))return 2;if(r.RoomConfig.KitchenRoom_config[n.GameData.instance.MasterData.KitchenRoomLevel+1].UnlockLevel>n.GameData.instance.MasterData.MainRoomLevel)return 3;for(var a in t)c.DMA_StorageRoom.instance.ModifyNum(a,0-t[a]);return n.GameData.instance.setGameCash(0-e),n.GameData.instance.MasterData.KitchenRoomLevel+=1,i.FuncCommon.setStorage("MasterData",n.GameData.instance.MasterData),h.DMC_Task.instance.addTaskThread("kitchen"),s.default.postEvent2("kitchen_level",n.GameData.instance.MasterData.KitchenRoomLevel+1),0},e.prototype.isMaxKitchenRoom=function(){var e=r.RoomConfig.KitchenRoom_config.length;return n.GameData.instance.MasterData.KitchenRoomLevel>=e-1},e.prototype.BuyKitchenRoom=function(e,t){if(e>=this.BuyData.length)return 1;if(t>=10)return 2;if(t==this.BuyData[e]-1)return 3;if(t!=this.BuyData[e])return 4;var a=r.RoomConfig.KitchenRoomPosUnlock_config[t];return n.GameData.instance.MasterData.GameGem<a?5:(n.GameData.instance.setGameGem(0-a),this.BuyData[e]+=1,i.FuncCommon.setStorage("KitchenRoomBuyData",this.BuyData),i.FuncCommon.setStorage("KitchenRoomMachiningData",this.MachiningData),0)},e.prototype.StartMaking=function(e,t){var a=this.BuyData[e],r=this.MachiningData[e].length;if(r==a||10==r)return 1;var s=o.BasicsConfig.Item_config[t].material;for(var d in s)if(s[d]>c.DMA_StorageRoom.instance.ViewItemNumber(d))return 2;for(var d in s)c.DMA_StorageRoom.instance.ModifyNum(d,0-s[d]);var _=1e3*o.BasicsConfig.Item_config[t].Cycle;1==n.GameData.instance.IsGuidePattern&&(_=1e3);if(0==r)this.MachiningData[e].push({state:1,start:n.GameData.instance.TimeServer,endTime:n.GameData.instance.TimeServer+_,cycle:_,id:t,num:1});else{var m=this.MachiningData[e][r-1].endTime>n.GameData.instance.TimeServer?this.MachiningData[e][r-1].endTime:n.GameData.instance.TimeServer;this.MachiningData[e].push({state:m<=n.GameData.instance.TimeServer?1:0,start:m,endTime:m+_,cycle:_,id:t,num:1})}return i.FuncCommon.setStorage("KitchenRoomMachiningData",this.MachiningData),h.DMC_Task.instance.addTaskBranchLine("kitchen",1,t),h.DMC_Task.instance.addTaskEveryDay("kitchen",1),l.DMC_Achievement.instance.progressAddAchievement("kitchen",1),0},e.prototype.FastMaking=function(e,t){cc.log("\u52a0\u901f",e,t);var a=0;if(this.MachiningData[e][t].endTime>n.GameData.instance.TimeServer){var r=this.MachiningData[e][t].endTime-n.GameData.instance.TimeServer,s=1e3*o.BasicsConfig.Item_config[this.MachiningData[e][t].id].quicken;if(a=Math.ceil(r/s),n.GameData.instance.MasterData.GameGem<a)return 1}a>0&&n.GameData.instance.setGameGem(0-a),this.MachiningData[e][t].state=2,this.MachiningData[e][t].start=n.GameData.instance.TimeServer,this.MachiningData[e][t].endTime=n.GameData.instance.TimeServer,this.MachiningData[e][t].cycle=0;for(var c=this.MachiningData[e].length,l=t+1;l<c;l++)l==t+1&&(this.MachiningData[e][l].state=1),this.MachiningData[e][l].start>n.GameData.instance.TimeServer?(this.MachiningData[e][l].start=this.MachiningData[e][l-1].endTime,this.MachiningData[e][l].endTime=this.MachiningData[e][l-1].endTime+this.MachiningData[e][l].cycle):this.MachiningData[e][l].start<=n.GameData.instance.TimeServer&&n.GameData.instance.TimeServer<this.MachiningData[e][l].endTime?this.MachiningData[e][l].state=1:n.GameData.instance.TimeServer>=this.MachiningData[e][l].endTime&&(this.MachiningData[e][l].state=2);return i.FuncCommon.setStorage("KitchenRoomMachiningData",this.MachiningData),cc.log("\u52a0\u901f",this.MachiningData[e]),0},e.prototype.colheitaMaking=function(e,t,a){void 0===a&&(a=!0);var n=this.MachiningData[e][t].num;return c.DMA_StorageRoom.instance.ViewResidualCapacity()<n?1:(c.DMA_StorageRoom.instance.ModifyNum(this.MachiningData[e][t].id,n),this.MachiningData[e].splice(t,1),1==a&&i.FuncCommon.setStorage("KitchenRoomMachiningData",this.MachiningData),0)},e.prototype.OneClickColheitaMaking=function(e,t,a){var o=this.MachiningData[e].length;if(0==t){for(var r=0,s=this.MachiningData[e].length-1;s>=0;s--)(2==this.MachiningData[e][s].state||n.GameData.instance.TimeServer>=this.MachiningData[e][s].endTime)&&(r+=this.MachiningData[e][s].num*a);if(0==r)return 2;if(c.DMA_StorageRoom.instance.ViewResidualCapacity()<r)return 1}for(s=o-1;s>=0;s--)(2==this.MachiningData[e][s].state||n.GameData.instance.TimeServer>=this.MachiningData[e][s].endTime)&&(c.DMA_StorageRoom.instance.ModifyNum(this.MachiningData[e][s].id,this.MachiningData[e][s].num*a),this.MachiningData[e].splice(s,1));return i.FuncCommon.setStorage("KitchenRoomMachiningData",this.MachiningData),0},e.prototype.VideoCollectCapacity=function(e){for(var t=0,a=this.MachiningData[e].length-1;a>=0;a--)(2==this.MachiningData[e][a].state||n.GameData.instance.TimeServer>=this.MachiningData[e][a].endTime)&&(t+=2*this.MachiningData[e][a].num);return 0==t?1:c.DMA_StorageRoom.instance.ViewResidualCapacity()<t?2:0},e}();a.DMA_KitchenRoom=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_MainRoom:[function(e,t,a){"use strict";cc._RF.push(t,"22f98cEKo9BrL5ww63yqeuc","DMA_MainRoom"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_MainRoom=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/RoomConfig"),r=e("../network/GameSDK"),s=e("./DMA_GoOut"),c=e("./DMA_StorageRoom"),l=e("./DMC_Task"),h=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.UpMainRoom=function(){var e=o.RoomConfig.MainRoom_config[n.GameData.instance.MasterData.MainRoomLevel+1].Price;if(n.GameData.instance.MasterData.GameCash<e)return 1;var t=o.RoomConfig.MainRoom_config[n.GameData.instance.MasterData.MainRoomLevel+1].material;for(var a in t)if(t[a]>c.DMA_StorageRoom.instance.ViewItemNumber(a))return 2;for(var a in t)c.DMA_StorageRoom.instance.ModifyNum(a,0-t[a]);return n.GameData.instance.setGameCash(0-e),n.GameData.instance.MasterData.MainRoomLevel+=1,i.FuncCommon.setStorage("MasterData",n.GameData.instance.MasterData),n.GameData.instance.UnlockedItems(),n.GameData.instance.MasterData.MainRoomLevel>=o.RoomConfig.goOutunlockLevel&&(s.DMA_GoOut.instance.UnlockedGoods(),n.GameData.instance.MasterData.MainRoomLevel==o.RoomConfig.goOutunlockLevel&&s.DMA_GoOut.instance.GenerateSellGoods()),l.DMC_Task.instance.addTaskThread("level"),r.default.postEvent2("mainhouse_level",n.GameData.instance.MasterData.MainRoomLevel+1),0},e.prototype.isMaxMainRoom=function(){var e=o.RoomConfig.MainRoom_config.length;return n.GameData.instance.MasterData.MainRoomLevel+1>=e},e}();a.DMA_MainRoom=h,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_GoOut":"DMA_GoOut","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Task":"DMC_Task"}],DMA_MessHallStation:[function(e,t,a){"use strict";cc._RF.push(t,"e88faPEW5lMYLHzdRzEiiZw","DMA_MessHallStation"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_MessHallStation=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.TablesChairs_Data=[],this.messHall_machiningData={ownNum:0,data:[],profit:0},this.messHall_itemsNum={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initMessHallStation=function(){for(var e=r.RoomConfig.messHallStationTable_config.length,t=0;t<e;t++)this.TablesChairs_Data[t]=0==t?1:-1;this.TablesChairs_Data=i.FuncCommon.getStorage("TablesChairs_Data",this.TablesChairs_Data),cc.log("%c \u98df\u5802\u684c\u6905 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.TablesChairs_Data),this.messHall_machiningData.ownNum=3,this.messHall_machiningData.profit=0;for(t=0;t<3;t++)this.messHall_machiningData.data=[];for(var a in this.messHall_machiningData=i.FuncCommon.getStorage("messHall_machiningData",this.messHall_machiningData),cc.log("%c \u98df\u5802\u52a0\u5de5 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.messHall_machiningData),o.BasicsConfig.dishes_config)0==this.messHall_itemsNum.hasOwnProperty(a)&&(this.messHall_itemsNum[a]=0);this.messHall_itemsNum=i.FuncCommon.getStorage("messHall_itemsNum",this.messHall_itemsNum),cc.log("%c \u98df\u5802\u83dc\u54c1 \u5e93\u5b58 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.messHall_itemsNum)},e.prototype.BuyTablesChairs=function(e){if(-1==n.GameData.instance.MasterData.messHallStationLevel)return 4;var t=r.RoomConfig.messHallStationTable_config[e].Price;if(r.RoomConfig.messHallStationTable_config[e].unlock>n.GameData.instance.MasterData.MainRoomLevel)return 1;if(0==r.RoomConfig.messHallStationTable_config[e].PriceType){if(n.GameData.instance.MasterData.GameCash<t)return 2;n.GameData.instance.setGameCash(0-t)}else{if(n.GameData.instance.MasterData.GameGem<t)return 3;n.GameData.instance.setGameGem(0-t)}var a=this.TablesChairs_Data.indexOf(1);return-1!=a&&(this.TablesChairs_Data[a]=0),this.TablesChairs_Data[e]=1,i.FuncCommon.setStorage("TablesChairs_Data",this.TablesChairs_Data),0},e.prototype.useTablesChairs=function(e){var t=this.TablesChairs_Data.indexOf(1);return-1!=t&&(this.TablesChairs_Data[t]=0),this.TablesChairs_Data[e]=1,i.FuncCommon.setStorage("TablesChairs_Data",this.TablesChairs_Data),0},e.prototype.UpMessHall=function(){if(-1==n.GameData.instance.MasterData.transitStationLevel)return 5;var e=n.GameData.instance.MasterData.messHallStationLevel+1;if(e>=r.RoomConfig.messHallStation_config.length)return 1;if(n.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.messHallStation_config[e].unlock)return 2;var t=r.RoomConfig.messHallStation_config[e].Price;if(n.GameData.instance.MasterData.GameCash<t)return 3;var a=r.RoomConfig.messHallStation_config[e].material;for(var o in a)if(a[o]>c.DMA_StorageRoom.instance.ViewItemNumber(o))return 4;for(var o in a)c.DMA_StorageRoom.instance.ModifyNum(o,0-a[o]);return n.GameData.instance.setGameCash(0-t),n.GameData.instance.MasterData.messHallStationLevel+=1,i.FuncCommon.setStorage("MasterData",n.GameData.instance.MasterData),h.DMC_Task.instance.addTaskThread("messHallStation"),s.default.postEvent2("goodsstation_level",n.GameData.instance.MasterData.messHallStationLevel+1),0},e.prototype.BuyMachining=function(e){if(e>=10)return 1;if(e!=this.messHall_machiningData.ownNum)return 2;var t=r.RoomConfig.messHallStation_PosUnlock_config[e];return n.GameData.instance.MasterData.GameGem<t?3:(n.GameData.instance.setGameGem(0-t),this.messHall_machiningData.ownNum+=1,i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),0)},e.prototype.StartMachining=function(e){var t=this.messHall_machiningData.ownNum,a=this.messHall_machiningData.data.length,s=o.BasicsConfig.dishes_config[e].material,d=r.RoomConfig.messHallStation_config[n.GameData.instance.MasterData.messHallStationLevel].Cycle;if(0==a){for(var _ in s)if(s[_]>c.DMA_StorageRoom.instance.ViewItemNumber(_))return 1;for(var _ in s)c.DMA_StorageRoom.instance.ModifyNum(_,0-s[_]);var m=n.GameData.instance.TimeServer+1e3*d;return this.messHall_machiningData.data.push({id:e,NUm:3,endTime:[m],cycle:[d]}),i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),h.DMC_Task.instance.addTaskBranchLine("messHall",1),l.DMC_Achievement.instance.progressAddAchievement("messHall",1),0}for(var u=0;u<a;u++)if(this.messHall_machiningData.data[u].id==e){for(var _ in s)if(s[_]>c.DMA_StorageRoom.instance.ViewItemNumber(_))return 1;for(var _ in s)c.DMA_StorageRoom.instance.ModifyNum(_,0-s[_]);var g=this.messHall_machiningData.data[u].endTime.length,p=this.messHall_machiningData.data[u].endTime[g-1]+1e3*d;return this.messHall_machiningData.data[u].NUm=3,this.messHall_machiningData.data[u].cycle.push(d),this.messHall_machiningData.data[u].endTime.push(p),i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),h.DMC_Task.instance.addTaskBranchLine("messHall",1),l.DMC_Achievement.instance.progressAddAchievement("messHall",1),0}if(t==a||10==a)return 2;for(var _ in s)if(s[_]>c.DMA_StorageRoom.instance.ViewItemNumber(_))return 1;for(var _ in s)c.DMA_StorageRoom.instance.ModifyNum(_,0-s[_]);m=n.GameData.instance.TimeServer+1e3*d;return this.messHall_machiningData.data.push({id:e,NUm:3,endTime:[m],cycle:[d]}),i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),h.DMC_Task.instance.addTaskBranchLine("messHall",1),l.DMC_Achievement.instance.progressAddAchievement("messHall",1),0},e.prototype.quickenMachining=function(e,t){var a=this.messHall_machiningData.data[e].endTime.length;if(1==t){if(n.GameData.instance.MasterData.GameGem<a)return 1;n.GameData.instance.setGameGem(0-a);for(var o=a-1;o>=0;o--)this.messHall_itemsNum[this.messHall_machiningData.data[e].id]+=this.messHall_machiningData.data[e].NUm,this.messHall_machiningData.data[e].endTime.splice(o,1),this.messHall_machiningData.data[e].cycle.splice(o,1),0==this.messHall_machiningData.data[e].endTime.length&&this.messHall_machiningData.data.splice(e,1)}else if(0==t)for(o=a-1;o>=0;o--)this.messHall_machiningData.data[e].endTime[o]<=n.GameData.instance.TimeServer&&(this.messHall_itemsNum[this.messHall_machiningData.data[e].id]+=this.messHall_machiningData.data[e].NUm,this.messHall_machiningData.data[e].endTime.splice(o,1),this.messHall_machiningData.data[e].cycle.splice(o,1),0==this.messHall_machiningData.data[e].endTime.length&&this.messHall_machiningData.data.splice(e,1));return i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),i.FuncCommon.setStorage("messHall_itemsNum",this.messHall_itemsNum),0},e.prototype.OrderEstablish=function(){var e=this.TablesChairs_Data.indexOf(1);if(e==r.RoomConfig.messHallStationTable_config.length-1){var t=r.RoomConfig.messHallStationTable_config[e].MealFee;this.messHall_machiningData.profit+=t}var a=[];for(var s in o.BasicsConfig.dishes_config)n.GameData.instance.MasterData.messHallStationLevel>=o.BasicsConfig.dishes_config[s].unlock&&this.messHall_itemsNum[s]>=1&&a.push(s);if(a.length>=1){var c=[];a=i.FuncCommon.Func_Array_shuffle(a);for(var d=r.RoomConfig.messHallStationTable_config[e].num,_=a.length,m=Math.min(d,_),u=0;u<m;u++)c.push(a[u]),this.messHall_itemsNum[a[u]]-=1,this.messHall_machiningData.profit+=n.GameData.instance.dishesPrice[a[u]]*n.GameData.instance.basePrice_CanTing;return i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),i.FuncCommon.setStorage("messHall_itemsNum",this.messHall_itemsNum),h.DMC_Task.instance.addTaskBranchLine("haveDinner",1),h.DMC_Task.instance.addTaskEveryDay("haveDinner",1),l.DMC_Achievement.instance.progressAddAchievement("haveDinner",1),{code:1,id:c}}return{code:0,id:[]}},e.prototype.receiveMessHallIncome=function(e){return void 0===e&&(e=1),this.messHall_machiningData.profit<=0?1:(n.GameData.instance.setGameCash(this.messHall_machiningData.profit*e),this.messHall_machiningData.profit=0,i.FuncCommon.setStorage("messHall_machiningData",this.messHall_machiningData),0)},e}();a.DMA_MessHallStation=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_RarbageStation:[function(e,t,a){"use strict";cc._RF.push(t,"b3e9aCvkbFI87EiPOXhjqlr","DMA_RarbageStation"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_RarbageStation=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.rarbageStation_Data={collect:{capacity:0,data:[]},order:[],stock:[]},this.UnlockedItem=[],this.Unlocked2_Item=[],this.resultArr={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initRarbageStation=function(){this.rarbageStation_Data.collect={capacity:0,data:[]},this.rarbageStation_Data.order=[{Material:"material_MuCai",endTime:-1,data:{}},{Material:"material_DaoCao",endTime:-1,data:{}},{Material:"material_ShaZi",endTime:-1,data:{}}],this.rarbageStation_Data.stock=[],this.rarbageStation_Data=i.FuncCommon.getStorage("rarbageStation_Data",this.rarbageStation_Data),cc.log("%c \u5783\u573e\u7ad9 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.rarbageStation_Data),this.GenerateUnlockedItem()},e.prototype.UpgradeRarbageStation=function(){var e=n.GameData.instance.MasterData.rarbageStationLevel+1;if(e>=r.RoomConfig.rarbageStation_config.length)return 1;if(n.GameData.instance.MasterData.MainRoomLevel<r.RoomConfig.rarbageStation_config[e].unlock)return 2;var t=r.RoomConfig.rarbageStation_config[e].Price;if(n.GameData.instance.MasterData.GameCash<t)return 3;var a=r.RoomConfig.rarbageStation_config[e].material;for(var o in a)if(a[o]>c.DMA_StorageRoom.instance.ViewItemNumber(o))return 4;for(var o in n.GameData.instance.setGameCash(0-t),a)c.DMA_StorageRoom.instance.ModifyNum(o,0-a[o]);if(n.GameData.instance.MasterData.rarbageStationLevel+=1,i.FuncCommon.setStorage("MasterData",n.GameData.instance.MasterData),this.GenerateUnlockedItem(),0==n.GameData.instance.MasterData.rarbageStationLevel){this.rarbageStation_Data.collect.capacity=20,this.rarbageStation_Data.collect.data[0]={progress:0,reward:0},this.rarbageStation_Data.collect.data[1]={progress:0,reward:0},this.rarbageStation_Data.collect.data[2]={progress:0,reward:0},this.rarbageStation_Data.collect.data[3]={progress:0,reward:0},this.rarbageStation_Data.order[0].data=this.GenerateOrder(),this.rarbageStation_Data.order[1].data=this.GenerateOrder(),this.rarbageStation_Data.order[2].data=this.GenerateOrder();for(var l=r.RoomConfig.rarbageStation_config[n.GameData.instance.MasterData.rarbageStationLevel].capacity,d=0;d<l;d++)this.rarbageStation_Data.stock.push(null)}else{var _=r.RoomConfig.rarbageStation_config[n.GameData.instance.MasterData.rarbageStationLevel-1].capacity,m=r.RoomConfig.rarbageStation_config[n.GameData.instance.MasterData.rarbageStationLevel].capacity;for(d=_;d<m;d++)this.rarbageStation_Data.stock.push(null)}return i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data),h.DMC_Task.instance.addTaskThread("rarbageStation"),s.default.postEvent2("trash_level",n.GameData.instance.MasterData.rarbageStationLevel+1),0},e.prototype.GenerateUnlockedItem=function(){var e=n.GameData.instance.MasterData.rarbageStationLevel;if(-1!=e){for(var t in o.BasicsConfig.rubbish_config)if(e>=o.BasicsConfig.rubbish_config[t].unlock&&-1==this.UnlockedItem.indexOf(t)){this.UnlockedItem.push(t);var a=this.Unlocked2_Item.length;0==a?this.Unlocked2_Item.push({flag:t,weight:i.FuncCommon.random(1,3)}):this.Unlocked2_Item.push({flag:t,weight:this.Unlocked2_Item[a-1].weight})}cc.log("%c \u5783\u573e\u7ad9\u5df2\u89e3\u9501\u7269\u54c1","font-size : 12px ; color : #8FDC67 ;",this.Unlocked2_Item)}},e.prototype.GenerateOrder=function(){this.UnlockedItem=i.FuncCommon.Func_Array_shuffle(i.FuncCommon.Func_Array_shuffle(this.UnlockedItem));var e={},t=Math.floor(n.GameData.instance.MasterData.rarbageStationLevel/3);return e[this.UnlockedItem[0]]=i.FuncCommon.random(2,3+t),e[this.UnlockedItem[1]]=i.FuncCommon.random(2,3+t),e[this.UnlockedItem[2]]=i.FuncCommon.random(2,3+t),e},e.prototype.deleteOrder=function(e){this.rarbageStation_Data.order[e].data=this.GenerateOrder(),this.rarbageStation_Data.order[e].endTime=12e4+n.GameData.instance.TimeServer,i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data)},e.prototype.RefreshOrder=function(e,t){if(0==e){if(n.GameData.instance.MasterData.GameGem<3)return 1;n.GameData.instance.setGameGem(-3)}return this.rarbageStation_Data.order[t].endTime=-1,i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data),0},e.prototype.OrderExchange=function(t){var a=e.instance.rarbageStation_Data.order[t].data;for(var i in a){for(var n=e.instance.rarbageStation_Data.stock.length,o=0,r=0;r<n;r++)e.instance.rarbageStation_Data.stock[r]==i&&o++;if(o<a[i])return 1}var s=this.rarbageStation_Data.stock.length;for(var i in this.rarbageStation_Data.order[t].data)for(var d=this.rarbageStation_Data.order[t].data[i],_=(o=0,0);_<s;_++)if(this.rarbageStation_Data.stock[_]==i){if(!(o<d))break;this.rarbageStation_Data.stock[_]=null,o++}return c.DMA_StorageRoom.instance.ModifyNum(this.rarbageStation_Data.order[t].Material,3),this.deleteOrder(t),h.DMC_Task.instance.addTaskEveryDay("exchange",1),l.DMC_Achievement.instance.progressAddAchievement("exchange",1),0},e.prototype.loadOrder=function(e,t,a){if(this.rarbageStation_Data.collect.data[e].progress>=20)return 1;var n=o.BasicsConfig.rubbish_config[this.rarbageStation_Data.stock[t]].Price,r=o.BasicsConfig.rubbish_config[this.rarbageStation_Data.stock[a]].Price;return this.rarbageStation_Data.collect.data[e].reward+=n+r,this.rarbageStation_Data.collect.data[e].progress+=2,this.rarbageStation_Data.stock[t]=null,this.rarbageStation_Data.stock[a]=null,i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data),0},e.prototype.ReceiveRewards=function(e){return this.rarbageStation_Data.collect.data[e].progress<20?1:(n.GameData.instance.setGameCash(this.rarbageStation_Data.collect.data[e].reward),this.rarbageStation_Data.collect.data[e].reward=0,this.rarbageStation_Data.collect.data[e].progress=0,i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data),h.DMC_Task.instance.addTaskBranchLine("collection",1),l.DMC_Achievement.instance.progressAddAchievement("collection",1),0)},e.prototype.PickingGarbage=function(e){for(var t=this.rarbageStation_Data.stock.length,a=0;a<t;a++)if(null==this.rarbageStation_Data.stock[a])return this.rarbageStation_Data.stock[a]=e,i.FuncCommon.setStorage("rarbageStation_Data",this.rarbageStation_Data),l.DMC_Achievement.instance.progressAddAchievement("pickUp",1),0;return 1},e.prototype.guestAddGarbage=function(){var t=this.Unlocked2_Item.length,a=function(a){for(var i=-1,n=1e12,o=0;o<t;o++){var r=e.instance.Unlocked2_Item[o].weight+a;r<n&&(n=r,i=o)}return i}(10),i=Math.floor(1e3*Math.random())%2+1;return e.instance.Unlocked2_Item[a].weight+=i,e.instance.Unlocked2_Item[a].weight>1e12&&(e.instance.Unlocked2_Item[a].weight=0),e.instance.Unlocked2_Item[a].flag},e}();a.DMA_RarbageStation=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMA_StorageRoom:[function(e,t,a){"use strict";cc._RF.push(t,"802d7+gpcdExYkth+q6+FDc","DMA_StorageRoom"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_StorageRoom=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/BasicsConfig"),s=e("../M_config/RoomConfig"),c=e("../network/GameSDK"),l=function(){function e(){this.StorageRoomList={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initStorageRoom=function(){this.StorageRoomList=n.FuncCommon.getStorage("StorageRoomList",this.StorageRoomList),"{}"==JSON.stringify(this.StorageRoomList)&&(0==this.StorageRoomList.hasOwnProperty("material_MuCai")&&(this.StorageRoomList.material_MuCai=3e4),0==this.StorageRoomList.hasOwnProperty("material_DaoCao")&&(this.StorageRoomList.material_DaoCao=3e4),0==this.StorageRoomList.hasOwnProperty("material_ShaZi")&&(this.StorageRoomList.material_ShaZi=3e4),0==this.StorageRoomList.hasOwnProperty("farming_XiaoMai")&&(this.StorageRoomList.farming_XiaoMai=5),0==this.StorageRoomList.hasOwnProperty("noodle_ManTou")&&(this.StorageRoomList.noodle_ManTou=3),0==this.StorageRoomList.hasOwnProperty("noodle_HuaJuan")&&(this.StorageRoomList.noodle_HuaJuan=2),n.FuncCommon.setStorage("StorageRoomList",this.StorageRoomList)),cc.log("%c \u5e93\u623f \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.StorageRoomList)},e.prototype.ViewResidualCapacity=function(){var e=this.ViewItemTotal(),t=o.GameData.instance.MasterData.StorageRoomLevel;return s.RoomConfig.StorageRoom_config[t].capacity-e},e.prototype.ViewItemNumber=function(e){return 0==this.StorageRoomList.hasOwnProperty(e)?0:this.StorageRoomList[e]},e.prototype.ViewItemTotal=function(){var e=0;for(var t in this.StorageRoomList)1==this.StorageRoomList.hasOwnProperty(t)&&"material"!=r.BasicsConfig.Item_config[t].Type&&"stall"!=r.BasicsConfig.Item_config[t].Type&&(e+=this.StorageRoomList[t]);return e},e.prototype.ModifyNum=function(e,t,a){void 0===a&&(a=!0),t>0?1==this.StorageRoomList.hasOwnProperty(e)?this.StorageRoomList[e]+=t:this.StorageRoomList[e]=t:t<0&&1==this.StorageRoomList.hasOwnProperty(e)&&(this.StorageRoomList[e]+=t,this.StorageRoomList[e]<=0&&delete this.StorageRoomList[e]),1==a&&n.FuncCommon.setStorage("StorageRoomList",this.StorageRoomList),-1!=o.GameData.instance.unlockItem.indexOf(e)&&(i.UI_Events.instance.emitEvents("FreightStation_HongDianTips"),i.UI_Events.instance.emitEvents("DeliverGoods_HongDianTips"))},e.prototype.UpgradeStorageRoom=function(){var e=o.GameData.instance.MasterData.StorageRoomLevel+1;if(e>=s.RoomConfig.StorageRoom_config.length)return 1;var t=s.RoomConfig.StorageRoom_config[e].Price;if(o.GameData.instance.MasterData.GameCash<t)return 2;var a=s.RoomConfig.StorageRoom_config[e].material;for(var i in a)if(a[i]>this.ViewItemNumber(i))return 3;for(var i in o.GameData.instance.setGameCash(0-t),a)this.ModifyNum(i,0-a[i]);return o.GameData.instance.MasterData.StorageRoomLevel+=1,n.FuncCommon.setStorage("MasterData",o.GameData.instance.MasterData),c.default.postEvent2("warehouse_level",o.GameData.instance.MasterData.StorageRoomLevel+1),0},e}();a.DMA_StorageRoom=l,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK"}],DMA_TransitStation:[function(e,t,a){"use strict";cc._RF.push(t,"f9fabQNVUZHL7QSWLkJcklI","DMA_TransitStation"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMA_TransitStation=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/RoomConfig"),r=e("../network/GameSDK"),s=e("./DMA_StorageRoom"),c=e("./DMC_Task"),l=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.UpBuyTransitStation=function(){var e=n.GameData.instance.MasterData.transitStationLevel+1;if(e>=o.RoomConfig.transitStation_config.length)return 1;if(n.GameData.instance.MasterData.MainRoomLevel<o.RoomConfig.transitStation_config[e].unlock)return 2;var t=o.RoomConfig.transitStation_config[e].Price;if(n.GameData.instance.MasterData.GameCash<t)return 3;var a=o.RoomConfig.transitStation_config[e].material;for(var l in a)if(a[l]>s.DMA_StorageRoom.instance.ViewItemNumber(l))return 4;for(var l in n.GameData.instance.setGameCash(0-t),a)s.DMA_StorageRoom.instance.ModifyNum(l,0-a[l]);return n.GameData.instance.MasterData.transitStationLevel+=1,i.FuncCommon.setStorage("MasterData",n.GameData.instance.MasterData),c.DMC_Task.instance.addTaskThread("transitStation"),r.default.postEvent2("bus_station_level",n.GameData.instance.MasterData.transitStationLevel+1),0},e}();a.DMA_TransitStation=l,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Task":"DMC_Task"}],DMB_Farming:[function(e,t,a){"use strict";cc._RF.push(t,"dc1631jCsNPF5LJSYP43lXk","DMB_Farming"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMB_Farming=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Farming_data={count:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initFarming=function(){this.Farming_data={count:1,data:[{state:2,endTime:0,itemId:"farming_XiaoMai",itemNum:1}]},this.Farming_data=i.FuncCommon.getStorage("Farming_data",this.Farming_data),cc.log("%c \u8015\u7530 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Farming_data)},e.prototype.buyFarming=function(e){if(e<this.Farming_data.count)return 1;if(e>this.Farming_data.count)return 2;if(e>=r.RoomConfig.farming_config.length)return 3;var t=r.RoomConfig.farming_config[e].Price;return n.GameData.instance.MasterData.GameCash<t?4:(n.GameData.instance.setGameCash(0-t),this.Farming_data.count+=1,this.Farming_data.data.push({state:0,endTime:0,itemId:"",itemNum:0}),i.FuncCommon.setStorage("Farming_data",this.Farming_data),h.DMC_Task.instance.addTaskThread("farming"),s.default.postEvent2("field_count",this.Farming_data.count),0)},e.prototype.plantFarming=function(e,t){if(1==n.GameData.instance.IsGuidePattern)this.Farming_data.data[e].itemId=t,this.Farming_data.data[e].state=1,this.Farming_data.data[e].itemNum=1,this.Farming_data.data[e].endTime=n.GameData.instance.TimeServer+1e3;else{var a=1e3*o.BasicsConfig.Item_config[t].Cycle;this.Farming_data.data[e].itemId=t,this.Farming_data.data[e].state=1,this.Farming_data.data[e].itemNum=1,this.Farming_data.data[e].endTime=n.GameData.instance.TimeServer+a}return h.DMC_Task.instance.addTaskBranchLine("farming",1,t),h.DMC_Task.instance.addTaskEveryDay("farming",1),l.DMC_Achievement.instance.progressAddAchievement("farming",1),i.FuncCommon.setStorage("Farming_data",this.Farming_data),0},e.prototype.acelerarFarming=function(e,t){if(0==t){var a=this.Farming_data.data[e].itemId,r=1e3*o.BasicsConfig.Item_config[a].quicken,s=this.Farming_data.data[e].endTime,c=Math.ceil((s-n.GameData.instance.TimeServer)/r);if(n.GameData.instance.MasterData.GameGem<c)return 1;n.GameData.instance.setGameGem(0-c)}return this.Farming_data.data[e].state=2,this.Farming_data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Farming_data",this.Farming_data),0},e.prototype.colheitaFarming=function(e,t){void 0===t&&(t=!0);var a=this.Farming_data.data[e].itemNum;return c.DMA_StorageRoom.instance.ViewResidualCapacity()<a?1:(c.DMA_StorageRoom.instance.ModifyNum(this.Farming_data.data[e].itemId,this.Farming_data.data[e].itemNum),this.Farming_data.data[e].state=0,this.Farming_data.data[e].itemNum=0,this.Farming_data.data[e].itemId="",1==t&&i.FuncCommon.setStorage("Farming_data",this.Farming_data),0)},e}();a.DMB_Farming=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMB_Farm:[function(e,t,a){"use strict";cc._RF.push(t,"34fc8ETEftF0bqW3cfEqriY","DMB_Farm"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMB_Farm=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Farm_Data={own:[],count:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initFarm=function(){if(this.Farm_Data=i.FuncCommon.getStorage("Farm_Data",this.Farm_Data),0==this.Farm_Data.own.length&&0==this.Farm_Data.data.length){this.Farm_Data.own=[0,0,0,0,0,0],this.Farm_Data.count=0;for(var e=r.RoomConfig.farm_config.length,t=0;t<e;t++)this.Farm_Data.data[t]={state:0,endTime:n.GameData.instance.TimeServer,itemId:r.RoomConfig.farm_config[t].itemId,itemNum:0,Poslevel:0};i.FuncCommon.setStorage("Farm_Data",this.Farm_Data)}cc.log("%c \u517b\u6b96 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Farm_Data)},e.prototype.buyFarm=function(e){if(1==this.Farm_Data.own[e])return 1;if(e>=r.RoomConfig.farm_config.length)return 2;var t=r.RoomConfig.farm_config[e].UpPrice[0];return n.GameData.instance.MasterData.GameCash<t?3:(n.GameData.instance.setGameCash(0-t),this.Farm_Data.own[e]=1,this.Farm_Data.data[e].itemNum=1,this.Farm_Data.data[e].Poslevel=1,this.Farm_Data.count+=1,i.FuncCommon.setStorage("Farm_Data",this.Farm_Data),h.DMC_Task.instance.addTaskThread("farm"),s.default.postEvent2("farm_count",this.Farm_Data.count),0)},e.prototype.upFarm=function(e,t){if(t!=this.Farm_Data.data[e].Poslevel)return 1;if(0!=this.Farm_Data.data[e].state)return 2;var a=this.Farm_Data.data[e].Poslevel;if(a>=r.RoomConfig.farm_config[e].UpPrice.length)return 3;var o=r.RoomConfig.farm_config[e].UpPrice[a];return n.GameData.instance.MasterData.GameGem<o?4:(n.GameData.instance.setGameGem(0-o),this.Farm_Data.data[e].Poslevel+=1,i.FuncCommon.setStorage("Farm_Data",this.Farm_Data),0)},e.prototype.startFarm=function(e){var t=this.Farm_Data.data[e].Poslevel,a=this.Farm_Data.data[e].itemId,r=o.BasicsConfig.Item_config[a].seedPrice*t;return n.GameData.instance.MasterData.GameCash<r?1:(n.GameData.instance.setGameCash(0-r),this.Farm_Data.data[e].state=1,this.Farm_Data.data[e].endTime=n.GameData.instance.TimeServer+1e3*o.BasicsConfig.Item_config[a].Cycle,this.Farm_Data.data[e].itemNum=t,i.FuncCommon.setStorage("Farm_Data",this.Farm_Data),h.DMC_Task.instance.addTaskBranchLine("farm",1,a),h.DMC_Task.instance.addTaskEveryDay("farm",1),l.DMC_Achievement.instance.progressAddAchievement("farm",1),0)},e.prototype.FastFarm=function(e,t){if(void 0===t&&(t=0),1==t){var a=this.Farm_Data.data[e].itemId,r=1e3*o.BasicsConfig.Item_config[a].quicken,s=this.Farm_Data.data[e].endTime,c=Math.ceil((s-n.GameData.instance.TimeServer)/r);if(n.GameData.instance.MasterData.GameGem<c)return 1;n.GameData.instance.setGameGem(0-c)}return this.Farm_Data.data[e].state=2,this.Farm_Data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Farm_Data",this.Farm_Data),0},e.prototype.collectFarm=function(e,t){var a=this.Farm_Data.data[e].itemNum*t;if(c.DMA_StorageRoom.instance.ViewResidualCapacity()<a)return 1;var o=this.Farm_Data.data[e].itemId;return c.DMA_StorageRoom.instance.ModifyNum(o,a),this.Farm_Data.data[e].state=0,this.Farm_Data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Farm_Data",this.Farm_Data),0},e.prototype.VideoCollectCapacity=function(e){var t=2*this.Farm_Data.data[e].itemNum;return!(c.DMA_StorageRoom.instance.ViewResidualCapacity()<t)},e}();a.DMB_Farm=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMB_Fish:[function(e,t,a){"use strict";cc._RF.push(t,"4c797tzG0RIz6yPwdA0I4y5","DMB_Fish"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMB_Fish=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Fish_Data={own:[],count:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initFish=function(){if(this.Fish_Data=i.FuncCommon.getStorage("Fish_Data",this.Fish_Data),0==this.Fish_Data.own.length&&0==this.Fish_Data.data.length){this.Fish_Data.own=[0,0,0,0],this.Fish_Data.count=0;for(var e=r.RoomConfig.fish_config.length,t=0;t<e;t++)this.Fish_Data.data[t]={state:0,endTime:n.GameData.instance.TimeServer,itemId:"",itemNum:0,Poslevel:0};i.FuncCommon.setStorage("Fish_Data",this.Fish_Data)}cc.log("%c \u6c34\u4ea7 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Fish_Data)},e.prototype.buyFish=function(e){if(1==this.Fish_Data.own[e])return 1;if(e>=r.RoomConfig.fish_config.length)return 2;var t=r.RoomConfig.fish_config[e].UpPrice[0];return n.GameData.instance.MasterData.GameCash<t?3:(n.GameData.instance.setGameCash(0-t),this.Fish_Data.own[e]=1,this.Fish_Data.data[e].itemNum=1,this.Fish_Data.data[e].Poslevel=1,this.Fish_Data.count+=1,i.FuncCommon.setStorage("Fish_Data",this.Fish_Data),h.DMC_Task.instance.addTaskThread("fish"),s.default.postEvent2("pond_count",this.Fish_Data.count),0)},e.prototype.upFish=function(e){if(0!=this.Fish_Data.data[e].state)return 1;var t=this.Fish_Data.data[e].Poslevel;if(t>=r.RoomConfig.fish_config[e].UpPrice.length)return 2;var a=r.RoomConfig.fish_config[e].UpPrice[t];return n.GameData.instance.MasterData.GameGem<a?3:(n.GameData.instance.setGameGem(0-a),this.Fish_Data.data[e].Poslevel+=1,i.FuncCommon.setStorage("Fish_Data",this.Fish_Data),0)},e.prototype.startFish=function(e,t){var a=this.Fish_Data.data[e].Poslevel,r=o.BasicsConfig.Item_config[t].seedPrice*a;return n.GameData.instance.MasterData.GameCash<r?1:(n.GameData.instance.setGameCash(0-r),this.Fish_Data.data[e].state=1,this.Fish_Data.data[e].itemId=t,this.Fish_Data.data[e].endTime=n.GameData.instance.TimeServer+1e3*o.BasicsConfig.Item_config[t].Cycle,this.Fish_Data.data[e].itemNum=a,i.FuncCommon.setStorage("Fish_Data",this.Fish_Data),h.DMC_Task.instance.addTaskBranchLine("fish",1,t),h.DMC_Task.instance.addTaskEveryDay("fish",1),l.DMC_Achievement.instance.progressAddAchievement("fish",1),0)},e.prototype.FastFish=function(e,t){if(void 0===t&&(t=0),1==t){var a=this.Fish_Data.data[e].itemId,r=1e3*o.BasicsConfig.Item_config[a].quicken,s=this.Fish_Data.data[e].endTime,c=Math.ceil((s-n.GameData.instance.TimeServer)/r);if(n.GameData.instance.MasterData.GameGem<c)return 1;n.GameData.instance.setGameGem(0-c)}return this.Fish_Data.data[e].state=2,this.Fish_Data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Fish_Data",this.Fish_Data),0},e.prototype.collectFish=function(e,t){var a=this.Fish_Data.data[e].itemNum*t;if(c.DMA_StorageRoom.instance.ViewResidualCapacity()<a)return 1;var o=this.Fish_Data.data[e].itemId;return c.DMA_StorageRoom.instance.ModifyNum(o,a),this.Fish_Data.data[e].state=0,this.Fish_Data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Fish_Data",this.Fish_Data),0},e.prototype.VideoCollectCapacity=function(e){var t=2*this.Fish_Data.data[e].itemNum;return!(c.DMA_StorageRoom.instance.ViewResidualCapacity()<t)},e}();a.DMB_Fish=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMB_Flowers:[function(e,t,a){"use strict";cc._RF.push(t,"b4c53Pdq3dJqrGqHxamV0pQ","DMB_Flowers"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMB_Flowers=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Flowers_data={count:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initFlowers=function(){this.Flowers_data={count:0,data:[]},this.Flowers_data=i.FuncCommon.getStorage("Flowers_data",this.Flowers_data),cc.log("%c \u82b1\u56ed \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Flowers_data)},e.prototype.buyFlowers=function(e){if(e<this.Flowers_data.count)return 1;if(e>this.Flowers_data.count)return 2;if(e>=r.RoomConfig.flowers_config.length)return 3;var t=r.RoomConfig.flowers_config[e].Price;return n.GameData.instance.MasterData.GameCash<t?4:(n.GameData.instance.setGameCash(0-t),this.Flowers_data.count+=1,this.Flowers_data.data.push({state:0,endTime:0,itemId:"",itemNum:0}),i.FuncCommon.setStorage("Flowers_data",this.Flowers_data),h.DMC_Task.instance.addTaskThread("flowers"),s.default.postEvent2("garden_count",this.Flowers_data.count),0)},e.prototype.plantFlowers=function(e,t){var a=1e3*o.BasicsConfig.Item_config[t].Cycle;return this.Flowers_data.data[e].itemId=t,this.Flowers_data.data[e].state=1,this.Flowers_data.data[e].itemNum=1,this.Flowers_data.data[e].endTime=n.GameData.instance.TimeServer+a,i.FuncCommon.setStorage("Flowers_data",this.Flowers_data),h.DMC_Task.instance.addTaskBranchLine("flowers",1,t),h.DMC_Task.instance.addTaskEveryDay("flowers",1),l.DMC_Achievement.instance.progressAddAchievement("flowers",1),0},e.prototype.acelerarFlowers=function(e,t){if(0==t){var a=this.Flowers_data.data[e].itemId,r=1e3*o.BasicsConfig.Item_config[a].quicken,s=this.Flowers_data.data[e].endTime,c=Math.ceil((s-n.GameData.instance.TimeServer)/r);if(n.GameData.instance.MasterData.GameGem<c)return 1;n.GameData.instance.setGameGem(0-c)}return this.Flowers_data.data[e].state=2,this.Flowers_data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Flowers_data",this.Flowers_data),0},e.prototype.colheitaFlowers=function(e,t){void 0===t&&(t=!0);var a=this.Flowers_data.data[e].itemNum;return c.DMA_StorageRoom.instance.ViewResidualCapacity()<a?1:(c.DMA_StorageRoom.instance.ModifyNum(this.Flowers_data.data[e].itemId,this.Flowers_data.data[e].itemNum),this.Flowers_data.data[e].state=0,this.Flowers_data.data[e].itemNum=0,this.Flowers_data.data[e].itemId="",1==t&&i.FuncCommon.setStorage("Flowers_data",this.Flowers_data),0)},e}();a.DMB_Flowers=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMB_Orchard:[function(e,t,a){"use strict";cc._RF.push(t,"e950bFOa5dGcZC0nVu1gFaG","DMB_Orchard"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMB_Orchard=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/BasicsConfig"),r=e("../M_config/RoomConfig"),s=e("../network/GameSDK"),c=e("./DMA_StorageRoom"),l=e("./DMC_Achievement"),h=e("./DMC_Task"),d=function(){function e(){this.Orchard_data={count:0,data:[]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initOrchard=function(){this.Orchard_data={count:0,data:[]},this.Orchard_data=i.FuncCommon.getStorage("Orchard_data",this.Orchard_data),cc.log("%c \u679c\u56ed \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Orchard_data)},e.prototype.buyOrchard=function(e){if(e<this.Orchard_data.count)return 1;if(e>this.Orchard_data.count)return 2;if(e>=r.RoomConfig.orchard_config.length)return 3;var t=r.RoomConfig.orchard_config[e].Price;return n.GameData.instance.MasterData.GameCash<t?4:(n.GameData.instance.setGameCash(0-t),this.Orchard_data.count+=1,this.Orchard_data.data.push({state:0,endTime:0,itemId:"",itemNum:0}),i.FuncCommon.setStorage("Orchard_data",this.Orchard_data),h.DMC_Task.instance.addTaskThread("orchard"),s.default.postEvent2("tree_count",this.Orchard_data.count),0)},e.prototype.plantOrchard=function(e,t){var a=1e3*o.BasicsConfig.Item_config[t].Cycle;return this.Orchard_data.data[e].itemId=t,this.Orchard_data.data[e].state=1,this.Orchard_data.data[e].itemNum=1,this.Orchard_data.data[e].endTime=n.GameData.instance.TimeServer+a,i.FuncCommon.setStorage("Orchard_data",this.Orchard_data),h.DMC_Task.instance.addTaskBranchLine("orchard",1,t),h.DMC_Task.instance.addTaskEveryDay("orchard",1),l.DMC_Achievement.instance.progressAddAchievement("orchard",1),0},e.prototype.acelerarOrchard=function(e,t){if(0==t){var a=this.Orchard_data.data[e].itemId,r=1e3*o.BasicsConfig.Item_config[a].quicken,s=this.Orchard_data.data[e].endTime,c=Math.ceil((s-n.GameData.instance.TimeServer)/r);if(n.GameData.instance.MasterData.GameGem<c)return 1;n.GameData.instance.setGameGem(0-c)}return this.Orchard_data.data[e].state=2,this.Orchard_data.data[e].endTime=n.GameData.instance.TimeServer,i.FuncCommon.setStorage("Orchard_data",this.Orchard_data),0},e.prototype.colheitaOrchard=function(e,t){void 0===t&&(t=!0);var a=this.Orchard_data.data[e].itemNum;return c.DMA_StorageRoom.instance.ViewResidualCapacity()<a?1:(c.DMA_StorageRoom.instance.ModifyNum(this.Orchard_data.data[e].itemId,this.Orchard_data.data[e].itemNum),this.Orchard_data.data[e].state=0,this.Orchard_data.data[e].itemNum=0,this.Orchard_data.data[e].itemId="",1==t&&i.FuncCommon.setStorage("Orchard_data",this.Orchard_data),0)},e}();a.DMB_Orchard=d,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/BasicsConfig":"BasicsConfig","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK","./DMA_StorageRoom":"DMA_StorageRoom","./DMC_Achievement":"DMC_Achievement","./DMC_Task":"DMC_Task"}],DMC_Achievement:[function(e,t,a){"use strict";cc._RF.push(t,"4cdcboBrXpHm5XXIh033X+/","DMC_Achievement");var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<a;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,n++)i[n]=o[r];return i};Object.defineProperty(a,"__esModule",{value:!0}),a.DMC_Achievement=void 0;var n=e("../../View/currency/UI_Events"),o=e("../M_Basics/CommonFun"),r=e("../M_Basics/GameData"),s=e("../M_config/AuxiliaryConfig"),c=function(){function e(){this.Achievement_Data={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initAchievement=function(){for(var e in s.AuxiliaryConfig.configAchievement)0==this.Achievement_Data.hasOwnProperty(e)&&(this.Achievement_Data[e]={key:e,index:0,reward:s.AuxiliaryConfig.configAchievement[e].reward[0],need:s.AuxiliaryConfig.configAchievement[e].need[0],progress:0});this.Achievement_Data=o.FuncCommon.getStorage("Achievement_Data",this.Achievement_Data),cc.log("%c \u6210\u5c31 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Achievement_Data)},e.prototype.SortAchievement=function(){var e=!1;for(var t in this.Achievement_Data)-1==this.Achievement_Data[t].reward&&this.Achievement_Data[t].index<s.AuxiliaryConfig.configAchievement[t].reward.length&&(e=!0,this.Achievement_Data[t].need=s.AuxiliaryConfig.configAchievement[t].need[this.Achievement_Data[t].index],this.Achievement_Data[t].reward=s.AuxiliaryConfig.configAchievement[t].reward[this.Achievement_Data[t].index]);e&&o.FuncCommon.setStorage("Achievement_Data",this.Achievement_Data);var a=[],n=[],r=[];for(var t in this.Achievement_Data)-1==this.Achievement_Data[t].reward?r.push(this.Achievement_Data[t]):this.Achievement_Data[t].progress>=this.Achievement_Data[t].need?a.push(this.Achievement_Data[t]):this.Achievement_Data[t].progress<this.Achievement_Data[t].need&&n.push(this.Achievement_Data[t]);for(var c=0,l=n.length;c<l-1;c++)for(var h=c+1;h<l;h++)if(n[c].progress/n[c].need<n[h].progress/n[h].need){var d=n[c];n[c]=n[h],n[h]=d}var _=i(a,n,r);return cc.log("%c \u6210\u5c31\u6392\u5e8f\u540e\u7684 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",_),_},e.prototype.progressAddAchievement=function(e,t){1==this.Achievement_Data.hasOwnProperty(e)&&-1!=this.Achievement_Data[e].reward&&this.Achievement_Data[e].index<s.AuxiliaryConfig.configAchievement[e].reward.length&&(this.Achievement_Data[e].progress+=t,o.FuncCommon.setStorage("Achievement_Data",this.Achievement_Data)),n.UI_Events.instance.emitEvents("Achievement_HongDianTips")},e.prototype.receiveRewardsAchievement=function(e,t){r.GameData.instance.setGameGem(this.Achievement_Data[e].reward*t),this.Achievement_Data[e].index+=1,this.Achievement_Data[e].index<s.AuxiliaryConfig.configAchievement[e].reward.length?(this.Achievement_Data[e].need=s.AuxiliaryConfig.configAchievement[e].need[this.Achievement_Data[e].index],this.Achievement_Data[e].reward=s.AuxiliaryConfig.configAchievement[e].reward[this.Achievement_Data[e].index]):(this.Achievement_Data[e].need=-1,this.Achievement_Data[e].reward=-1),o.FuncCommon.setStorage("Achievement_Data",this.Achievement_Data),n.UI_Events.instance.emitEvents("Achievement_HongDianTips")},e.prototype.isCompleteAchievement=function(){for(var e in this.Achievement_Data)if(this.Achievement_Data[e].progress>=this.Achievement_Data[e].need&&-1!=this.Achievement_Data[e].reward)return!0;return!1},e}();a.DMC_Achievement=c,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/AuxiliaryConfig":"AuxiliaryConfig"}],DMC_Statistics:[function(e,t,a){"use strict";cc._RF.push(t,"97e80fDu/JKjroRq+cNIAv5","DMC_Statistics"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMC_Statistics=void 0;var i=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e}();a.DMC_Statistics=i,cc._RF.pop()},{}],DMC_Task:[function(e,t,a){"use strict";cc._RF.push(t,"6a77b9+HGpE1qCMiKYKYx8o","DMC_Task"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMC_Task=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/AuxiliaryConfig"),s=e("../M_config/BasicsConfig"),c=e("./DMA_StorageRoom"),l=e("./DMB_Farm"),h=e("./DMB_Farming"),d=e("./DMB_Fish"),_=e("./DMB_Flowers"),m=e("./DMB_Orchard"),u=function(){function e(){this.Thread_Task_Data={taskID:-1,type:"",complete:!1},this.taskBranchLineData={target:0,value:0,type:"",item:"",complete:!1,rewardCash:0,rewardGem:0,rewardMaterial:{material_MuCai:0,material_DaoCao:0,material_ShaZi:0}},this.EveryDay_Task_Data={TaskTime:0,progress:0,value:0,rewardGem:0,rewardMaterial:{material_MuCai:0,material_DaoCao:0,material_ShaZi:0},list:{}}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initTaskThread=function(){this.Thread_Task_Data=n.FuncCommon.getStorage("Thread_Task_Data",{taskID:0,type:"farming",complete:!1}),cc.log("%c \u4e3b\u7ebf\u4efb\u52a1 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Thread_Task_Data)},e.prototype.addTaskThread=function(e){var t=this.Thread_Task_Data.taskID;if(!(t>=r.AuxiliaryConfig.taskThread_config.length)&&e==r.AuxiliaryConfig.taskThread_config[t].type)if(1!=this.Thread_Task_Data.complete){var a=r.AuxiliaryConfig.taskThread_config[t].target;switch(e){case"level":o.GameData.instance.MasterData.MainRoomLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"farming":h.DMB_Farming.instance.Farming_data.count>=a&&(this.Thread_Task_Data.complete=!0);break;case"farm":for(var s=0,c=0;c<6;c++)1==l.DMB_Farm.instance.Farm_Data.own[c]&&s++;s>=a&&(this.Thread_Task_Data.complete=!0);break;case"orchard":m.DMB_Orchard.instance.Orchard_data.count>=a&&(this.Thread_Task_Data.complete=!0);break;case"fish":for(s=0,c=0;c<4;c++)1==d.DMB_Fish.instance.Fish_Data.own[c]&&s++;s>=a&&(this.Thread_Task_Data.complete=!0);break;case"flowers":_.DMB_Flowers.instance.Flowers_data.count>=a&&(this.Thread_Task_Data.complete=!0);break;case"freightStation":o.GameData.instance.MasterData.FreightStationLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"transitStation":o.GameData.instance.MasterData.transitStationLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"kitchen":o.GameData.instance.MasterData.KitchenRoomLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"canteen":o.GameData.instance.MasterData.CanteenLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"deliverGoods":o.GameData.instance.MasterData.deliverGoodsLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"rarbageStation":o.GameData.instance.MasterData.rarbageStationLevel>=a-1&&(this.Thread_Task_Data.complete=!0);break;case"messHallStation":o.GameData.instance.MasterData.messHallStationLevel>=a-1&&(this.Thread_Task_Data.complete=!0)}i.UI_Events.instance.emitEvents("RefreshHomeTask"),n.FuncCommon.setStorage("Thread_Task_Data",this.Thread_Task_Data)}else i.UI_Events.instance.emitEvents("RefreshHomeTask")},e.prototype.IsNotClaimed_TaskThread=function(){if(this.Thread_Task_Data.taskID>=r.AuxiliaryConfig.taskThread_config.length)return!1;if(1==this.Thread_Task_Data.complete)return!0;var e=r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].type,t=r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].target;switch(e){case"level":o.GameData.instance.MasterData.MainRoomLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"farming":h.DMB_Farming.instance.Farming_data.count>=t&&(this.Thread_Task_Data.complete=!0);break;case"farm":for(var a=0,i=0;i<6;i++)1==l.DMB_Farm.instance.Farm_Data.own[i]&&a++;a>=t&&(this.Thread_Task_Data.complete=!0);break;case"orchard":m.DMB_Orchard.instance.Orchard_data.count>=t&&(this.Thread_Task_Data.complete=!0);break;case"fish":for(a=0,i=0;i<4;i++)1==d.DMB_Fish.instance.Fish_Data.own[i]&&a++;a>=t&&(this.Thread_Task_Data.complete=!0);break;case"flowers":_.DMB_Flowers.instance.Flowers_data.count>=t&&(this.Thread_Task_Data.complete=!0);break;case"freightStation":o.GameData.instance.MasterData.FreightStationLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"transitStation":o.GameData.instance.MasterData.transitStationLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"kitchen":o.GameData.instance.MasterData.KitchenRoomLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"canteen":o.GameData.instance.MasterData.CanteenLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"deliverGoods":o.GameData.instance.MasterData.deliverGoodsLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"rarbageStation":o.GameData.instance.MasterData.rarbageStationLevel>=t-1&&(this.Thread_Task_Data.complete=!0);break;case"messHallStation":o.GameData.instance.MasterData.messHallStationLevel>=t-1&&(this.Thread_Task_Data.complete=!0)}return n.FuncCommon.setStorage("Thread_Task_Data",this.Thread_Task_Data),this.Thread_Task_Data.complete},e.prototype.ReceiveTaskThreadReward=function(e){void 0===e&&(e=1);var t=r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].rewardMaterial;for(var a in t)c.DMA_StorageRoom.instance.ModifyNum(a,t[a]*e);o.GameData.instance.setGameCash(r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].rewardCash*e),o.GameData.instance.setGameGem(r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].rewardGem*e),this.Thread_Task_Data.taskID+=1,this.Thread_Task_Data.taskID<r.AuxiliaryConfig.taskThread_config.length?this.Thread_Task_Data.type=r.AuxiliaryConfig.taskThread_config[this.Thread_Task_Data.taskID].type:this.Thread_Task_Data.type="",this.Thread_Task_Data.complete=!1,n.FuncCommon.setStorage("Thread_Task_Data",this.Thread_Task_Data),i.UI_Events.instance.emitEvents("RefreshHomeTask")},e.prototype.initTaskBranchLine=function(){this.taskBranchLineData=n.FuncCommon.getStorage("taskBranchLineData",{type:"kitchen",target:2,item:"noodle_ManTou",value:0,complete:!1,rewardCash:(750+50*Math.floor(o.GameData.instance.MasterData.MainRoomLevel/2))*o.GameData.instance.basePrice_Task,rewardGem:3,rewardMaterial:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1}}),cc.log("%c \u652f\u7ebf\u4efb\u52a1 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.taskBranchLineData)},e.prototype.GenerateTaskBranchLine=function(){var e={type:"",target:0,item:"",value:0,complete:!1,rewardCash:(750+50*Math.floor(o.GameData.instance.MasterData.MainRoomLevel/2))*o.GameData.instance.basePrice_Task,rewardGem:3,rewardMaterial:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1}},t=[],a=r.AuxiliaryConfig.taskBranchLine_config;for(var i in a)o.GameData.instance.MasterData.MainRoomLevel>=a[i].unlockLevel&&t.push(i);if(t=n.FuncCommon.Func_Array_shuffle(t),e.type=t[0],"farming"==e.type||"orchard"==e.type||"flowers"==e.type||"fish"==e.type||"farm"==e.type||"kitchen"==e.type){for(var c=[],l=o.GameData.instance.sortItem[e.type].length,h=0;h<l;h++){i=o.GameData.instance.sortItem[e.type][h];o.GameData.instance.MasterData.MainRoomLevel>=s.BasicsConfig.Item_config[i].unlock&&c.push(i)}c=n.FuncCommon.Func_Array_shuffle(c),e.item=c[0]}else e.item="";var d=r.AuxiliaryConfig.taskBranchLine_config[e.type].target,_=n.FuncCommon.GetRandNum(d[0],d[1]);return e.target=_,e},e.prototype.changeTaskBranchLine=function(e){if(1==e){if(o.GameData.instance.MasterData.GameGem<5)return 1;o.GameData.instance.setGameGem(-5)}return this.taskBranchLineData=this.GenerateTaskBranchLine(),n.FuncCommon.setStorage("taskBranchLineData",this.taskBranchLineData),i.UI_Events.instance.emitEvents("RefreshHomeTask"),0},e.prototype.addTaskBranchLine=function(e,t,a){void 0===a&&(a=""),e==this.taskBranchLineData.type&&a==this.taskBranchLineData.item&&(this.taskBranchLineData.value>=this.taskBranchLineData.target||(this.taskBranchLineData.value+=t,this.taskBranchLineData.value>=this.taskBranchLineData.target&&(this.taskBranchLineData.complete=!0),n.FuncCommon.setStorage("taskBranchLineData",this.taskBranchLineData),i.UI_Events.instance.emitEvents("RefreshHomeTask")))},e.prototype.ReceiveTaskBranchLineReward=function(e){void 0===e&&(e=1);var t=this.taskBranchLineData.rewardMaterial;for(var a in t)c.DMA_StorageRoom.instance.ModifyNum(a,t[a]*e);o.GameData.instance.setGameCash(this.taskBranchLineData.rewardCash*e),o.GameData.instance.setGameGem(this.taskBranchLineData.rewardGem*e),this.taskBranchLineData=this.GenerateTaskBranchLine(),n.FuncCommon.setStorage("taskBranchLineData",this.taskBranchLineData),i.UI_Events.instance.emitEvents("RefreshHomeTask"),this.addTaskEveryDay("branchLine",1)},e.prototype.initTaskEveryDay=function(){this.EveryDay_Task_Data=n.FuncCommon.getStorage("EveryDay_Task_Data",this.EveryDay_Task_Data),0==n.FuncCommon.isSameDay(this.EveryDay_Task_Data.TaskTime,o.GameData.instance.TimeServer)&&this.GenerateTaskEveryDay(),cc.log("%c \u6bcf\u65e5\u4efb\u52a1 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.EveryDay_Task_Data)},e.prototype.GenerateTaskEveryDay=function(){for(var e in this.EveryDay_Task_Data.TaskTime=o.GameData.instance.TimeServer,this.EveryDay_Task_Data.value=0,this.EveryDay_Task_Data.rewardGem=20,this.EveryDay_Task_Data.rewardMaterial={material_MuCai:10,material_DaoCao:10,material_ShaZi:10},this.EveryDay_Task_Data.progress=0,this.EveryDay_Task_Data.list={},r.AuxiliaryConfig.configEverydayTask)o.GameData.instance.MasterData.MainRoomLevel>=r.AuxiliaryConfig.configEverydayTask[e].unlock&&(this.EveryDay_Task_Data.list[e]={target:r.AuxiliaryConfig.configEverydayTask[e].target,value:0,videoComplete:r.AuxiliaryConfig.configEverydayTask[e].Complete,rewardGem:r.AuxiliaryConfig.configEverydayTask[e].reward},this.EveryDay_Task_Data.value+=1);cc.log("\u65b0\u7684\u4e00\u5929 \u751f\u6210\u6bcf\u65e5\u4efb\u52a1"),n.FuncCommon.setStorage("EveryDay_Task_Data",this.EveryDay_Task_Data)},e.prototype.addTaskEveryDay=function(e,t){0!=this.EveryDay_Task_Data.list.hasOwnProperty(e)&&(this.EveryDay_Task_Data.list[e].value>=this.EveryDay_Task_Data.list[e].target||(this.EveryDay_Task_Data.list[e].value+=t,n.FuncCommon.setStorage("EveryDay_Task_Data",this.EveryDay_Task_Data),i.UI_Events.instance.emitEvents("RefreshHomeTask")))},e.prototype.CompleteNowTaskEveryDay=function(e){return 0==this.EveryDay_Task_Data.list[e].videoComplete?1:(this.EveryDay_Task_Data.list[e].value=this.EveryDay_Task_Data.list[e].target,n.FuncCommon.setStorage("EveryDay_Task_Data",this.EveryDay_Task_Data),i.UI_Events.instance.emitEvents("RefreshHomeTask"),0)},e.prototype.ReceiveTaskEveryDayReward=function(e,t){void 0===t&&(t=1),o.GameData.instance.setGameGem(this.EveryDay_Task_Data.list[e].rewardGem*t),this.EveryDay_Task_Data.list[e].rewardGem=-1,this.EveryDay_Task_Data.progress+=1,n.FuncCommon.setStorage("EveryDay_Task_Data",this.EveryDay_Task_Data),i.UI_Events.instance.emitEvents("RefreshHomeTask")},e.prototype.ReceiveTaskEveryDayReward2=function(e){if(void 0===e&&(e=1),this.EveryDay_Task_Data.progress<this.EveryDay_Task_Data.value)return 1;var t=this.EveryDay_Task_Data.rewardMaterial;for(var a in t)c.DMA_StorageRoom.instance.ModifyNum(a,t[a]*e);return o.GameData.instance.setGameGem(this.EveryDay_Task_Data.rewardGem*e),this.EveryDay_Task_Data.rewardGem=-1,n.FuncCommon.setStorage("EveryDay_Task_Data",this.EveryDay_Task_Data),i.UI_Events.instance.emitEvents("RefreshHomeTask"),0},e.prototype.SatisfyTaskEveryDay=function(){for(var e in this.EveryDay_Task_Data.list)if(this.EveryDay_Task_Data.list[e].value>=this.EveryDay_Task_Data.list[e].target&&-1!=this.EveryDay_Task_Data.list[e].rewardGem)return!0;return this.EveryDay_Task_Data.progress>=this.EveryDay_Task_Data.value&&-1!=this.EveryDay_Task_Data.rewardGem},e}();a.DMC_Task=u,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/AuxiliaryConfig":"AuxiliaryConfig","../M_config/BasicsConfig":"BasicsConfig","./DMA_StorageRoom":"DMA_StorageRoom","./DMB_Farm":"DMB_Farm","./DMB_Farming":"DMB_Farming","./DMB_Fish":"DMB_Fish","./DMB_Flowers":"DMB_Flowers","./DMB_Orchard":"DMB_Orchard"}],DMD_7DaySignIn:[function(e,t,a){"use strict";cc._RF.push(t,"96574F8DMRFcbfrpUdRO+xI","DMD_7DaySignIn"),Object.defineProperty(a,"__esModule",{value:!0}),a.DMD_7DaySignIn=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_Basics/CommonFun"),o=e("../M_Basics/GameData"),r=e("../M_config/AuxiliaryConfig"),s=e("./DMA_StorageRoom"),c=function(){function e(){this.SignIn7Data={eject:!0,LastloginTime:0,day:1,getAward:[0,0,0,0,0,0,0]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.init7DaySignIn=function(){var t=function(){e.instance.SignIn7Data={eject:!0,LastloginTime:o.GameData.instance.TimeServer,day:1,getAward:[0,0,0,0,0,0,0]}};this.SignIn7Data=n.FuncCommon.getStorage("SignIn7Data",this.SignIn7Data),0==n.FuncCommon.isSameDay(this.SignIn7Data.LastloginTime,o.GameData.instance.TimeServer)?(this.SignIn7Data.eject=!0,1==n.FuncCommon.isContinueDay(this.SignIn7Data.LastloginTime,o.GameData.instance.TimeServer)?(this.SignIn7Data.day+=1,this.SignIn7Data.day>7&&t()):t()):this.SignIn7Data.eject=!1,this.SignIn7Data.LastloginTime=o.GameData.instance.TimeServer,n.FuncCommon.setStorage("SignIn7Data",this.SignIn7Data),cc.log("%c 7\u5929\u8fde\u7eed\u7b7e\u5230 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.SignIn7Data)},e.prototype.ReceiveRewards=function(e,t){if(void 0===t&&(t=1),6==e){var a=r.AuxiliaryConfig.config7DaySignIn[e].material;for(var c in a)s.DMA_StorageRoom.instance.ModifyNum(c,a[c]*t)}o.GameData.instance.setGameGem(r.AuxiliaryConfig.config7DaySignIn[e].gem*t),this.SignIn7Data.getAward[e]=1,n.FuncCommon.setStorage("SignIn7Data",this.SignIn7Data),i.UI_Events.instance.emitEvents("SignIn7_HongDianTips")},e.prototype.SatisfySignIn7=function(){for(var e=this.SignIn7Data.day,t=0;t<e;t++)if(0==this.SignIn7Data.getAward[t])return!0;return!1},e}();a.DMD_7DaySignIn=c,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/AuxiliaryConfig":"AuxiliaryConfig","./DMA_StorageRoom":"DMA_StorageRoom"}],DME_Decoration:[function(e,t,a){"use strict";cc._RF.push(t,"8d2adI4aRtE94x8L6qWGsZ6","DME_Decoration"),Object.defineProperty(a,"__esModule",{value:!0}),a.DME_Decoration=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/RoomConfig"),r=e("../network/GameSDK"),s=function(){function e(){this.Decoration_Data=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initDecoration=function(){for(var e=o.RoomConfig.Decoration_config.length,t=0;t<e;t++){var a=o.RoomConfig.Decoration_config[t].length;this.Decoration_Data[t]=[];for(var n=0;n<a;n++)this.Decoration_Data[t][n]=-1}this.Decoration_Data=i.FuncCommon.getStorage("Decoration_Data",this.Decoration_Data),cc.log("%c \u88c5\u9970 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Decoration_Data)},e.prototype.BuyDecoration=function(e,t){if(o.RoomConfig.Decoration_config[e][t].unlock>n.GameData.instance.MasterData.MainRoomLevel)return 1;var a=o.RoomConfig.Decoration_config[e][t].Price;if(n.GameData.instance.MasterData.GameCash<a)return 2;n.GameData.instance.setGameCash(0-a);var s=this.Decoration_Data[e].indexOf(1);-1!=s&&(this.Decoration_Data[e][s]=0),this.Decoration_Data[e][t]=1,i.FuncCommon.setStorage("Decoration_Data",this.Decoration_Data);for(var c=0,l=this.Decoration_Data[e].length,h=0;h<l;h++)-1!=this.Decoration_Data[e][h]&&(c+=1);return r.default.postEvent3("decration_count",e,c),0},e.prototype.useDecoration=function(e,t){var a=this.Decoration_Data[e].indexOf(1);return-1!=a&&(this.Decoration_Data[e][a]=0),this.Decoration_Data[e][t]=1,i.FuncCommon.setStorage("Decoration_Data",this.Decoration_Data),0},e}();a.DME_Decoration=s,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK"}],DME_Pet:[function(e,t,a){"use strict";cc._RF.push(t,"cce04c4jplHf5Y9pzFF1OKE","DME_Pet"),Object.defineProperty(a,"__esModule",{value:!0}),a.DME_Pet=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/RoomConfig"),r=function(){function e(){this.Pet_Data=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initPet=function(){this.Pet_Data=i.FuncCommon.getStorage("Pet_Data",[0,0,0]),cc.log("%c \u5ba0\u7269 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Pet_Data)},e.prototype.BuyPet=function(e){var t=o.RoomConfig.Pet_config[e].gem;return n.GameData.instance.MasterData.GameGem<t?1:(n.GameData.instance.setGameGem(0-t),this.Pet_Data[e]=1,i.FuncCommon.setStorage("Pet_Data",this.Pet_Data),0)},e}();a.DME_Pet=r,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig"}],DME_Theme:[function(e,t,a){"use strict";cc._RF.push(t,"0acbavU+UBKyr7tIoXfn9VJ","DME_Theme"),Object.defineProperty(a,"__esModule",{value:!0}),a.DME_Theme=void 0;var i=e("../M_Basics/CommonFun"),n=e("../M_Basics/GameData"),o=e("../M_config/RoomConfig"),r=e("../network/GameSDK"),s=function(){function e(){this.Theme_Data=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.initTheme=function(){for(var e=o.RoomConfig.Theme_config.length,t=0;t<e;t++){var a=o.RoomConfig.Theme_config[t].length;this.Theme_Data[t]=[];for(var n=0;n<a;n++)this.Theme_Data[t][n]=0==n?1:-1}this.Theme_Data=i.FuncCommon.getStorage("Theme_Data",this.Theme_Data),cc.log("%c \u4e3b\u9898 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Theme_Data)},e.prototype.BuyTheme=function(e,t){var a=o.RoomConfig.Theme_config[e][t].Price;if(o.RoomConfig.Theme_config[e][t].unlock>n.GameData.instance.MasterData.MainRoomLevel)return 1;if(0==o.RoomConfig.Theme_config[e][t].PriceType){if(n.GameData.instance.MasterData.GameCash<a)return 2;n.GameData.instance.setGameCash(0-a)}else{if(n.GameData.instance.MasterData.GameGem<a)return 3;n.GameData.instance.setGameGem(0-a)}var s=this.Theme_Data[e].indexOf(1);-1!=s&&(this.Theme_Data[e][s]=0),this.Theme_Data[e][t]=1,i.FuncCommon.setStorage("Theme_Data",this.Theme_Data);for(var c=0,l=this.Theme_Data[e].length,h=0;h<l;h++)-1!=this.Theme_Data[e][h]&&(c+=1);return r.default.postEvent3("theme_count",e,c),0},e.prototype.useTheme=function(e,t){var a=this.Theme_Data[e].indexOf(1);return-1!=a&&(this.Theme_Data[e][a]=0),this.Theme_Data[e][t]=1,i.FuncCommon.setStorage("Theme_Data",this.Theme_Data),0},e}();a.DME_Theme=s,cc._RF.pop()},{"../M_Basics/CommonFun":"CommonFun","../M_Basics/GameData":"GameData","../M_config/RoomConfig":"RoomConfig","../network/GameSDK":"GameSDK"}],GameData:[function(e,t,a){"use strict";cc._RF.push(t,"801a9p/eyxPqr75kCJE8hg7","GameData"),Object.defineProperty(a,"__esModule",{value:!0}),a.GameData=void 0;var i=e("../../View/currency/UI_Events"),n=e("../M_config/AuxiliaryConfig"),o=e("../M_config/BasicsConfig"),r=e("../M_instance/DMA_Canteen"),s=e("../M_instance/DMA_DeliverGoods"),c=e("../M_instance/DMA_FreightStation"),l=e("../M_instance/DMA_GoOut"),h=e("../M_instance/DMA_KitchenRoom"),d=e("../M_instance/DMA_MessHallStation"),_=e("../M_instance/DMA_RarbageStation"),m=e("../M_instance/DMA_StorageRoom"),u=e("../M_instance/DMB_Farm"),g=e("../M_instance/DMB_Farming"),p=e("../M_instance/DMB_Fish"),f=e("../M_instance/DMB_Flowers"),C=e("../M_instance/DMB_Orchard"),y=e("../M_instance/DMC_Achievement"),D=e("../M_instance/DMC_Task"),v=e("../M_instance/DMD_7DaySignIn"),M=e("../M_instance/DME_Decoration"),S=e("../M_instance/DME_Pet"),I=e("../M_instance/DME_Theme"),B=e("../network/GameSDK"),N=e("./CommonFun");cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0")},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("\u6e38\u620f\u8fdb\u5165\u524d\u53f0"),B.default.FcunServerTimeTsOc(),k.instance.initTimeData(),v.DMD_7DaySignIn.instance.init7DaySignIn(),D.DMC_Task.instance.initTaskEveryDay(),i.UI_Events.instance.emitEvents("CashGem_HongDianTips"),1==v.DMD_7DaySignIn.instance.SignIn7Data.eject&&0==k.instance.IsGuidePattern&&(i.UI_Events.instance.emitEvents("SignIn7_HongDianTips"),v.DMD_7DaySignIn.instance.SignIn7Data.eject=!1,i.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"QianDaoPre",MainType:-1,Subtype:-1}))},this);var k=function(){function e(){this.basePrice_Item=1.3,this.basePrice_CanTing=2,this.basePrice_CangKu=1,this.basePrice_FreightStation=6,this.basePrice_deliverGoods1=3,this.basePrice_deliverGoods2=2,this.basePrice_Canteen=2,this.basePrice_Task=2,this.APKVersion=0,this.TimeServer=0,this.ClickTimeMax=.3,this.ClickTimeCount=1,this.TimeData={Lastlogin:0,EveryDay:0,GameCumulative:0},this.videoCount={Count:0,CountCash:0,CountGem:0,CountMaxNum:30},this.IsGuidePattern=!1,this.GameUserID="1",this.MasterData={language:0,FirstSignIn:0,MusicState:!0,SoundState:!0,GameCash:3e7,GameGem:5e4,KitchenRoomLevel:0,MainRoomLevel:0,StorageRoomLevel:0,FreightStationLevel:0,messHallStationLevel:-1,CanteenLevel:-1,rarbageStationLevel:-1,deliverGoodsLevel:-1,transitStationLevel:-1},this.Energy={Existing:30,MaxVal:30,Cycle:30,LastTime:0},this.BackFromShopping=!1,this.sortItem={},this.kitchen_sortItem={},this.stall_sortItem={},this.dishes_sortItem=[],this.foodPrice={},this.dishesPrice={},this.unlockItem=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){B.default.FcunServerTimeTsOc(),this.GameUserID=N.FuncCommon.getStorage("GameUserID",this.GameUserID),"1"==this.GameUserID&&(this.GameUserID=N.FuncCommon.randomString(12),cc.sys.os===cc.sys.OS_ANDROID?this.GameUserID="AND-"+this.GameUserID:cc.sys.os===cc.sys.OS_IOS&&(this.GameUserID="IOS-"+this.GameUserID),N.FuncCommon.setStorage("GameUserID",this.GameUserID)),cc.log("\u7528\u6237ID",this.GameUserID),e.instance.BackFromShopping=!1,this.MasterData=N.FuncCommon.getStorage("MasterData",this.MasterData),cc.log("%c \u6e38\u620f\u57fa\u7840\u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.MasterData),this.Energy=N.FuncCommon.getStorage("Energy",this.Energy),cc.log("%c \u4f53\u529b \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.Energy),this.initSortItem(),this.PriceGenerator(),this.UnlockedItems(),h.DMA_KitchenRoom.instance.initKitchenRoom(),m.DMA_StorageRoom.instance.initStorageRoom(),r.DMA_Canteen.instance.initCanteen(),c.DMA_FreightStation.instance.initFreightStation(),s.DMA_DeliverGoods.instance.initDeliverGoods(),g.DMB_Farming.instance.initFarming(),f.DMB_Flowers.instance.initFlowers(),C.DMB_Orchard.instance.initOrchard(),u.DMB_Farm.instance.initFarm(),p.DMB_Fish.instance.initFish(),v.DMD_7DaySignIn.instance.init7DaySignIn(),y.DMC_Achievement.instance.initAchievement(),M.DME_Decoration.instance.initDecoration(),I.DME_Theme.instance.initTheme(),d.DMA_MessHallStation.instance.initMessHallStation(),_.DMA_RarbageStation.instance.initRarbageStation(),l.DMA_GoOut.instance.initGoOut(),n.AuxiliaryConfig.initTaskThread(),D.DMC_Task.instance.initTaskEveryDay(),D.DMC_Task.instance.initTaskBranchLine(),D.DMC_Task.instance.initTaskThread(),S.DME_Pet.instance.initPet(),this.initTimeData()},e.prototype.initTimeData=function(){i.UI_Events.instance.emitEvents("closeTimer"),this.videoCount=N.FuncCommon.getStorage("videoCount",this.videoCount),cc.log("%c \u89c2\u770b\u89c6\u9891 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.videoCount),this.TimeData=N.FuncCommon.getStorage("TimeData",this.TimeData),0==N.FuncCommon.isSameDay(this.TimeData.Lastlogin,this.TimeServer)&&(this.TimeData.EveryDay=0,this.videoCount.CountGem=0,this.videoCount.CountCash=0,this.videoCount.CountMaxNum=30,N.FuncCommon.setStorage("videoCount",this.videoCount)),this.TimeData.Lastlogin=this.TimeServer,N.FuncCommon.setStorage("TimeData",this.TimeData);var t=setInterval(function(){cc.log("1\u5206\u949f\u6267\u884c\u4e00\u6b21"),e.instance.TimeData.EveryDay+=6e4,e.instance.TimeData.GameCumulative+=6e4,N.FuncCommon.setStorage("TimeData",e.instance.TimeData),e.instance.TimeData.EveryDay<24e5&&D.DMC_Task.instance.addTaskEveryDay("time",1)},6e4);i.UI_Events.instance.onEvents("closeTimer",function(){clearInterval(t),cc.log("\u5173\u95ed\u5b9a\u65f6\u5668")},this),cc.log("%c \u6e38\u620f\u65f6\u95f4 \u6570\u636e","font-size : 12px ; color : #FF0F00 ;",this.TimeData)},e.prototype.RecordVideoSrequency=function(e){"Cash"==e?this.videoCount.CountCash++:"Gem"==e&&this.videoCount.CountGem++,N.FuncCommon.setStorage("videoCount",this.videoCount)},e.prototype.initSortItem=function(){for(var e in o.BasicsConfig.Item_config){var t=o.BasicsConfig.Item_config[e].Type;0==this.sortItem.hasOwnProperty(t)&&(this.sortItem[t]=[]),-1==this.sortItem[t].indexOf(e)&&this.sortItem[t].push(e)}cc.log("%c \u7269\u54c1 \u5206\u7c7b"," font-size : 10px ; color : #8FDC67 ;",this.sortItem);for(var a=this.sortItem.stall,i=a.length,n=0;n<i;n++){e=a[n],t=o.BasicsConfig.Item_config[e].TypeSub;0==this.stall_sortItem.hasOwnProperty(t)&&(this.stall_sortItem[t]=[]),-1==this.stall_sortItem[t].indexOf(e)&&this.stall_sortItem[t].push(e)}cc.log("%c \u5c0f\u5356\u90e8\u7269\u54c1 \u5206\u7c7b","font-size : 12px ; color : #8FDC67 ;",this.stall_sortItem);var r=this.sortItem.kitchen,s=r.length;for(n=0;n<s;n++){e=r[n],t=o.BasicsConfig.Item_config[e].TypeSub;0==this.kitchen_sortItem.hasOwnProperty(t)&&(this.kitchen_sortItem[t]=[]),-1==this.kitchen_sortItem[t].indexOf(e)&&this.kitchen_sortItem[t].push(e)}for(var e in cc.log("%c \u53a8\u623f\u7269\u54c1 \u5206\u7c7b","font-size : 12px ; color : #8FDC67 ;",this.kitchen_sortItem),this.dishes_sortItem=[[],[],[],[]],o.BasicsConfig.dishes_config){t=o.BasicsConfig.dishes_config[e].Type;this.dishes_sortItem[t].push(e)}cc.log("%c \u98df\u5802\u7269\u54c1 \u5206\u7c7b","font-size : 12px ; color : #8FDC67 ;",this.dishes_sortItem)},e.prototype.PriceGenerator=function(){var e=function(t){var a=o.BasicsConfig.Item_config[t].material,i=0;for(var n in a)if(o.BasicsConfig.Item_config.hasOwnProperty(n)){if(o.BasicsConfig.Item_config[n].hasOwnProperty("Price")){i+=o.BasicsConfig.Item_config[n].Price*a[n];continue}i+=e(n)*a[n]}else cc.log("\u53a8\u623f\u52a0\u5de5 "+t+" => \u6750\u6599 "+n+" \u4e0d\u5b58\u5728");return i};for(var t in o.BasicsConfig.Item_config)o.BasicsConfig.Item_config[t].hasOwnProperty("Price")?this.foodPrice[t]=o.BasicsConfig.Item_config[t].Price:this.foodPrice[t]=e(t)*this.basePrice_Item;for(var a in cc.log("%c \u7269\u54c1 \u4ef7\u683c","font-size : 12px ; color : #8FDC67 ;",this.foodPrice,Object.keys(this.foodPrice).length),o.BasicsConfig.dishes_config){var i=o.BasicsConfig.dishes_config[a].material,n=0;for(var r in i)this.foodPrice.hasOwnProperty(r)?n+=this.foodPrice[r]*i[r]:cc.log("\u98df\u5802\u52a0\u5de5 "+a+" => \u6750\u6599 "+r+" \u4e0d\u5b58\u5728");this.dishesPrice[a]=n*this.basePrice_Item}cc.log("%c \u98df\u5802\u83dc\u54c1 \u4ef7\u683c","font-size : 12px ; color : #8FDC67 ;",this.dishesPrice,Object.keys(this.dishesPrice).length)},e.prototype.UnlockedItems=function(){for(var e in o.BasicsConfig.Item_config)"stall"!=o.BasicsConfig.Item_config[e].Type&&"rare"!=o.BasicsConfig.Item_config[e].Type&&"material"!=o.BasicsConfig.Item_config[e].Type&&this.MasterData.MainRoomLevel>=o.BasicsConfig.Item_config[e].unlock&&-1==this.unlockItem.indexOf(e)&&this.unlockItem.push(e)},e.prototype.setLanguage=function(e){this.MasterData.language=e,N.FuncCommon.setStorage("MasterData",this.MasterData)},e.prototype.setFirstSignIn=function(){this.MasterData.FirstSignIn++,N.FuncCommon.setStorage("MasterData",this.MasterData)},e.prototype.setGameCash=function(e,t){void 0===t&&(t=!0),this.MasterData.GameCash=this.MasterData.GameCash+e,this.MasterData.GameCash<0&&(this.MasterData.GameCash=0),1==t&&N.FuncCommon.setStorage("MasterData",this.MasterData),i.UI_Events.instance.emitEvents("RefreshCashGem"),i.UI_Events.instance.emitEvents("GoOutRefreshCashGem")},e.prototype.setGameGem=function(e,t){void 0===t&&(t=!0),this.MasterData.GameGem=this.MasterData.GameGem+e,this.MasterData.GameGem<0&&(this.MasterData.GameGem=0),1==t&&N.FuncCommon.setStorage("MasterData",this.MasterData),i.UI_Events.instance.emitEvents("RefreshCashGem"),i.UI_Events.instance.emitEvents("GoOutRefreshCashGem"),e<0&&D.DMC_Task.instance.addTaskEveryDay("gem",Math.abs(e))},e}();a.GameData=k,cc._RF.pop()},{"../../View/currency/UI_Events":"UI_Events","../M_config/AuxiliaryConfig":"AuxiliaryConfig","../M_config/BasicsConfig":"BasicsConfig","../M_instance/DMA_Canteen":"DMA_Canteen","../M_instance/DMA_DeliverGoods":"DMA_DeliverGoods","../M_instance/DMA_FreightStation":"DMA_FreightStation","../M_instance/DMA_GoOut":"DMA_GoOut","../M_instance/DMA_KitchenRoom":"DMA_KitchenRoom","../M_instance/DMA_MessHallStation":"DMA_MessHallStation","../M_instance/DMA_RarbageStation":"DMA_RarbageStation","../M_instance/DMA_StorageRoom":"DMA_StorageRoom","../M_instance/DMB_Farm":"DMB_Farm","../M_instance/DMB_Farming":"DMB_Farming","../M_instance/DMB_Fish":"DMB_Fish","../M_instance/DMB_Flowers":"DMB_Flowers","../M_instance/DMB_Orchard":"DMB_Orchard","../M_instance/DMC_Achievement":"DMC_Achievement","../M_instance/DMC_Task":"DMC_Task","../M_instance/DMD_7DaySignIn":"DMD_7DaySignIn","../M_instance/DME_Decoration":"DME_Decoration","../M_instance/DME_Pet":"DME_Pet","../M_instance/DME_Theme":"DME_Theme","../network/GameSDK":"GameSDK","./CommonFun":"CommonFun"}],GameSDK:[function(e,t,a){"use strict";cc._RF.push(t,"878c4RQRhVKOouHPe9GifQ8","GameSDK"),Object.defineProperty(a,"__esModule",{value:!0});var i=e("../../View/currency/UI_Manager"),n=e("../../View/currency/UI_PlayMS"),o=e("../M_Basics/GameData"),r=e("../M_instance/DMC_Task");window.FcunVideo_OcTs=function(e){s.FcunVideoOcTs(e)},window.FcunSignIn_OcTs=function(e){};var s=function(){function e(){}return e.FcunVideoTsOc=function(e){this.FuncVideoCallback=e,this.videoLastTime=(new Date).getTime(),n.UI_PlayMS.instance.MusicPause(),cc.sys.isNative?cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","playVideo:",""):cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showLGRewardedVideo","(Ljava/lang/String;)V",""):(this.videoLastTime-=1e4,this.FcunVideoOcTs(1))},e.FcunVideoOcTs=function(t){(window.setTimeout(function(){n.UI_PlayMS.instance.MusicResume()},100),1==Number(t))?(new Date).getTime()-this.videoLastTime>5e3?null!=e.FuncVideoCallback&&(window.setTimeout(function(){null!=e.FuncVideoCallback&&(e.FuncVideoCallback(Number(t)),e.FuncVideoCallback=null)},100),r.DMC_Task.instance.addTaskEveryDay("video",1)):(cc.log("GroMore: \u5b58\u5728\u4f5c\u5f0a\u5acc\u7591"),i.UI_Manager.instance.AddFloatLabel("\u53d1\u751f\u9519\u8bef")):(this.FuncVideoCallback(Number(t)),this.FuncVideoCallback=null)},e.FcunServerTimeTsOc=function(){if(o.GameData.instance.TimeServer=(new Date).getTime(),cc.sys.isNative){if(cc.sys.os===cc.sys.OS_IOS){var e=Number(jsb.reflection.callStaticMethod("AppController","getOCTime:",""));o.GameData.instance.TimeServer=e}else if(cc.sys.os===cc.sys.OS_ANDROID){e=Number(jsb.reflection.callStaticMethod("org/cocos2dx/javascript/Function","getNetworkTime","()Ljava/lang/String;"));o.GameData.instance.TimeServer=e}}else o.GameData.instance.TimeServer=(new Date).getTime();cc.log("\u5f53\u524d\u65f6\u95f4="+o.GameData.instance.TimeServer)},e.ScreenAdvertisement=function(){cc.log("\u63d2\u5c4f\u5e7f\u544a"),cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","insertScreenVideo:",""):cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/Function","insertScreenVideo","()Ljava/lang/String;")},e.postEvent1=function(e){cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","postEvent1:",e):cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","postEvent1","(Ljava/lang/String;)V",e)},e.postEvent2=function(e,t){cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","postEvent2:param1:",e,""+t):cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","postEvent2","(Ljava/lang/String;Ljava/lang/String;)V",e,""+t)},e.postEvent3=function(e,t,a){cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","postEvent3:param1:param2",e,""+t,""+a):cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","postEvent3","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,""+t,""+a)},e.UserAntiAddicting=function(e){cc.sys.os===cc.sys.OS_IOS?(jsb.reflection.callStaticMethod("AppController","antiAddicting:",e),cc.log("cocos \u53d1\u8d77\u9632\u6c89\u8ff72")):cc.sys.os===cc.sys.OS_ANDROID&&(jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","antiAddicting","(Ljava/lang/String;)V",e),cc.log("cocos \u53d1\u8d77\u9632\u6c89\u8ff72"))},e.VideoConfig={Default:-1},e.FuncVideoCallback=null,e.VideoId=0,e.videoLastTime=0,e}();a.default=s,cc._RF.pop()},{"../../View/currency/UI_Manager":"UI_Manager","../../View/currency/UI_PlayMS":"UI_PlayMS","../M_Basics/GameData":"GameData","../M_instance/DMC_Task":"DMC_Task"}],Popup:[function(e,t,a){"use strict";cc._RF.push(t,"54628XbbZBNeYgH5CbSufLg","Popup");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./View/currency/UI_PlayMS"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state_=[],t.strTips=null,t._block=null,t}return i(t,e),t.prototype.init=function(e,t,a){this.strTips.getComponent(cc.RichText).string=t,this._block=a;for(var i=0;i<3;i++)this.state_[i].active=i===e},t.prototype.Btn_No=function(){o.UI_PlayMS.instance.playSound("button"),cc.log(!1),this._block(!1,this.node)},t.prototype.Btn_Yes=function(){o.UI_PlayMS.instance.playSound("button"),cc.log(!0),this._block(!0,this.node)},n([c({type:cc.Node,displayName:"state_",tooltip:"\u591a\u79cd\u72b6\u6001"})],t.prototype,"state_",void 0),n([c({type:cc.Node,displayName:"strTips",tooltip:"\u63d0\u793a\u5185\u5bb9"})],t.prototype,"strTips",void 0),t=n([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{"./View/currency/UI_PlayMS":"UI_PlayMS"}],RoomConfig:[function(e,t,a){"use strict";cc._RF.push(t,"75a2dmwt0xCB6hkFTCYHvAi","RoomConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.RoomConfig=void 0;var i=function(){function e(){}return e.zIndexObj={KitchenRoomPre:{url:"Prefab/infrastructure/KitchenRoomPre"},MainRoomPre:{url:"Prefab/infrastructure/MainRoomPre"},StorageRoomPre:{url:"Prefab/infrastructure/StorageRoomPre"},MessHallStationPre:{url:"Prefab/infrastructure/MessHallStationPre"},CanteenPre:{url:"Prefab/infrastructure/CanteenPre"},RarbageStationPre:{url:"Prefab/infrastructure/RarbageStationPre"},FreightStationPre:{url:"Prefab/infrastructure/FreightStationPre"},DeliverGoodsPre:{url:"Prefab/infrastructure/DeliverGoodsPre"},TransitStationPre:{url:"Prefab/infrastructure/TransitStationPre"},UpgradeBuildingPre:{url:"Prefab/infrastructure/UpgradeBuildingPre"},BuildPurchasePre:{url:"Prefab/Planting_Breeding/BuildPurchasePre"},FarmPre:{url:"Prefab/Planting_Breeding/FarmPre"},FishPre:{url:"Prefab/Planting_Breeding/FishPre"},ChengJiuPre:{url:"Prefab/menu/ChengJiuPre"},SheZhiPre:{url:"Prefab/menu/SheZhiPre"},JianZaoPre:{url:"Prefab/menu/JianZaoPre"},goOut1Pre:{url:"Prefab/goOut/goOut1Pre"},goOut2Pre:{url:"Prefab/goOut/goOut2Pre"},goOutStockPre:{url:"Prefab/goOut/goOutStockPre"},QianDaoPre:{url:"Prefab/menu/QianDaoPre"},RenWuPre:{url:"Prefab/menu/RenWuPre"},BalloonRewardsPre:{url:"Prefab/BalloonRewardsPre"},VideoRewardsPre:{url:"Prefab/VideoRewardsPre"}},e.MainRoom_config=[{level:0,Price:0,material:{material_MuCai:0,material_DaoCao:0,material_ShaZi:0},facility:{farming:3,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:1,Price:1600,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},facility:{farming:4,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:2,Price:3600,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},facility:{farming:5,farm:1,orchard:-1,fish:-1,flowers:-1,freightStation:1,transitStation:-1,kitchen:1,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:3,Price:6400,material:{material_MuCai:3,material_DaoCao:3,material_ShaZi:3},facility:{farming:6,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:4,Price:1e4,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},facility:{farming:7,farm:2,orchard:-1,fish:-1,flowers:-1,freightStation:2,transitStation:0,kitchen:2,canteen:0,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:5,Price:14400,material:{material_MuCai:5,material_DaoCao:5,material_ShaZi:5},facility:{farming:8,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:6,Price:19600,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},facility:{farming:9,farm:3,orchard:-1,fish:-1,flowers:-1,freightStation:3,transitStation:1,kitchen:3,canteen:1,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:7,Price:25600,material:{material_MuCai:7,material_DaoCao:7,material_ShaZi:7},facility:{farming:10,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:0,rarbageStation:-1,messHallStation:-1}},{level:8,Price:32400,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},facility:{farming:11,farm:4,orchard:1,fish:-1,flowers:-1,freightStation:4,transitStation:2,kitchen:4,canteen:2,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:9,Price:4e4,material:{material_MuCai:9,material_DaoCao:9,material_ShaZi:9},facility:{farming:12,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:1,rarbageStation:0,messHallStation:-1}},{level:10,Price:48400,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},facility:{farming:13,farm:5,orchard:2,fish:-1,flowers:-1,freightStation:5,transitStation:3,kitchen:5,canteen:3,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:11,Price:57600,material:{material_MuCai:11,material_DaoCao:11,material_ShaZi:11},facility:{farming:14,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:2,rarbageStation:1,messHallStation:-1}},{level:12,Price:67600,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},facility:{farming:15,farm:6,orchard:3,fish:1,flowers:-1,freightStation:6,transitStation:4,kitchen:6,canteen:4,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:13,Price:78400,material:{material_MuCai:13,material_DaoCao:13,material_ShaZi:13},facility:{farming:16,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:3,rarbageStation:2,messHallStation:-1}},{level:14,Price:9e4,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},facility:{farming:17,farm:-1,orchard:4,fish:2,flowers:-1,freightStation:7,transitStation:5,kitchen:7,canteen:5,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:15,Price:102e3,material:{material_MuCai:15,material_DaoCao:15,material_ShaZi:15},facility:{farming:18,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:4,rarbageStation:3,messHallStation:-1}},{level:16,Price:115600,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16},facility:{farming:19,farm:-1,orchard:5,fish:3,flowers:1,freightStation:8,transitStation:6,kitchen:8,canteen:6,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:17,Price:129600,material:{material_MuCai:17,material_DaoCao:17,material_ShaZi:17},facility:{farming:20,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:5,rarbageStation:4,messHallStation:-1}},{level:18,Price:144400,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18},facility:{farming:21,farm:-1,orchard:6,fish:4,flowers:2,freightStation:9,transitStation:7,kitchen:9,canteen:7,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:19,Price:16e4,material:{material_MuCai:19,material_DaoCao:19,material_ShaZi:19},facility:{farming:22,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:6,rarbageStation:5,messHallStation:-1}},{level:20,Price:174600,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20},facility:{farming:23,farm:-1,orchard:7,fish:-1,flowers:3,freightStation:-1,transitStation:8,kitchen:10,canteen:8,deliverGoods:-1,rarbageStation:-1,messHallStation:-1}},{level:21,Price:193600,material:{material_MuCai:21,material_DaoCao:21,material_ShaZi:21},facility:{farming:24,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:7,rarbageStation:6,messHallStation:0}},{level:22,Price:211600,material:{material_MuCai:22,material_DaoCao:22,material_ShaZi:22},facility:{farming:-1,farm:-1,orchard:8,fish:-1,flowers:4,freightStation:-1,transitStation:9,kitchen:11,canteen:9,deliverGoods:-1,rarbageStation:-1,messHallStation:1}},{level:23,Price:230400,material:{material_MuCai:23,material_DaoCao:23,material_ShaZi:23},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:8,rarbageStation:7,messHallStation:2}},{level:24,Price:25e4,material:{material_MuCai:24,material_DaoCao:24,material_ShaZi:24},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:5,freightStation:-1,transitStation:10,kitchen:12,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:3}},{level:25,Price:270400,material:{material_MuCai:25,material_DaoCao:25,material_ShaZi:25},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:9,rarbageStation:8,messHallStation:4}},{level:26,Price:291600,material:{material_MuCai:26,material_DaoCao:26,material_ShaZi:26},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:6,freightStation:-1,transitStation:11,kitchen:13,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:5}},{level:27,Price:313600,material:{material_MuCai:27,material_DaoCao:27,material_ShaZi:27},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:10,rarbageStation:9,messHallStation:6}},{level:28,Price:336400,material:{material_MuCai:28,material_DaoCao:28,material_ShaZi:28},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:12,kitchen:14,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:7}},{level:29,Price:36e4,material:{material_MuCai:29,material_DaoCao:29,material_ShaZi:29},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:11,rarbageStation:-1,messHallStation:8}},{level:30,Price:384400,material:{material_MuCai:30,material_DaoCao:30,material_ShaZi:30},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:13,kitchen:15,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:9}},{level:31,Price:409600,material:{material_MuCai:31,material_DaoCao:31,material_ShaZi:31},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:12,rarbageStation:-1,messHallStation:10}},{level:32,Price:435600,material:{material_MuCai:32,material_DaoCao:32,material_ShaZi:32},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:14,kitchen:16,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:11}},{level:33,Price:462400,material:{material_MuCai:33,material_DaoCao:33,material_ShaZi:33},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:13,rarbageStation:-1,messHallStation:12}},{level:34,Price:49e4,material:{material_MuCai:34,material_DaoCao:34,material_ShaZi:34},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:17,canteen:-1,deliverGoods:-1,rarbageStation:-1,messHallStation:13}},{level:35,Price:518400,material:{material_MuCai:35,material_DaoCao:35,material_ShaZi:35},facility:{farming:-1,farm:-1,orchard:-1,fish:-1,flowers:-1,freightStation:-1,transitStation:-1,kitchen:-1,canteen:-1,deliverGoods:14,rarbageStation:-1,messHallStation:14}}],e.farming_config=[{unlock:0,Price:0},{unlock:0,Price:200},{unlock:0,Price:300},{unlock:1,Price:400},{unlock:2,Price:500},{unlock:3,Price:600},{unlock:4,Price:700},{unlock:5,Price:800},{unlock:6,Price:900},{unlock:7,Price:1e3},{unlock:8,Price:1100},{unlock:9,Price:1200},{unlock:10,Price:1300},{unlock:11,Price:1400},{unlock:12,Price:1500},{unlock:13,Price:1600},{unlock:14,Price:1700},{unlock:15,Price:1800},{unlock:16,Price:1900},{unlock:17,Price:2e3},{unlock:18,Price:2100},{unlock:19,Price:2200},{unlock:20,Price:2300},{unlock:21,Price:2400}],e.farm_config=[{itemId:"farm_JiDan",unlock:2,UpPrice:[5e3,30,60,90]},{itemId:"farm_NiuNai",unlock:4,UpPrice:[1e4,30,60,90]},{itemId:"farm_ZhuRou",unlock:6,UpPrice:[15e3,30,60,90]},{itemId:"farm_JiRou",unlock:8,UpPrice:[2e4,30,60,90]},{itemId:"farm_YangRou",unlock:10,UpPrice:[25e3,30,60,90]},{itemId:"farm_FengMi",unlock:12,UpPrice:[3e4,30,60,90]}],e.orchard_config=[{unlock:8,Price:1e3},{unlock:10,Price:2e3},{unlock:12,Price:3e3},{unlock:14,Price:4e3},{unlock:16,Price:5e3},{unlock:18,Price:6e3},{unlock:20,Price:7e3},{unlock:22,Price:8e3}],e.fish_config=[{unlock:12,UpPrice:[2e4,40,80,120]},{unlock:14,UpPrice:[4e4,40,80,120]},{unlock:16,UpPrice:[6e4,40,80,120]},{unlock:18,UpPrice:[8e4,40,80,120]}],e.flowers_config=[{unlock:16,Price:1e4},{unlock:18,Price:2e4},{unlock:20,Price:3e4},{unlock:22,Price:4e4},{unlock:24,Price:5e4},{unlock:26,Price:6e4}],e.freightStation_config=[{level:0,Price:0,unlock:0,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},Income:0,Num:5,Cycle:120},{level:1,Price:9e3,unlock:2,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},Income:10,Num:6,Cycle:115},{level:2,Price:18e3,unlock:4,material:{material_MuCai:3,material_DaoCao:3,material_ShaZi:3},Income:20,Num:7,Cycle:110},{level:3,Price:3e4,unlock:6,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},Income:30,Num:8,Cycle:105},{level:4,Price:45e3,unlock:8,material:{material_MuCai:5,material_DaoCao:5,material_ShaZi:5},Income:40,Num:9,Cycle:100},{level:5,Price:63e3,unlock:10,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},Income:50,Num:10,Cycle:95},{level:6,Price:84e3,unlock:12,material:{material_MuCai:7,material_DaoCao:7,material_ShaZi:7},Income:60,Num:11,Cycle:90},{level:7,Price:108e3,unlock:14,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},Income:70,Num:12,Cycle:85},{level:8,Price:135e3,unlock:16,material:{material_MuCai:9,material_DaoCao:9,material_ShaZi:9},Income:80,Num:13,Cycle:80},{level:9,Price:165e3,unlock:18,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},Income:90,Num:14,Cycle:75}],e.freightStationCar_config=[{Price:0,Cycle:120,capacity:20,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:0},{Price:1e4,Cycle:110,capacity:30,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:3},{Price:3e4,Cycle:100,capacity:40,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:6},{Price:8e4,Cycle:90,capacity:50,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:9},{Price:18e4,Cycle:80,capacity:60,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:12},{Price:32e4,Cycle:70,capacity:70,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},unlock:15}],e.transitStation_config=[{level:0,Price:9e3,unlock:4,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1},numGuest:6,Cycle:120},{level:1,Price:18e3,unlock:6,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},numGuest:7,Cycle:115},{level:2,Price:3e4,unlock:8,material:{material_MuCai:3,material_DaoCao:3,material_ShaZi:3},numGuest:8,Cycle:110},{level:3,Price:45e3,unlock:10,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},numGuest:9,Cycle:105},{level:4,Price:63e3,unlock:12,material:{material_MuCai:5,material_DaoCao:5,material_ShaZi:5},numGuest:10,Cycle:100},{level:5,Price:84e3,unlock:14,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},numGuest:11,Cycle:95},{level:6,Price:108e3,unlock:16,material:{material_MuCai:7,material_DaoCao:7,material_ShaZi:7},numGuest:12,Cycle:90},{level:7,Price:135e3,unlock:18,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},numGuest:13,Cycle:85},{level:8,Price:165e3,unlock:20,material:{material_MuCai:9,material_DaoCao:9,material_ShaZi:9},numGuest:14,Cycle:80},{level:9,Price:198e3,unlock:22,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},numGuest:15,Cycle:75},{level:10,Price:234e3,unlock:24,material:{material_MuCai:11,material_DaoCao:11,material_ShaZi:11},numGuest:16,Cycle:70},{level:11,Price:273e3,unlock:26,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},numGuest:17,Cycle:65},{level:12,Price:315e3,unlock:28,material:{material_MuCai:13,material_DaoCao:13,material_ShaZi:13},numGuest:18,Cycle:60},{level:13,Price:36e4,unlock:30,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},numGuest:19,Cycle:55},{level:14,Price:408e3,unlock:32,material:{material_MuCai:15,material_DaoCao:15,material_ShaZi:15},numGuest:20,Cycle:50}],e.KitchenRoom_config=[{level:0,Price:0,UnlockLevel:0,material:{material_MuCai:0,material_DaoCao:0,material_ShaZi:0}},{level:1,Price:3200,UnlockLevel:2,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2}},{level:2,Price:7200,UnlockLevel:4,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4}},{level:3,Price:12800,UnlockLevel:6,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6}},{level:4,Price:2e4,UnlockLevel:8,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8}},{level:5,Price:28800,UnlockLevel:10,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10}},{level:6,Price:39200,UnlockLevel:12,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12}},{level:7,Price:51200,UnlockLevel:14,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14}},{level:8,Price:64800,UnlockLevel:16,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16}},{level:9,Price:8e4,UnlockLevel:18,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18}},{level:10,Price:96800,UnlockLevel:20,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20}},{level:11,Price:115200,UnlockLevel:22,material:{material_MuCai:22,material_DaoCao:22,material_ShaZi:22}},{level:12,Price:135200,UnlockLevel:24,material:{material_MuCai:24,material_DaoCao:24,material_ShaZi:24}},{level:13,Price:156800,UnlockLevel:26,material:{material_MuCai:26,material_DaoCao:26,material_ShaZi:26}},{level:14,Price:18e4,UnlockLevel:28,material:{material_MuCai:28,material_DaoCao:28,material_ShaZi:28}},{level:15,Price:204800,UnlockLevel:30,material:{material_MuCai:30,material_DaoCao:30,material_ShaZi:30}},{level:16,Price:231200,UnlockLevel:32,material:{material_MuCai:32,material_DaoCao:32,material_ShaZi:32}},{level:17,Price:259200,UnlockLevel:34,material:{material_MuCai:34,material_DaoCao:34,material_ShaZi:34}}],e.KitchenRoomPosUnlock_config=[0,0,0,20,40,60,80,100,120,140],e.CanteenSort_config=[0,2,5,8],e.Canteen_config=[{Price:24e3,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},UnlockCategory:[],income:0,num:1,waiting:5,unlock:4},{Price:4e4,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},UnlockCategory:[],income:10,num:1,waiting:4.8,unlock:6},{Price:6e4,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},UnlockCategory:[],income:20,num:1,waiting:4.6,unlock:8},{Price:84e3,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},UnlockCategory:[],income:30,num:2,waiting:4.4,unlock:10},{Price:112e3,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},UnlockCategory:[],income:40,num:2,waiting:4.2,unlock:12},{Price:144e3,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},UnlockCategory:[],income:50,num:2,waiting:4,unlock:14},{Price:18e4,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},UnlockCategory:[],income:60,num:3,waiting:3.8,unlock:16},{Price:22e4,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16},UnlockCategory:[],income:70,num:3,waiting:3.6,unlock:18},{Price:264e3,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18},UnlockCategory:[],income:80,num:3,waiting:3.4,unlock:20},{Price:312e3,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20},UnlockCategory:[],income:90,num:4,waiting:3.2,unlock:22}],e.deliverGoodsUnlockLevel=[0,3,6,9,12],e.deliverGoods_config=[{level:0,Price:3e4,unlock:7,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},Income:0,Num:1,Cycle:900,quicken:300},{level:1,Price:45e3,unlock:9,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},Income:5,Num:1,Cycle:870,quicken:300},{level:2,Price:63e3,unlock:11,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},Income:10,Num:1,Cycle:840,quicken:300},{level:3,Price:84e3,unlock:13,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},Income:15,Num:2,Cycle:810,quicken:300},{level:4,Price:108e3,unlock:15,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},Income:20,Num:2,Cycle:780,quicken:300},{level:5,Price:135e3,unlock:17,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},Income:25,Num:2,Cycle:750,quicken:300},{level:6,Price:165e3,unlock:19,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},Income:30,Num:3,Cycle:720,quicken:300},{level:7,Price:198e3,unlock:21,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16},Income:35,Num:3,Cycle:690,quicken:300},{level:8,Price:234e3,unlock:23,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18},Income:40,Num:3,Cycle:660,quicken:300},{level:9,Price:273e3,unlock:25,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20},Income:45,Num:4,Cycle:630,quicken:300},{level:10,Price:315e3,unlock:27,material:{material_MuCai:22,material_DaoCao:22,material_ShaZi:22},Income:50,Num:4,Cycle:600,quicken:300},{level:11,Price:36e4,unlock:29,material:{material_MuCai:24,material_DaoCao:24,material_ShaZi:24},Income:55,Num:4,Cycle:570,quicken:300},{level:12,Price:408e3,unlock:31,material:{material_MuCai:26,material_DaoCao:26,material_ShaZi:26},Income:60,Num:5,Cycle:540,quicken:300},{level:13,Price:459e3,unlock:33,material:{material_MuCai:28,material_DaoCao:28,material_ShaZi:28},Income:65,Num:5,Cycle:510,quicken:300},{level:14,Price:513e3,unlock:35,material:{material_MuCai:30,material_DaoCao:30,material_ShaZi:30},Income:70,Num:5,Cycle:480,quicken:300}],e.rarbageStation_config=[{level:0,Price:16e3,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},capacity:16,Income:0,unlock:9},{level:1,Price:25e3,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},capacity:24,Income:10,unlock:11},{level:2,Price:36e3,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},capacity:32,Income:20,unlock:13},{level:3,Price:49e3,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},capacity:40,Income:30,unlock:15},{level:4,Price:64e3,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},capacity:48,Income:40,unlock:17},{level:5,Price:81e3,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},capacity:56,Income:50,unlock:19},{level:6,Price:1e5,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},capacity:64,Income:60,unlock:21},{level:7,Price:121e3,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16},capacity:72,Income:70,unlock:23},{level:8,Price:144e3,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18},capacity:80,Income:80,unlock:25},{level:9,Price:169e3,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20},capacity:88,Income:90,unlock:27}],e.messHallStation_config=[{level:0,Price:3e4,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2},Cycle:30,Income:0,unlock:21},{level:1,Price:45e3,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4},Cycle:29,Income:5,unlock:22},{level:2,Price:63e3,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6},Cycle:28,Income:10,unlock:23},{level:3,Price:84e3,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8},Cycle:27,Income:15,unlock:24},{level:4,Price:108e3,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10},Cycle:26,Income:20,unlock:25},{level:5,Price:135e3,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12},Cycle:25,Income:25,unlock:26},{level:6,Price:165e3,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14},Cycle:24,Income:30,unlock:27},{level:7,Price:198e3,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16},Cycle:23,Income:35,unlock:28},{level:8,Price:234e3,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18},Cycle:22,Income:40,unlock:29},{level:9,Price:273e3,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20},Cycle:21,Income:45,unlock:30},{level:10,Price:315e3,material:{material_MuCai:22,material_DaoCao:22,material_ShaZi:22},Cycle:20,Income:50,unlock:31},{level:11,Price:36e4,material:{material_MuCai:24,material_DaoCao:24,material_ShaZi:24},Cycle:19,Income:55,unlock:32},{level:12,Price:408e3,material:{material_MuCai:26,material_DaoCao:26,material_ShaZi:26},Cycle:18,Income:60,unlock:33},{level:13,Price:459e3,material:{material_MuCai:28,material_DaoCao:28,material_ShaZi:28},Cycle:17,Income:65,unlock:34},{level:14,Price:513e3,material:{material_MuCai:30,material_DaoCao:30,material_ShaZi:30},Cycle:16,Income:70,unlock:35}],e.messHallStation_PosUnlock_config=[0,0,0,20,40,60,80,100,120,140],e.messHallStationTable_config=[{serial:0,PriceType:0,Price:0,MealFee:0,eatTime:10,etcTime:10,num:1,unlock:0},{serial:1,PriceType:0,Price:4e3,MealFee:0,eatTime:9.5,etcTime:9.5,num:1,unlock:1},{serial:2,PriceType:0,Price:9e3,MealFee:0,eatTime:9,etcTime:9,num:1,unlock:2},{serial:3,PriceType:0,Price:16e3,MealFee:0,eatTime:8.5,etcTime:8.5,num:1,unlock:3},{serial:4,PriceType:0,Price:25e3,MealFee:0,eatTime:8,etcTime:8,num:1,unlock:4},{serial:5,PriceType:0,Price:36e3,MealFee:0,eatTime:7.5,etcTime:7.5,num:1,unlock:5},{serial:6,PriceType:0,Price:49e3,MealFee:0,eatTime:7,etcTime:7,num:2,unlock:6},{serial:7,PriceType:0,Price:64e3,MealFee:0,eatTime:6.5,etcTime:6.5,num:2,unlock:7},{serial:8,PriceType:0,Price:81e3,MealFee:0,eatTime:6,etcTime:6,num:2,unlock:8},{serial:9,PriceType:1,Price:200,MealFee:100,eatTime:4,etcTime:3,num:3,unlock:0}],e.StorageRoom_config=[{level:0,Price:0,capacity:70,material:{material_MuCai:0,material_DaoCao:0,material_ShaZi:0}},{level:1,Price:400,capacity:90,material:{material_MuCai:1,material_DaoCao:1,material_ShaZi:1}},{level:2,Price:900,capacity:110,material:{material_MuCai:2,material_DaoCao:2,material_ShaZi:2}},{level:3,Price:1600,capacity:130,material:{material_MuCai:3,material_DaoCao:3,material_ShaZi:3}},{level:4,Price:2500,capacity:150,material:{material_MuCai:4,material_DaoCao:4,material_ShaZi:4}},{level:5,Price:3600,capacity:170,material:{material_MuCai:5,material_DaoCao:5,material_ShaZi:5}},{level:6,Price:4900,capacity:190,material:{material_MuCai:6,material_DaoCao:6,material_ShaZi:6}},{level:7,Price:6400,capacity:210,material:{material_MuCai:7,material_DaoCao:7,material_ShaZi:7}},{level:8,Price:8100,capacity:230,material:{material_MuCai:8,material_DaoCao:8,material_ShaZi:8}},{level:9,Price:1e4,capacity:250,material:{material_MuCai:9,material_DaoCao:9,material_ShaZi:9}},{level:10,Price:12100,capacity:270,material:{material_MuCai:10,material_DaoCao:10,material_ShaZi:10}},{level:11,Price:14400,capacity:290,material:{material_MuCai:11,material_DaoCao:11,material_ShaZi:11}},{level:12,Price:16900,capacity:310,material:{material_MuCai:12,material_DaoCao:12,material_ShaZi:12}},{level:13,Price:19600,capacity:330,material:{material_MuCai:13,material_DaoCao:13,material_ShaZi:13}},{level:14,Price:22500,capacity:350,material:{material_MuCai:14,material_DaoCao:14,material_ShaZi:14}},{level:15,Price:25600,capacity:370,material:{material_MuCai:15,material_DaoCao:15,material_ShaZi:15}},{level:16,Price:28900,capacity:390,material:{material_MuCai:16,material_DaoCao:16,material_ShaZi:16}},{level:17,Price:32400,capacity:410,material:{material_MuCai:17,material_DaoCao:17,material_ShaZi:17}},{level:18,Price:36100,capacity:430,material:{material_MuCai:18,material_DaoCao:18,material_ShaZi:18}},{level:19,Price:4e4,capacity:450,material:{material_MuCai:19,material_DaoCao:19,material_ShaZi:19}},{level:20,Price:44100,capacity:490,material:{material_MuCai:20,material_DaoCao:20,material_ShaZi:20}},{level:21,Price:48400,capacity:530,material:{material_MuCai:21,material_DaoCao:21,material_ShaZi:21}},{level:22,Price:53900,capacity:570,material:{material_MuCai:22,material_DaoCao:22,material_ShaZi:22}},{level:23,Price:57600,capacity:610,material:{material_MuCai:23,material_DaoCao:23,material_ShaZi:23}},{level:24,Price:62500,capacity:650,material:{material_MuCai:24,material_DaoCao:24,material_ShaZi:24}},{level:25,Price:67600,capacity:690,material:{material_MuCai:25,material_DaoCao:25,material_ShaZi:25}},{level:26,Price:72900,capacity:730,material:{material_MuCai:26,material_DaoCao:26,material_ShaZi:26}},{level:27,Price:78400,capacity:770,material:{material_MuCai:27,material_DaoCao:27,material_ShaZi:27}},{level:28,Price:84100,capacity:810,material:{material_MuCai:28,material_DaoCao:28,material_ShaZi:28}},{level:29,Price:9e4,capacity:850,material:{material_MuCai:29,material_DaoCao:29,material_ShaZi:29}},{level:30,Price:96100,capacity:890,material:{material_MuCai:30,material_DaoCao:30,material_ShaZi:30}},{level:31,Price:102400,capacity:930,material:{material_MuCai:31,material_DaoCao:31,material_ShaZi:31}},{level:32,Price:108900,capacity:970,material:{material_MuCai:32,material_DaoCao:32,material_ShaZi:32}},{level:33,Price:115600,capacity:1010,material:{material_MuCai:33,material_DaoCao:33,material_ShaZi:33}},{level:34,Price:122500,capacity:1050,material:{material_MuCai:34,material_DaoCao:34,material_ShaZi:34}},{level:35,Price:129600,capacity:1090,material:{material_MuCai:35,material_DaoCao:35,material_ShaZi:35}},{level:36,Price:136900,capacity:1130,material:{material_MuCai:36,material_DaoCao:36,material_ShaZi:36}},{level:37,Price:144400,capacity:1170,material:{material_MuCai:37,material_DaoCao:37,material_ShaZi:37}},{level:38,Price:152100,capacity:1210,material:{material_MuCai:38,material_DaoCao:38,material_ShaZi:38}},{level:39,Price:16e4,capacity:1250,material:{material_MuCai:39,material_DaoCao:39,material_ShaZi:39}},{level:40,Price:168100,capacity:1310,material:{material_MuCai:40,material_DaoCao:40,material_ShaZi:40}},{level:41,Price:176400,capacity:1370,material:{material_MuCai:41,material_DaoCao:41,material_ShaZi:41}},{level:42,Price:184900,capacity:1430,material:{material_MuCai:42,material_DaoCao:42,material_ShaZi:42}},{level:43,Price:193600,capacity:1490,material:{material_MuCai:43,material_DaoCao:43,material_ShaZi:43}},{level:44,Price:202500,capacity:1550,material:{material_MuCai:44,material_DaoCao:44,material_ShaZi:44}},{level:45,Price:211600,capacity:1610,material:{material_MuCai:45,material_DaoCao:45,material_ShaZi:45}},{level:46,Price:220900,capacity:1670,material:{material_MuCai:46,material_DaoCao:46,material_ShaZi:46}},{level:47,Price:230400,capacity:1730,material:{material_MuCai:47,material_DaoCao:47,material_ShaZi:47}},{level:48,Price:240100,capacity:1790,material:{material_MuCai:48,material_DaoCao:48,material_ShaZi:48}},{level:49,Price:25e4,capacity:1850,material:{material_MuCai:49,material_DaoCao:49,material_ShaZi:49}},{level:50,Price:260100,capacity:1910,material:{material_MuCai:50,material_DaoCao:50,material_ShaZi:50}},{level:51,Price:270400,capacity:1970,material:{material_MuCai:51,material_DaoCao:51,material_ShaZi:51}},{level:52,Price:280900,capacity:2030,material:{material_MuCai:52,material_DaoCao:52,material_ShaZi:52}},{level:53,Price:291600,capacity:2090,material:{material_MuCai:53,material_DaoCao:53,material_ShaZi:53}},{level:54,Price:302500,capacity:2150,material:{material_MuCai:54,material_DaoCao:54,material_ShaZi:54}},{level:55,Price:313600,capacity:2210,material:{material_MuCai:55,material_DaoCao:55,material_ShaZi:55}},{level:56,Price:324900,capacity:2270,material:{material_MuCai:56,material_DaoCao:56,material_ShaZi:56}},{level:57,Price:336400,capacity:2330,material:{material_MuCai:57,material_DaoCao:57,material_ShaZi:57}},{level:58,Price:348100,capacity:2390,material:{material_MuCai:58,material_DaoCao:58,material_ShaZi:58}},{level:59,Price:36e4,capacity:2450,material:{material_MuCai:59,material_DaoCao:59,material_ShaZi:59}}],e.goOutCar_config=[{Price:0,unlock:0,capacity:60,Income:0},{Price:6e3,unlock:6,capacity:80,Income:.2},{Price:15e3,unlock:8,capacity:100,Income:.4},{Price:4e4,unlock:10,capacity:120,Income:.6},{Price:9e4,unlock:12,capacity:150,Income:.8},{Price:18e4,unlock:14,capacity:200,Income:1}],e.goOutunlockLevel=8,e.Theme_config=[[{PriceType:0,Price:0,unlock:0},{PriceType:0,Price:4e4,unlock:2},{PriceType:0,Price:6e4,unlock:4},{PriceType:0,Price:8e4,unlock:6},{PriceType:0,Price:1e5,unlock:8},{PriceType:0,Price:12e4,unlock:10},{PriceType:0,Price:14e4,unlock:12},{PriceType:0,Price:16e4,unlock:14},{PriceType:0,Price:18e4,unlock:16},{PriceType:0,Price:2e5,unlock:18},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0}],[{PriceType:0,Price:0,unlock:0},{PriceType:0,Price:4e4,unlock:2},{PriceType:0,Price:6e4,unlock:4},{PriceType:0,Price:8e4,unlock:6},{PriceType:0,Price:1e5,unlock:8},{PriceType:0,Price:12e4,unlock:10},{PriceType:0,Price:14e4,unlock:12},{PriceType:0,Price:16e4,unlock:14},{PriceType:0,Price:18e4,unlock:16},{PriceType:0,Price:2e5,unlock:18},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0}],[{PriceType:0,Price:0,unlock:0},{PriceType:0,Price:2e4,unlock:2},{PriceType:0,Price:3e4,unlock:4},{PriceType:0,Price:4e4,unlock:6},{PriceType:0,Price:5e4,unlock:8},{PriceType:0,Price:6e4,unlock:10},{PriceType:0,Price:7e4,unlock:12},{PriceType:0,Price:8e4,unlock:14},{PriceType:0,Price:9e4,unlock:16},{PriceType:0,Price:1e5,unlock:18}],[{PriceType:0,Price:0,unlock:0},{PriceType:0,Price:4e4,unlock:2},{PriceType:0,Price:6e4,unlock:4},{PriceType:0,Price:8e4,unlock:6},{PriceType:0,Price:1e5,unlock:8},{PriceType:0,Price:12e4,unlock:10},{PriceType:0,Price:14e4,unlock:12},{PriceType:0,Price:16e4,unlock:14},{PriceType:0,Price:18e4,unlock:16},{PriceType:0,Price:2e5,unlock:18},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0},{PriceType:1,Price:100,unlock:0}]],e.Decoration_config=[[{Price:5e3,unlock:4},{Price:1e4,unlock:5},{Price:15e3,unlock:6},{Price:2e4,unlock:7},{Price:25e3,unlock:8},{Price:3e4,unlock:9},{Price:35e3,unlock:10},{Price:4e4,unlock:11},{Price:45e3,unlock:12},{Price:5e4,unlock:13},{Price:55e3,unlock:14},{Price:6e4,unlock:15},{Price:65e3,unlock:16},{Price:7e4,unlock:17},{Price:75e3,unlock:18},{Price:8e4,unlock:19},{Price:85e3,unlock:20},{Price:9e4,unlock:21},{Price:95e3,unlock:22},{Price:1e5,unlock:23}],[{Price:5e3,unlock:9},{Price:1e4,unlock:10},{Price:15e3,unlock:11},{Price:2e4,unlock:12},{Price:25e3,unlock:13},{Price:3e4,unlock:14},{Price:35e3,unlock:15},{Price:4e4,unlock:16},{Price:45e3,unlock:17},{Price:5e4,unlock:18},{Price:55e3,unlock:19},{Price:6e4,unlock:20},{Price:65e3,unlock:21},{Price:7e4,unlock:22},{Price:75e3,unlock:23},{Price:8e4,unlock:24},{Price:85e3,unlock:25},{Price:9e4,unlock:26},{Price:95e3,unlock:27},{Price:1e5,unlock:28}],[{Price:5e3,unlock:14},{Price:1e4,unlock:15},{Price:15e3,unlock:16},{Price:2e4,unlock:17},{Price:25e3,unlock:18},{Price:3e4,unlock:19},{Price:35e3,unlock:20},{Price:4e4,unlock:21},{Price:45e3,unlock:22},{Price:5e4,unlock:23},{Price:55e3,unlock:24},{Price:6e4,unlock:25},{Price:65e3,unlock:26},{Price:7e4,unlock:27},{Price:75e3,unlock:28},{Price:8e4,unlock:29},{Price:85e3,unlock:30},{Price:9e4,unlock:31},{Price:95e3,unlock:32},{Price:1e5,unlock:33}],[{Price:5e3,unlock:4},{Price:1e4,unlock:5},{Price:15e3,unlock:6},{Price:2e4,unlock:7},{Price:25e3,unlock:8},{Price:3e4,unlock:9},{Price:35e3,unlock:10},{Price:4e4,unlock:11},{Price:45e3,unlock:12},{Price:5e4,unlock:13},{Price:55e3,unlock:14},{Price:6e4,unlock:15},{Price:65e3,unlock:16},{Price:7e4,unlock:17},{Price:75e3,unlock:18},{Price:8e4,unlock:19},{Price:85e3,unlock:20},{Price:9e4,unlock:21},{Price:95e3,unlock:22},{Price:1e5,unlock:23}],[{Price:1e4,unlock:9},{Price:2e4,unlock:10},{Price:3e4,unlock:11},{Price:4e4,unlock:12},{Price:5e4,unlock:13},{Price:6e4,unlock:14},{Price:7e4,unlock:15},{Price:8e4,unlock:16},{Price:9e4,unlock:17},{Price:1e5,unlock:18},{Price:11e4,unlock:19},{Price:12e4,unlock:20},{Price:13e4,unlock:21},{Price:14e4,unlock:22},{Price:15e4,unlock:23},{Price:16e4,unlock:24},{Price:17e4,unlock:25},{Price:18e4,unlock:26},{Price:19e4,unlock:27},{Price:2e5,unlock:28}],[{Price:1e4,unlock:14},{Price:2e4,unlock:15},{Price:3e4,unlock:16},{Price:4e4,unlock:17},{Price:5e4,unlock:18},{Price:6e4,unlock:19},{Price:7e4,unlock:20},{Price:8e4,unlock:21},{Price:9e4,unlock:22},{Price:1e5,unlock:23},{Price:11e4,unlock:24},{Price:12e4,unlock:25},{Price:13e4,unlock:26},{Price:14e4,unlock:27},{Price:15e4,unlock:28},{Price:16e4,unlock:29},{Price:17e4,unlock:30},{Price:18e4,unlock:31},{Price:19e4,unlock:32},{Price:2e5,unlock:33}]],e.Pet_config=[{name:"dog",gem:200},{name:"cat",gem:200},{name:"parrot",gem:200}],e}();a.RoomConfig=i,cc._RF.pop()},{}],Set_Font:[function(e,t,a){"use strict";cc._RF.push(t,"324d8bOs2JMtZ1MwskTEiKp","Set_Font");var i,n=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),o=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.Label=0]="Label",e[e.RichText=1]="RichText"}(i||(i={}));var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nowFont_type=i.Label,t}return n(t,e),Object.defineProperty(t.prototype,"Font_type",{get:function(){return this.nowFont_type},set:function(e){this.nowFont_type=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if("Label"===i[this.Font_type])for(var e=0,t=this.node.getComponentsInChildren(cc.Label);e<t.length;e++){var a=t[e];a.font||(a.useSystemFont=!1,a.fontFamily=null,a.font=null,a.font=cc.find("StartNode").getComponent("scene_Start").get_GameFont())}else if("RichText"===i[this.Font_type])for(var n=0,o=this.node.getComponentsInChildren(cc.RichText);n<o.length;n++){var r=o[n];r.font||(r.useSystemFont=!1,r.fontFamily=null,r.font=null,r.font=cc.find("StartNode").getComponent("scene_Start").get_GameFont())}},t.prototype.start=function(){},o([c({visible:!1})],t.prototype,"nowFont_type",void 0),o([c({type:cc.Enum(i),displayName:"\u8bed\u8a00\u7c7b\u578b",tooltip:"\u9009\u62e9\u9ed8\u8ba4\u7c7b\u578b"})],t.prototype,"Font_type",null),t=o([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],SuperScrollView:[function(e,t,a){"use strict";cc._RF.push(t,"189cc2Pkl5K/Kdu9ifmRIWj","SuperScrollView");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},o=this&&this.__awaiter||function(e,t,a,i){function n(e){return e instanceof a?e:new a(function(t){t(e)})}return new(a||(a=Promise))(function(a,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):n(e.value).then(r,s)}c((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var a,i,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(6===o[0]&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],i=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,l=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pfItemTemplate=null,t.duration=1,t.itemListNum=0,t.isFrameLoading=!1,t.isLoadingFinished=!0,t.cbAfterSetData1=null,t.cbAfterSetData2=null,t}return i(t,e),t.prototype.onLoad=function(){this.content.on(cc.Node.EventType.CHILD_ADDED,this.childAdded.bind(this)),this.content.on(cc.Node.EventType.CHILD_REMOVED,this.childRemoved.bind(this))},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this.node.on("scrolling",this.improveDC,this)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),this.node.off("scrolling",this.improveDC,this)},t.prototype.onDestroy=function(){this.content.off(cc.Node.EventType.CHILD_ADDED,this.childAdded),this.content.off(cc.Node.EventType.CHILD_REMOVED,this.childRemoved)},t.prototype.childAdded=function(e){},t.prototype.childRemoved=function(e){},t.prototype.improveDC=function(){if(0!=this.content.childrenCount){var e=this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.x-this.node.anchorX*this.node.width,this.node.y-this.node.anchorY*this.node.height)),t=cc.rect(e.x,e.y,this.node.width,this.node.height);this.content.children.forEach(function(e){e.getBoundingBoxToWorld().intersects(t)?0===e.opacity&&(e.opacity=255):0!==e.opacity&&(e.opacity=0)})}},t.prototype.setData=function(e,t,a,i,n){return o(this,void 0,void 0,function(){var o,s,c=this;return r(this,function(r){switch(r.label){case 0:return this.isLoadingFinished?(this.isLoadingFinished=!1,this.isFrameLoading=t,this.itemListNum=e,this.cbAfterSetData1=i,this.cbAfterSetData2=n,a&&this.content.destroyAllChildren(),this.isFrameLoading?[4,this.executePreFrame(this.getItemGenerator(this.itemListNum),this.duration)]:[3,2]):[2];case 1:return r.sent(),[3,3];case 2:for(o=0;o<this.itemListNum;o++)(s=cc.instantiate(this.pfItemTemplate)).parent=this.content,this.cbAfterSetData1(s,o);this.isLoadingFinished=!0,this.scheduleOnce(function(){c.cbAfterSetData2&&c.cbAfterSetData2(),c.improveDC()}),r.label=3;case 3:return[2]}})})},t.prototype.executePreFrame=function(e,t){var a=this;return new Promise(function(i,n){var o=e,r=function(){for(var e=(new Date).getTime(),n=o.next();;n=o.next()){if(null==n||n.done)return void i();if((new Date).getTime()-e>t)return void a.scheduleOnce(function(){r()})}};r()})},t.prototype.initItem=function(e){var t=cc.instantiate(this.pfItemTemplate);t.parent=this.content,this.cbAfterSetData1(t,e)},t.prototype.getItemGenerator=function(e){var t,a=this;return r(this,function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<e?[4,this.initItem(t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return this.isLoadingFinished=!0,this.scheduleOnce(function(){a.cbAfterSetData2&&a.cbAfterSetData2(),a.improveDC()}),[2]}})},t.prototype.canInputData=function(){return this.isLoadingFinished},n([l({type:cc.Prefab,tooltip:"item\u6a21\u677f\u7684\u9884\u5236\u4f53"})],t.prototype,"pfItemTemplate",void 0),n([l({tooltip:"\u5206\u5e27\u52a0\u8f7d\u65f6\u95f4\u95f4\u9694"})],t.prototype,"duration",void 0),t=n([c],t)}(cc.ScrollView);a.default=h,cc._RF.pop()},{}],UI_Ctrl:[function(e,t,a){"use strict";cc._RF.push(t,"0553awuZ5dE5IE8Nf5uzcEF","UI_Ctrl");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./UI_ObjectPool"),r=cc._decorator.ccclass,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view={},t.click_Map=[],t.IsItSmall=!1,t.count=0,t}return i(t,e),t.prototype.initialization=function(){this.view={},this.load_all_object(this.node,""),cc.log(this.view)},t.prototype.load_all_object=function(e,t){for(var a=0;a<e.childrenCount;a++)this.view[t+e.children[a].name]=e.children[a],this.load_all_object(e.children[a],t+e.children[a].name+"/")},t.prototype.onEnable=function(){this.IsItSmall=!0,this.count=2},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!1},t.prototype.onDestroy=function(){this.remove_button_Listen(),this.IsItSmall=!1},t.prototype.update=function(e){this.IsItSmall&&(this.count+=e,this.count>=.5&&(this.count=0,this.RefreshStatus()))},t.prototype.RefreshStatus=function(){},t.prototype.add_button_Listen=function(e,t,a,i){void 0===i&&(i=0);var n=["touchstart","touchmove","touchend","touchcancel"];e.on(n[i],a,t),this.click_Map.push({click_node:e,click_type:n[i],caller_node:t,func:a})},t.prototype.remove_button_Listen=function(){for(var e=this.click_Map.length-1;e>=0;e--){var t=this.click_Map[e];t.click_node.off(t.click_type,t.func,t.caller_node),this.click_Map.splice(e,1)}this.click_Map=[]},t.prototype.FramingAddObject1=function(e,t,a,i){var n=this,r=0,s=function(){r<a&&o.UI_ObjectPool.instance.create_CS_Enemy(e,function(e){e.parent=t,i(r,r==a-1),n.scheduleOnce(function(e){r++,s()})})};s()},t.prototype.pagingAddObject=function(e,t,a,i,n){void 0===n&&(n=5);var r=0;if(a<=n)for(var s=0;s<a;s++)o.UI_ObjectPool.instance.create_CS_Enemy(e,function(e){e.parent=t,i(r,r==a-1),r++});else{var c=this,l=Math.floor(a/n),h=a%n,d=function(){if(r<l*n)for(var s=function(s){o.UI_ObjectPool.instance.create_CS_Enemy(e,function(e){e.parent=t,i(r,r==a-1),r++,s==n-1&&c.scheduleOnce(function(){d()})})},_=0;_<n;_++)s(_);else for(_=0;_<h;_++)o.UI_ObjectPool.instance.create_CS_Enemy(e,function(e){e.parent=t,i(r,r==a-1),r++})};d()}},t=n([r],t)}(cc.Component);a.default=s,cc._RF.pop()},{"./UI_ObjectPool":"UI_ObjectPool"}],UI_Events:[function(e,t,a){"use strict";cc._RF.push(t,"2c986KLmBZAK5ZA1YxK0ecm","UI_Events"),Object.defineProperty(a,"__esModule",{value:!0}),a.UI_Events=void 0;var i=function(){function e(){this._eventMap={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.onEvents=function(e,t,a,i){void 0===i&&(i=-1),void 0===this._eventMap[e]&&(this._eventMap[e]=[]);var n=this._eventMap[e];if(void 0===n||0===n.length)this._eventMap[e].push({callback:t,self:a,tag:i});else{for(var o=0;o<n.length;o++){if(n[o].tag===i)return}this._eventMap[e].push({callback:t,self:a,tag:i})}},e.prototype.emitEvents=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=-1);var i=this._eventMap[e];if(void 0!==i&&0!==i.length)if(-1===a)for(var n=0;n<i.length;n++){(o=i[n])&&o.callback.call(o.self,t)}else for(n=0;n<i.length;n++){var o;if((o=i[n]).tag===a)return void o.callback.call(o.self,t)}},e.prototype.offEvents=function(e,t,a,i){void 0===i&&(i=-1);var n=this._eventMap[e];if(void 0!==n&&0!==n.length)for(var o=n.length-1;o>=0;o--){var r=n[o];if(-1===r.tag)r&&r.callback===t&&r.self===a&&n.splice(o,1);else if(r&&r.callback===t&&r.self===a&&r.tag===i)return void n.splice(o,1)}else cc.log("\u4e8b\u4ef6 => "+e+" tag "+i+" \u4e0d\u5b58\u5728")},e.prototype.offAllEvents=function(){for(var e in this._eventMap)delete this._eventMap[e]},e}();a.UI_Events=i,cc._RF.pop()},{}],UI_GradientColor:[function(e,t,a){"use strict";cc._RF.push(t,"2095f9IAnFB1ptaFhZePdR1","UI_GradientColor");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,s=o.property,c=o.requireComponent,l=o.disallowMultiple,h=o.executeInEditMode,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colors=[cc.Color.RED,cc.Color.BLUE,cc.Color.RED,cc.Color.BLUE],t}return i(t,e),Object.defineProperty(t.prototype,"colors",{get:function(){return this._colors},set:function(e){e.length>4&&(e.length=4),this._colors=e,this.markForRender()},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.replaceFunction()},t.prototype.onDisable=function(){this.restoreFunction()},t.prototype.resetInEditor=function(){this.markForRender()},t.prototype.replaceFunction=function(){var e=this,t=this.getComponent(cc.RenderComponent);if(t){var a=t._assembler;a instanceof cc.Assembler2D&&(a.updateColor=function(){var t=a._renderData.uintVDatas[0];if(t)for(var i=a.floatsPerVert,n=a.colorOffset,o=e.node.color,r=0,s=n,c=t.length;s<c;s+=i)t[s]=(e.colors[r++]||o)._val},this.markForRender())}},t.prototype.restoreFunction=function(){var e=this.getComponent(cc.RenderComponent);if(e){var t=e._assembler;t instanceof cc.Assembler2D&&(t.updateColor=cc.Assembler2D.prototype.updateColor,this.markForRender())}},t.prototype.markForRender=function(){this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},n([s],t.prototype,"_colors",void 0),n([s({type:[cc.Color],tooltip:!1})],t.prototype,"colors",null),t=n([r,c(cc.RenderComponent),l,h],t)}(cc.Component);a.default=d,cc._RF.pop()},{}],UI_Guide:[function(e,t,a){"use strict";cc._RF.push(t,"f9548hikRRAm5plexIlPxnu","UI_Guide");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_Basics/GameData"),r=e("../../Model/network/GameSDK"),s=e("./UI_Events"),c=e("./UI_PlayMS"),l=cc._decorator,h=l.ccclass,d=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TipsBox=null,t.TipsBoxTxt=null,t.Hole=null,t.Hand=null,t.Hand2=null,t.MaskNode=null,t.YuYinCount=0,t.countStatus=!1,t.callback=null,t.TipsStr="",t.stage=0,t.Steps=-1,t.guideConfig=[[{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6b22\u8fce\u6765\u5230\u738b\u5927\u7237\u5bb6\uff0c\u4eba\u8001\u5fc3\u4e0d\u8001\uff0c\u738b\u5927\u7237\u51c6\u5907\u4ece\u8fd9\u91cc\u5f00\u59cb\u65b0\u7684\u4e8b\u4e1a\u3002",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u4fd7\u8bdd\u8bf4\uff0c\u4e07\u4e8b\u5f00\u5934\u96be\uff0c\u8ba9\u6211\u4eec\u5148\u5efa\u9020\u4e24\u5757\u8015\u5730\u5427\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:1,Txt_Url:"Canvas/UIMap/farming",Url:["Btn"]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u70b9\u51fb\u5efa\u9020\u8015\u5730\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/BuildPurchasePre/DiBan/purchaseBtn",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:2,Txt_Url:"Canvas/UIMap/farming",Url:["Btn"]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/BuildPurchasePre/DiBan/purchaseBtn",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6c11\u4ee5\u98df\u4e3a\u5929\uff0c\u8ba9\u6211\u4eec\u5148\u79cd\u690d\u51e0\u9897\u5c0f\u9ea6\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:2,Txt_Url:"Canvas/UIMap/farming",Url:["Btn"]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u7a0d\u7b49\u7247\u523b\uff0c\u9a6c\u4e0a\u5c31\u6210\u719f\u4e86\u3002",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u63a5\u4e0b\u6765\u770b\u770b\u6709\u4ec0\u4e48\u4efb\u52a1\u7b49\u7740\u6211\u4eec\u53bb\u505a\u3002",Url:[]},{type:1,Angle:225,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIBtn/bottom/RenWu",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6211\u4eec\u7684\u4efb\u52a1\u662f\u5236\u4f5c\u4e24\u4e2a\u9992\u5934\uff0c\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u9886\u53d6\u4efb\u52a1\u5956\u52b1\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/RenWuPre/CloseTXT",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u5c0f\u9ea6\u6210\u719f\u4e86\uff0c\u53ef\u4ee5\u6536\u83b7\u4e86\u3002",Url:[]},{type:1,Angle:25,IsContinue:!0,Children:0,Txt_Url:"Canvas/UIMap/farming",Url:["Btn"]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6536\u83b7\u7684\u7269\u54c1\u88ab\u5b58\u5165\u4ed3\u5e93\u4e2d\u4e86\u3002",Url:[]},{type:1,Angle:-25,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/CangKu/region",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u8fd9\u91cc\u5b58\u653e\u7740\u6240\u6709\u7684\u7269\u54c1\uff0c\u4ed3\u5e93\u6709\u5bb9\u91cf\u9650\u5236\uff0c\u5347\u7ea7\u4ed3\u5e93\u53ef\u4ee5\u63d0\u9ad8\u5bb9\u91cf\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/StorageRoomPre/CloseTXT",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u63a5\u4e0b\u6765\u53bb\u53a8\u623f\u52a0\u5de5\u9992\u5934\uff0c\u6765\u5b8c\u6210\u5206\u914d\u7684\u4efb\u52a1\u3002",Url:[]},{type:1,Angle:25,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/ChuFang/region",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u52a0\u5de5\u4ea7\u54c1\u9700\u8981\u539f\u6750\u6599\u3002",Url:[]},{type:1,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/BtnProcessing",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u518d\u52a0\u5de5\u4e00\u4e2a\u9992\u5934\u3002",Url:[]},{type:1,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/BtnProcessing",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u9992\u5934\u8fd8\u5f97\u4e00\u4f1a\u513f\u624d\u80fd\u52a0\u5de5\u5b8c\u6210\uff0c\u6211\u4eec\u53bb\u770b\u770b\u6709\u4ec0\u4e48\u8ba2\u5355\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/KitchenRoomPre/CloseTXT",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/HuoYunZhan/Btn",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u8fd9\u91cc\u9762\u5217\u51fa\u4e86\u5f53\u524d\u90bb\u5c45\u4eec\u7684\u9700\u6c42\uff0c\u9694\u58c1\u8001\u674e\u5bb6\u8981\u4e24\u4e2a\u9992\u5934\u548c\u4e00\u4e2a\u82b1\u5377\uff0c\u6211\u4eec\u8fd9\u5c31\u7ed9\u4ed6\u9001\u8fc7\u53bb\u3002",Url:[]},{type:1,Angle:0,IsContinue:!0,Children:0,Txt_Url:"Canvas/UIAddNode/FreightStationPre/DiBan/ScrollView/view/content",Url:["state0","Btn_loading"]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u8d27\u7269\u88c5\u8f66\u4e86\uff0c\u73b0\u5728\u53ef\u4ee5\u53bb\u9001\u8d27\u4e86\u3002",Url:[]},{type:1,Angle:180,IsContinue:!0,Children:-1,Txt_Url:"Canvas/UIAddNode/FreightStationPre/DiBan/Zhong/state0/StartShipping",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u8fd8\u5f97\u4e00\u4f1a\u513f\u624d\u80fd\u9001\u8d27\u56de\u6765\uff0c\u6211\u4eec\u5148\u53bb\u53a8\u623f\u770b\u770b\uff0c\u9992\u5934\u5e94\u8be5\u5236\u4f5c\u597d\u4e86\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/FreightStationPre/CloseTXT",Url:[]},{type:1,Angle:25,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/ChuFang/region",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u9992\u5934\u5df2\u7ecf\u719f\u4e86\uff0c\u53ef\u4ee5\u6536\u53d6\u4e86\u3002",Url:[]},{type:1,Angle:25,IsContinue:!0,Children:0,Txt_Url:"Canvas/UIAddNode/KitchenRoomPre/DiBan/Shang/list",Url:["Btn"]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6536\u83b7\u7684\u7269\u54c1\u540c\u6837\u88ab\u5b58\u5165\u4ed3\u5e93\u4e2d\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/KitchenRoomPre/CloseTXT",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u4efb\u52a1\u5b8c\u6210\u4e86\uff0c\u73b0\u5728\u53ef\u4ee5\u9886\u53d6\u5956\u52b1\u4e86\u3002",Url:[]},{type:1,Angle:225,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIBtn/bottom/RenWu",Url:[]},{type:1,Angle:180,IsContinue:!0,Children:-1,Txt_Url:"Canvas/UIAddNode/RenWuPre/DiBan/task1/xia/state1/receive",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u6bcf\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u4efb\u52a1\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/RenWuPre/CloseTXT",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u738b\u5927\u7237\u9001\u8d27\u4e5f\u56de\u6765\u4e86\uff0c\u53ef\u4ee5\u53bb\u6536\u94b1\u4e86\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/HuoYunZhan/Btn",Url:[]},{type:1,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"Canvas/UIAddNode/FreightStationPre/DiBan/Zhong/state2/node/receive",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u592a\u68d2\u4e86\uff0c\u6211\u4eec\u8d5a\u53d6\u4e86\u7b2c\u4e00\u7b14\u94b1\u3002",Url:[]},{type:1,Angle:180,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/FreightStationPre/CloseTXT",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u4e3b\u623f\u662f\u6574\u4e2a\u6e38\u620f\u7684\u6838\u5fc3\u5efa\u7b51\uff0c\u5347\u7ea7\u4e3b\u623f\u53ef\u4ee5\u89e3\u9501\u66f4\u591a\u529f\u80fd\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIMap/ZhuFang/region",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u5347\u7ea7\u4e3b\u623f\u9700\u8981\u6d88\u8017\u6389\u94b1\u548c\u6750\u6599\u3002",Url:[]},{type:1,Angle:0,IsContinue:!1,Children:-1,Txt_Url:"Canvas/UIAddNode/MainRoomPre/DiBan/UpBtn",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u4e3b\u623f\u5347\u7ea7\u5b8c\u6210\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u5efa\u9020\u591a\u4e00\u5757\u8015\u5730\u4e86\u3002",Url:[]},{type:0,Angle:0,IsContinue:!0,Children:-1,Txt_Url:"\u63a5\u4e0b\u6765\u6709\u66f4\u591a\u7684\u529f\u80fd\u7b49\u7740\u4f60\u53bb\u63a2\u7d22\uff0c\u5e0c\u671b\u4f60\u628a\u738b\u5927\u7237\u5bb6\u5efa\u8bbe\u7684\u66f4\u52a0\u7f8e\u597d\u3002",Url:[]}]],t}return i(t,e),t.prototype.start=function(){1==o.GameData.instance.IsGuidePattern?(cc.log("\u542f\u52a8\u5f15\u5bfc"),this.node.active=!0,this.TipsBox.active=!1,this.Hole.active=!1,this.Hand.active=!1,this.Hand2.active=!1,this.MaskNode.active=!1,this.stage=0,this.Steps=-1,s.UI_Events.instance.onEvents("Game_startGuide",this.startGuide,this),this.startGuide()):(cc.log("\u975e\u5f15\u5bfc"),this.node.active=!1,this.node.destroy())},t.prototype.onDestroy=function(){s.UI_Events.instance.offEvents("Game_startGuide",this.startGuide,this)},t.prototype.startGuide=function(){if(this.Steps++,this.Steps==this.guideConfig[this.stage].length&&(this.stage++,this.Steps=0),this.stage==this.guideConfig.length)return this.node.active=!1,this.node.destroy(),o.GameData.instance.IsGuidePattern=!1,void cc.log("\u5f15\u5bfc\u7ed3\u675f");switch(r.default.postEvent2("guide_step",this.Steps),this.guideConfig[this.stage][this.Steps].type){case 0:this.YuYinCount++,c.UI_PlayMS.instance.playSound("Guide_"+this.YuYinCount),this.Guide_Hints(this.guideConfig[this.stage][this.Steps].Txt_Url);break;case 1:var e=null,t=this.guideConfig[this.stage][this.Steps].Children;if(-1==t)e=cc.find(this.guideConfig[this.stage][this.Steps].Txt_Url);else{var a=this.guideConfig[this.stage][this.Steps].Url;if(e=cc.find(this.guideConfig[this.stage][this.Steps].Txt_Url).children[t],a.length>0)for(var i=a.length,n=0;n<i;n++)e=e.getChildByName(a[n])}this.Guide_Hole(e)}cc.log("\u5f15\u5bfc\u6b65\u6570",this.Steps)},t.prototype.Guide_Hints=function(e){this.TipsBox.active=!0,this.MaskNode.active=!0,this.countStatus=!1,this.TipsStr=e;var t=this.TipsStr.split(""),a=0;this.TipsBoxTxt.string="        ",this.callback=function(){var e=this;this.countStatus||(this.TipsBoxTxt.string+=t[a],a===t.length-1&&(this.countStatus=!0),++a<t.length&&this.scheduleOnce(function(){e.callback()},.15))},this.callback()},t.prototype.SkipBtn=function(){if(!this.countStatus)return this.countStatus=!0,this.TipsBoxTxt.string=this.TipsStr,void c.UI_PlayMS.instance.stopSound();this.TipsBox.active=!1,this.MaskNode.active=!1,this.guideConfig[this.stage][this.Steps].IsContinue&&this.startGuide()},t.prototype.Guide_Hole=function(e){var t=this;this.Hole.active=!0,this.MaskNode.active=!0,this.Hand.active=!1,this.Hand2.active=!1;var a=e.parent.convertToWorldSpaceAR(e.getPosition()),i=this.Hole.parent.convertToNodeSpaceAR(a);this.Hole.anchorX=e.anchorX,this.Hole.anchorY=e.anchorY,this.Hole.scaleX=e.scaleX,this.Hole.scaleY=e.scaleY,this.Hole.width=4*e.width,this.Hole.height=4*e.height;var n=this;cc.Tween.stopAllByTarget(this.Hole),cc.tween(this.Hole).to(.5,{position:cc.v3(i),width:e.width-4,height:e.height-4},{easing:"sineInOut"}).call(function(){t.scheduleOnce(function(){0==n.stage&&15==n.Steps?n.Hand2.active=!0:(n.Hand.active=!0,0==e.anchorY?n.Hand.setPosition(i.x,i.y+e.height/2):1==e.anchorY?n.Hand.setPosition(i.x,i.y-e.height/2):n.Hand.setPosition(i),n.Hand.angle=n.guideConfig[n.stage][n.Steps].Angle),n.MaskNode.active=!1,n.node.on(cc.Node.EventType.TOUCH_START,n.GuideTouch,n)})}).start()},t.prototype.GuideTouch=function(e){var t=null;t=0==this.Hole.anchorY?cc.rect(0-this.Hole.width/2,0,this.Hole.width,this.Hole.height):1==this.Hole.anchorY?cc.rect(0-this.Hole.width/2,0-this.Hole.height,this.Hole.width,this.Hole.height):cc.rect(0-this.Hole.width/2,0-this.Hole.height/2,this.Hole.width,this.Hole.height);var a=this.Hole.convertToNodeSpaceAR(e.getLocation());t.contains(a)?(cc.log("\u7a7a\u6d1e \u533a\u57df\u5185  \u5411\u4e0b\u89e6\u6478 "),this.node._touchListener.setSwallowTouches(!1),this.Hole.active=!1,this.Hand.active=!1,this.Hand2.active=!1,this.node.off(cc.Node.EventType.TOUCH_START,this.GuideTouch,this),this.guideConfig[this.stage][this.Steps].IsContinue&&this.startGuide()):(cc.log("\u7a7a\u6d1e \u533a\u57df\u5916 \u4e0d\u5411\u4e0b\u89e6\u6478"),this.node._touchListener.setSwallowTouches(!0),e.stopPropagation())},n([d({type:cc.Node,displayName:"TipsBox",tooltip:"\u63d0\u793a\u6846"})],t.prototype,"TipsBox",void 0),n([d({type:cc.Label,displayName:"TipsBoxTxt",tooltip:"\u63d0\u793a\u6846 \u5185\u5bb9"})],t.prototype,"TipsBoxTxt",void 0),n([d({type:cc.Node,displayName:"Hole",tooltip:"\u6d1e/\u5b54"})],t.prototype,"Hole",void 0),n([d({type:cc.Node,displayName:"Hand",tooltip:"\u5c0f\u624b"})],t.prototype,"Hand",void 0),n([d({type:cc.Node,displayName:"Hand2",tooltip:"\u6536\u83b7\u5c0f\u624b"})],t.prototype,"Hand2",void 0),n([d({type:cc.Node,displayName:"MaskNode",tooltip:"\u5c4f\u853d\u5c42"})],t.prototype,"MaskNode",void 0),t=n([h],t)}(cc.Component);a.default=_,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/network/GameSDK":"GameSDK","./UI_Events":"UI_Events","./UI_PlayMS":"UI_PlayMS"}],UI_Layout:[function(e,t,a){"use strict";cc._RF.push(t,"7f632eYC9hK9K4aFoMNWuPt","UI_Layout");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EachLineMax=0,t}return i(t,e),t.prototype.init_Layout=function(){var e=this.node.getComponent(cc.Layout);e||this.node.addComponent(cc.Layout),e.type=3,e.resizeMode=1,e.startAxis=0,e.verticalDirection=1,e.horizontalDirection=0;for(var t=e.type,a=e.resizeMode,i=e.cellSize,n=e.paddingTop,o=e.paddingBottom,r=e.paddingLeft,s=e.paddingRight,c=e.spacingX,l=e.spacingY,h=this.node.children.length,d=0,_=0;_<h;_++)this.node.children[_]&&1==this.node.children[_].active&&d++;3==t&&1==a&&(d<this.EachLineMax?(this.node.width=i.width*d+r+s+(d-1)*c+10,this.node.height=i.height+n+o+10):(this.node.width=i.width*this.EachLineMax+r+s+(this.EachLineMax-1)*c+10,this.node.height=i.height*Math.ceil(d/this.EachLineMax)+n+o+Math.ceil(d/this.EachLineMax)*l+10))},t.prototype.update=function(e){this.init_Layout()},n([s({displayName:"EachLineMax",tooltip:"\u5355\u884c\u6700\u5927\u6570\u91cf"})],t.prototype,"EachLineMax",void 0),t=n([r],t)}(cc.Layout);a.default=c,cc._RF.pop()},{}],UI_Manager:[function(e,t,a){"use strict";cc._RF.push(t,"bd1c1RiWZ5HHrktFFtygdnM","UI_Manager"),Object.defineProperty(a,"__esModule",{value:!0}),a.UI_Manager=void 0;var i=e("../../Model/M_Basics/CommonFun"),n=e("./UI_ObjectPool"),o=function(){function e(){this._assets={},this.LastTime=0,this.LastStr=""}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.show_ui_at=function(e,t,a,i){void 0===i&&(i=null),this.loading(t,cc.Prefab,function(t){var n=cc.instantiate(t);(e.addChild(n),null!=i)&&(n.getComponent(i)?cc.log("\u65e0\u9700\u6dfb\u52a0",i):(n.addComponent(i),cc.log("  \u9700\u6dfb\u52a0",i)));a(n)},i)},e.prototype.loadNewReleaseOld=function(e,t,a,n,o){void 0===n&&(n=!0),void 0===o&&(o=null);var r=i.FuncCommon.Func_formatString(t,[""+a]),s=e.tagid;r!=s&&this.loading(""+r,cc.SpriteFrame,function(t){e.getComponent(cc.Sprite).spriteFrame=t,e.tagid=r,1==n&&void 0!=s&&cc.resources.release(""+s,cc.SpriteFrame)},o)},e.prototype.loading=function(t,a,i,n){if(void 0===n&&(n=null),""==t||null==t||void 0==t)return i(null),void cc.log("\u9519\u8bef \u8d44\u6e90\u5730\u5740 => ("+t+")!!");cc.resources.load(t,a,function(t,o){if(t)return cc.log(t),void i(null);null!=n&&(o.addRef(),void 0==e._assets[n]&&(e._assets[n]={_SpriteAtlas:[],_SpriteFrame:[],_SkeletonData:[],_AudioClip:[],_Prefab:[]}),a==cc.SpriteAtlas?e._assets[n]._SpriteAtlas.push(o):a==cc.SpriteFrame?e._assets[n]._SpriteFrame.push(o):a==sp.SkeletonData?e._assets[n]._SkeletonData.push(o):a==sp.SkeletonData?e._assets[n]._AudioClip.push(o):a==cc.Prefab&&e._assets[n]._Prefab.push(o),cc.log(e._assets)),i(o)})},e.prototype.decRef_loading=function(t){if(void 0!=e._assets[t]){var a=e._assets[t]._SpriteAtlas.length,i=e._assets[t]._SpriteFrame.length,n=e._assets[t]._SkeletonData.length,o=e._assets[t]._AudioClip.length,r=e._assets[t]._Prefab.length;if(a>=1)for(var s=a-1;s>=0;s--){e._assets[t]._SpriteAtlas[s].decRef(),e._assets[t]._SpriteAtlas.splice(s,1)}if(i>=1)for(s=i-1;s>=0;s--){e._assets[t]._SpriteFrame[s].decRef(),e._assets[t]._SpriteFrame.splice(s,1)}if(n>=1)for(s=n-1;s>=0;s--){e._assets[t]._SkeletonData[s].decRef(),e._assets[t]._SkeletonData.splice(s,1)}if(o>=1)for(s=o-1;s>=0;s--){e._assets[t]._AudioClip[s].decRef(),e._assets[t]._AudioClip.splice(s,1)}if(r>=1)for(s=r-1;s>=0;s--){e._assets[t]._Prefab[s].decRef(),e._assets[t]._Prefab.splice(s,1)}delete e._assets[t]}},e.prototype.ResReleaseAsset=function(e){cc.assetManager.releaseAsset(e)},e.prototype.ResourcesLoading=function(e,t,a,i){var n=this;cc.resources.load(t,a,function(t,a){t?cc.log(t):(void 0==n._assets[e]&&(n._assets[e]=[]),-1===n._assets[e].indexOf(a)&&n._assets[e].push(a),i(a))})},e.prototype.ResourcesClear=function(e){cc.log("\u7eaa\u5f55\u5f97\u91ca\u653e\u524d",cc.assetManager.assets);for(var t=this._assets[e].length-1;t>=0;t--){var a=this._assets[e][t];cc.assetManager.releaseAsset(a)}this._assets[e]=[],cc.log("\u7eaa\u5f55\u5f97\u91ca\u653e\u540e",cc.assetManager.assets,"\n")},e.prototype.OpenPopup=function(e,t,a){n.UI_ObjectPool.instance.create_CS_Enemy("Popup",function(i){i.setPosition(cc.v3(0,0)),cc.director.getScene().addChild(i),i.zIndex=1e3;i.getComponent("Popup").init(e,t,function(e,t){cc.log("%c \u5f39\u51fa\u7a97\u53e3 =>  \u9009\u62e9\u7ed3\u679c "+e+" "," font-size : 10px ; color : #FDD882 ;"),n.UI_ObjectPool.instance.Killed_CS_Enemy("Popup",t),a&&a(e)});var o=i.getChildByName("PingBiCeng"),r=i.getChildByName("DiBan");o.active=!0,r.scale=0,cc.tween(r).to(0,{scale:.8}).to(.3,{scale:1}).call(function(){o.active=!1}).start()})},e.prototype.AddFloatSprite=function(e,t,a,o,r,s){void 0===s&&(s=null);var c=t.parent.convertToWorldSpaceAR(t.getPosition()),l=cc.director.getScene().convertToNodeSpaceAR(c),h=a.parent.convertToWorldSpaceAR(a.getPosition()),d=cc.director.getScene().convertToNodeSpaceAR(h);n.UI_ObjectPool.instance.create_CS_Enemy("FloatSprite",function(t){var a=t;a.setPosition(l),cc.director.getScene().addChild(a);var c=a.getChildByName("icon");a.getChildByName("Num").getComponent(cc.Label).string="x"+i.FuncCommon.Funcformat_0(r),c.scale=e,c.anchorX=.5,c.anchorY=0,cc.resources.load(o,cc.SpriteFrame,function(e,t){e&&(cc.log(e),t=null),c.getComponent(cc.Sprite).spriteFrame=t;var i=l.sub(d).mag()/400;cc.tween(a).to(i,{position:cc.v3(d)},{easing:"circInOut"}).call(function(){n.UI_ObjectPool.instance.Killed_CS_Enemy("FloatSprite",a),s&&s()}).start()})})},e.prototype.AddFloatLabel=function(e,t){void 0===t&&(t=null);var a=(new Date).getTime();if(!(this.LastStr==e&&this.LastTime>=a)){this.LastTime=a+1e3,this.LastStr=e;var i=cc.v2(0,0);if(null==t)i=cc.v2(cc.winSize.width/2,cc.winSize.height/2);else{var o=t.parent.convertToWorldSpaceAR(t.getPosition());i=cc.director.getScene().convertToNodeSpaceAR(o)}n.UI_ObjectPool.instance.create_CS_Enemy("FloatLabel",function(t){var a=t;a.setPosition(i.x,i.y-400),a.opacity=255,cc.director.getScene().addChild(a),a.getComponent(cc.Label).string=e,cc.tween(a).to(5,{position:cc.v3(i.x,i.y+200),opacity:0},{easing:"circInOut"}).delay(.1).call(function(){n.UI_ObjectPool.instance.Killed_CS_Enemy("FloatLabel",a)}).start()})}},e._assets={},e}();a.UI_Manager=o,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","./UI_ObjectPool":"UI_ObjectPool"}],UI_ObjectPool:[function(e,t,a){"use strict";cc._RF.push(t,"dde72SghB1DMZdXTRVoKyGA","UI_ObjectPool"),Object.defineProperty(a,"__esModule",{value:!0}),a.UI_ObjectPool=void 0;var i=e("./UI_Manager"),n=function(){function e(){this.CS_Pool={},this.Url_Pool={Popup:["Prefab/currency/Popup"],FloatLabel:["Prefab/currency/FloatLabel"],FloatSprite:["Prefab/currency/FloatSprite"],SpineFarming:["Prefab/spine/SpineFarming"],SpineFlowers:["Prefab/spine/SpineFlowers"],SpineOrchard:["Prefab/spine/SpineOrchard"],SpineGuest:["Prefab/spine/SpineGuest"],LaJiPre:["Prefab/LaJiPre"],JianZaoChildren_0:["Prefab/menu/JianZaoChildren_0"],JianZaoChildren_1:["Prefab/menu/JianZaoChildren_1"],JianZaoChildren_2:["Prefab/menu/JianZaoChildren_2"],JianZaoChildren_3:["Prefab/menu/JianZaoChildren_3"],JianZaoChildren_4:["Prefab/menu/JianZaoChildren_4"],JianZaoChildren_5:["Prefab/menu/JianZaoChildren_5"]}}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.Add_CS_Enemy=function(){var e=this.Url_Pool,t=function(t){void 0==a.CS_Pool[t]&&(e[t].length>1?a.CS_Pool[t]=new cc.NodePool(e[t][1]):a.CS_Pool[t]=new cc.NodePool),i.UI_Manager.instance.loading(e[t][0],cc.Prefab,function(e){var a=0;switch(t){case"Popup":a=5;break;case"FloatLabel":a=10;break;case"FloatSprite":a=20;break;case"SpineFarming":a=24;break;case"SpineFlowers":a=6;break;case"SpineOrchard":a=8;break;case"SpineGuest":case"LaJiPre":a=20;break;case"JianZaoChildren_0":case"JianZaoChildren_1":a=6;break;case"JianZaoChildren_2":case"JianZaoChildren_3":a=20;break;case"JianZaoChildren_4":a=10;break;case"JianZaoChildren_5":a=3;break;default:a=5}for(var i=0;i<a;i++){var n=cc.instantiate(e);this.CS_Pool[t].put(n)}}.bind(a))},a=this;for(var n in e)t(n)},e.prototype.create_CS_Enemy=function(e,t){if(this.CS_Pool[e].size()>0){var a=this.CS_Pool[e].get();t(a)}else i.UI_Manager.instance.loading(this.Url_Pool[e][0],cc.Prefab,function(e){var a=cc.instantiate(e);t(a)}.bind(this))},e.prototype.Killed_CS_Enemy=function(e,t){"LaJiPre"==e?this.CS_Pool[e].size()<50?this.CS_Pool[e].put(t):t.destroy():"SpineGuest"==e?this.CS_Pool[e].size()<40?this.CS_Pool[e].put(t):t.destroy():this.CS_Pool[e].size()<20?this.CS_Pool[e].put(t):t.destroy()},e.prototype.emptyNodePool=function(){for(var e in this.CS_Pool)delete this.CS_Pool[e]},e}();a.UI_ObjectPool=n,cc._RF.pop()},{"./UI_Manager":"UI_Manager"}],UI_PlayMS:[function(e,t,a){"use strict";cc._RF.push(t,"c4247tSKVJI+qcjS0XXePr+","UI_PlayMS"),Object.defineProperty(a,"__esModule",{value:!0}),a.UI_PlayMS=void 0;var i=e("../../Model/M_Basics/CommonFun"),n=e("../../Model/M_Basics/GameData"),o=e("./UI_Manager"),r=function(){function e(){this.Music_Data=null,this.Music_Name="",this.Sound_Data=null,this.MusictDuration=0}return Object.defineProperty(e,"instance",{get:function(){return null==this._New&&(this._New=new e),this._New},enumerable:!1,configurable:!0}),e.prototype.randomPlayMusic=function(){e.instance.playMusic1("season_"+i.FuncCommon.GetRandNum(0,3))},e.prototype.playMusic1=function(t){e.instance.stopMusic(),n.GameData.instance.MasterData.MusicState&&o.UI_Manager.instance.loading("audio/"+t,cc.AudioClip,function(t){e.instance.Music_Data=cc.audioEngine.playMusic(t,!1),cc.audioEngine.setFinishCallback(e.instance.Music_Data,e.instance.randomPlayMusic)})},e.prototype.playMusic2=function(t){e.instance.stopMusic(),n.GameData.instance.MasterData.MusicState&&o.UI_Manager.instance.loading("audio/"+t,cc.AudioClip,function(t){e.instance.Music_Data=cc.audioEngine.playMusic(t,!0),cc.audioEngine.setMusicVolume(1)})},e.prototype.stopMusic=function(){null!=e.instance.Music_Data&&(cc.audioEngine.stopMusic(),e.instance.Music_Data=null)},e.prototype.playSound=function(t){e.instance.stopSound(),cc.log(cc.audioEngine.getState(e.instance.Sound_Data)),n.GameData.instance.MasterData.SoundState&&o.UI_Manager.instance.loading("audio/"+t,cc.AudioClip,function(t){e.instance.Sound_Data=cc.audioEngine.playEffect(t,!1)})},e.prototype.stopSound=function(){null!=e.instance.Sound_Data&&(cc.audioEngine.stopEffect(e.instance.Sound_Data),e.instance.Sound_Data=null)},e.prototype.MusicPause=function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.pauseMusic()},e.prototype.MusicResume=function(){},e}();a.UI_PlayMS=r,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","./UI_Manager":"UI_Manager"}],UI_ScrollViewList:[function(e,t,a){"use strict";cc._RF.push(t,"8aace4Df1FGqbVmVYrLRrTu","UI_ScrollViewList");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o,r=cc._decorator,s=r.ccclass,c=r.property;(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(o||(o={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t._itemTmp=null,t._inited=!1,t}return i(t,e),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),t.prototype._init=function(){this._inited?cc.error("\u65e0\u9700\u91cd\u590d\u521d\u59cb\u5316"):(this._itemTmp=cc.instantiate(this.templateType==o.PREFAB?this.tmpPrefab:this.tmpNode),this._scrollView=this.node.getComponent(cc.ScrollView),this.content=this._scrollView.content,this.content?(this._layout=this.content.getComponent(cc.Layout),this._inited=!0):cc.error(this.node.name+"\u6eda\u52a8\u89c6\u56fe \u672a\u8bbe\u7f6e\u5185\u5bb9!"))},n([c({type:cc.Enum(o),tooltip:!1})],t.prototype,"templateType",void 0),n([c({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),n([c({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),t=n([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],UI_Scrollview_load:[function(e,t,a){"use strict";cc._RF.push(t,"245005LRaNPl7mkNMsOHqx9","UI_Scrollview_load");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item_prefab=null,t.scroll_view=null,t.PAGE_NUM=5,t.OPT_HEIGHT=0,t.opt_item_set=[],t.start_index=0,t.start_y=0,t.value_set=[],t}return i(t,e),t.prototype.onLoad=function(){for(var e=1;e<=100;e++)this.value_set.push(e);this.opt_item_set=[];for(e=0;e<3*this.PAGE_NUM;e++){var t=cc.instantiate(this.item_prefab);this.scroll_view.content.addChild(t),this.opt_item_set.push(t)}this.OPT_HEIGHT=this.scroll_view.content.children[0].height,this.scroll_view.node.on("scroll-end",this.on_scroll_ended.bind(this),this)},t.prototype.start=function(){this.start_y=this.scroll_view.content.y,this.start_index=0,this.load_record(this.start_index)},t.prototype.load_record=function(e){this.start_index=e;for(var t=0;t<3*this.PAGE_NUM;t++)this.opt_item_set[t].getChildByName("src").getComponent(cc.Label).string=this.value_set[e+t]},t.prototype.on_scroll_ended=function(){this.scrollview_load_record(),this.scroll_view.elastic=!0},t.prototype.scrollview_load_record=function(){if(this.start_index+3*this.PAGE_NUM<this.value_set.length&&this.scroll_view.content.y>=this.start_y+2*this.PAGE_NUM*this.OPT_HEIGHT){if(this.scroll_view.isAutoScrolling())return void(this.scroll_view.elastic=!1);var e=this.PAGE_NUM;if(this.start_index+=e,this.start_index+3*this.PAGE_NUM>this.value_set.length){var t=this.start_index+3*this.PAGE_NUM-this.value_set.length;e-=t,this.start_index-=t}return this.load_record(this.start_index),void(this.scroll_view.content.y-=e*this.OPT_HEIGHT)}if(this.start_index>0&&this.scroll_view.content.y<=this.start_y){if(this.scroll_view.isAutoScrolling())return void(this.scroll_view.elastic=!1);var a=this.PAGE_NUM;return this.start_index-=a,this.start_index<0&&(a+=this.start_index,this.start_index=0),this.load_record(this.start_index),void(this.scroll_view.content.y+=a*this.OPT_HEIGHT)}},t.prototype.update=function(e){this.scrollview_load_record()},n([s({type:cc.Prefab,displayName:"item_prefab",tooltip:"\u9884\u5236\u4ef6"})],t.prototype,"item_prefab",void 0),n([s({type:cc.ScrollView,displayName:"scroll_view",tooltip:"\u6dfb\u52a0\u8282\u70b9"})],t.prototype,"scroll_view",void 0),n([s({displayName:"PAGE_NUM",tooltip:"\u6bcf\u9875\u4e2a\u6570"})],t.prototype,"PAGE_NUM",void 0),t=n([r],t)}(cc.Component);a.default=c,cc._RF.pop()},{}],UI_SetNodezIndex:[function(e,t,a){"use strict";cc._RF.push(t,"2a57ene/CJHIID+toksvdep","UI_SetNodezIndex");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nowzIndex=2,t}return i(t,e),Object.defineProperty(t.prototype,"zIndex_type",{get:function(){return this.nowzIndex},set:function(e){this.nowzIndex=e,this.node.zIndex=this.zIndex_type},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.node.zIndex=this.zIndex_type},n([s({visible:!1})],t.prototype,"nowzIndex",void 0),n([s()],t.prototype,"zIndex_type",null),t=n([r],t)}(cc.Component);a.default=c,cc._RF.pop()},{}],UI_isInPolygon:[function(e,t,a){"use strict";cc._RF.push(t,"919c8KImWpCZL9aqhYkHWAG","UI_isInPolygon"),Object.defineProperty(a,"__esModule",{value:!0}),a.UI_isInPolygon=void 0;var i=function(){function e(){}return e.isInPolygon1=function(e,t){var a=t.convertToNodeSpaceAR(e.getLocation()),i=t.getComponent(cc.PolygonCollider).points;return cc.Intersection.pointInPolygon(a,i)},e.isInPolygon2=function(e,t){var a,i,n,o,r=t.convertToNodeSpaceAR(e.getLocation()),s=t.getComponent(cc.PolygonCollider).points,c=0,l=s.length;for(n=s[0],a=1;a<=l;a++)o=s[a%l],r.x>Math.min(n.x,o.x)&&r.x<=Math.max(n.x,o.x)&&r.y<=Math.max(n.y,o.y)&&n.x!=o.x&&(i=(r.x-n.x)*(o.y-n.y)/(o.x-n.x)+n.y,(n.y==o.y||r.y<=i)&&c++),n=o;return c%2!=0},e}();a.UI_isInPolygon=i,cc._RF.pop()},{}],V_BalloonRewardsPre:[function(e,t,a){"use strict";cc._RF.push(t,"08f64SWsmhLXpXIBx6DdIjU","V_BalloonRewardsPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/CommonFun"),s=e("../Model/M_Basics/GameData"),c=e("../Model/M_instance/DMA_StorageRoom"),l=e("../Model/network/GameSDK"),h=e("./currency/UI_Ctrl"),d=e("./currency/UI_Events"),_=e("./currency/UI_Manager"),m=e("./currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeID=0,t}return i(t,e),t.prototype.CloseFunc=function(){m.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("CloseGamePrefab","BalloonRewardsPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,r.FuncCommon.probability(50,100)?this.typeID=0:this.typeID=1,0==this.typeID?(this.node.getChildByName("DiBan").getChildByName("node").children[0].active=!0,this.node.getChildByName("DiBan").getChildByName("node").children[1].active=!0,this.node.getChildByName("DiBan").getChildByName("node").children[2].active=!0,this.node.getChildByName("DiBan").getChildByName("node").children[3].active=!1):(this.node.getChildByName("DiBan").getChildByName("node").children[0].active=!1,this.node.getChildByName("DiBan").getChildByName("node").children[1].active=!1,this.node.getChildByName("DiBan").getChildByName("node").children[2].active=!1,this.node.getChildByName("DiBan").getChildByName("node").children[3].active=!0),d.UI_Events.instance.emitEvents("CloseMask")},t.prototype.VideoViewing=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button");var e=this;l.default.postEvent2("ads_start_position",34),l.default.FcunVideoTsOc(function(t){switch(t){case 0:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:m.UI_PlayMS.instance.playSound("confirm"),0==e.typeID?(c.DMA_StorageRoom.instance.ModifyNum("material_MuCai",3),c.DMA_StorageRoom.instance.ModifyNum("material_DaoCao",3),c.DMA_StorageRoom.instance.ModifyNum("material_ShaZi",3),_.UI_Manager.instance.AddFloatSprite(.5,e.node.getChildByName("DiBan").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",3),_.UI_Manager.instance.AddFloatSprite(.5,e.node.getChildByName("DiBan").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",3),_.UI_Manager.instance.AddFloatSprite(.5,e.node.getChildByName("DiBan").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",3)):(s.GameData.instance.setGameGem(10),_.UI_Manager.instance.AddFloatSprite(1,e.node.getChildByName("DiBan").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",10)),d.UI_Events.instance.emitEvents("CloseGamePrefab","BalloonRewardsPre"),_.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),l.default.postEvent2("ads_finish_position",34);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../Model/M_Basics/CommonFun":"CommonFun","../Model/M_Basics/GameData":"GameData","../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../Model/network/GameSDK":"GameSDK","../i18n/i18nMgr":"i18nMgr","./currency/UI_Ctrl":"UI_Ctrl","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_PlayMS":"UI_PlayMS"}],V_BuildPurchasePre:[function(e,t,a){"use strict";cc._RF.push(t,"9f476LCgLpG875h9gRFJq6j","V_BuildPurchasePre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMB_Farm"),h=e("../../Model/M_instance/DMB_Farming"),d=e("../../Model/M_instance/DMB_Fish"),_=e("../../Model/M_instance/DMB_Flowers"),m=e("../../Model/M_instance/DMB_Orchard"),u=e("../currency/UI_Ctrl"),g=e("../currency/UI_Events"),p=e("../currency/UI_Manager"),f=e("../currency/UI_PlayMS"),C=cc._decorator,y=C.ccclass,D=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Data=null,t._icon=null,t._Name=null,t._Unlock=null,t._purchaseBtn=null,t}return i(t,e),t.prototype.init=function(e){this._Data=e,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this._icon=cc.find("Canvas/UIAddNode/BuildPurchasePre/DiBan/DiSe/Kuang/icon"),this._Name=cc.find("Canvas/UIAddNode/BuildPurchasePre/DiBan/DiSe/Kuang/Name"),this._Unlock=cc.find("Canvas/UIAddNode/BuildPurchasePre/DiBan/Tips"),this._purchaseBtn=cc.find("Canvas/UIAddNode/BuildPurchasePre/DiBan/purchaseBtn"),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this._purchaseBtn,this,this.purchaseFunc,0),this.RefreshUI(),1==s.GameData.instance.IsGuidePattern?this.scheduleOnce(function(){g.UI_Events.instance.emitEvents("Game_startGuide"),g.UI_Events.instance.emitEvents("CloseMask")},.1):g.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre")},t.prototype.RefreshUI=function(){var e=0,t=0;switch(this._Data.MainType){case 0:p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/build/TianDi_1",null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("buildfarming",[""+(this._Data.Subtype+1)]),e=c.RoomConfig.farming_config[this._Data.Subtype].unlock,t=c.RoomConfig.farming_config[this._Data.Subtype].Price;break;case 1:p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/build/GuoYuan_1",null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("buildorchard",[""+(this._Data.Subtype+1)]),e=c.RoomConfig.orchard_config[this._Data.Subtype].unlock,t=c.RoomConfig.orchard_config[this._Data.Subtype].Price;break;case 2:p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/build/HuaYuan_ZL_Hou_1",null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("buildflowers",[""+(this._Data.Subtype+1)]),e=c.RoomConfig.flowers_config[this._Data.Subtype].unlock,t=c.RoomConfig.flowers_config[this._Data.Subtype].Price;break;case 3:p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_YangZhi_"+this._Data.Subtype+"_0",null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("buildfarm"+this._Data.Subtype),e=c.RoomConfig.farm_config[this._Data.Subtype].unlock,t=c.RoomConfig.farm_config[this._Data.Subtype].UpPrice[0];break;case 4:p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_ShuiChan_0",null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("buildfish",[""+(this._Data.Subtype+1)]),e=c.RoomConfig.fish_config[this._Data.Subtype].unlock,t=c.RoomConfig.fish_config[this._Data.Subtype].UpPrice[0]}s.GameData.instance.MasterData.MainRoomLevel>=e?(this._Unlock.getComponent(cc.Label).string="",this._purchaseBtn.active=!0,this._purchaseBtn.getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(t)):(this._Unlock.getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(e+1)]),this._purchaseBtn.active=!1)},t.prototype.purchaseFunc=function(){if(f.UI_PlayMS.instance.playSound("button"),0==this._Data.MainType)switch(h.DMB_Farming.instance.buyFarming(this._Data.Subtype)){case 0:g.UI_Events.instance.emitEvents("V_farming_InitUI"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre");break;case 1:p.UI_Manager.instance.AddFloatLabel("\u65e0\u9700\u91cd\u590d\u8d2d\u4e70");break;case 2:p.UI_Manager.instance.AddFloatLabel("\u987a\u5e8f\u8d2d\u4e70");break;case 3:p.UI_Manager.instance.AddFloatLabel("\u5df2\u5168\u90e8\u8d2d\u4e70");break;case 4:p.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3")}else if(1==this._Data.MainType)switch(m.DMB_Orchard.instance.buyOrchard(this._Data.Subtype)){case 0:g.UI_Events.instance.emitEvents("V_orchard_InitUI"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre");break;case 1:p.UI_Manager.instance.AddFloatLabel("\u65e0\u9700\u91cd\u590d\u8d2d\u4e70");break;case 2:p.UI_Manager.instance.AddFloatLabel("\u987a\u5e8f\u8d2d\u4e70");break;case 3:p.UI_Manager.instance.AddFloatLabel("\u5df2\u5168\u90e8\u8d2d\u4e70");break;case 4:p.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3")}else if(2==this._Data.MainType)switch(_.DMB_Flowers.instance.buyFlowers(this._Data.Subtype)){case 0:g.UI_Events.instance.emitEvents("V_flowers_InitUI"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre");break;case 1:p.UI_Manager.instance.AddFloatLabel("\u65e0\u9700\u91cd\u590d\u8d2d\u4e70");break;case 2:p.UI_Manager.instance.AddFloatLabel("\u987a\u5e8f\u8d2d\u4e70");break;case 3:p.UI_Manager.instance.AddFloatLabel("\u5df2\u5168\u90e8\u8d2d\u4e70");break;case 4:p.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3")}else if(3==this._Data.MainType)switch(l.DMB_Farm.instance.buyFarm(this._Data.Subtype)){case 0:g.UI_Events.instance.emitEvents("V_farm_RefreshUI"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre");break;case 1:p.UI_Manager.instance.AddFloatLabel("\u65e0\u9700\u91cd\u590d\u8d2d\u4e70");break;case 2:p.UI_Manager.instance.AddFloatLabel("\u5df2\u5168\u90e8\u8d2d\u4e70");break;case 3:p.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3")}else if(4==this._Data.MainType)switch(d.DMB_Fish.instance.buyFish(this._Data.Subtype)){case 0:g.UI_Events.instance.emitEvents("V_fish_RefreshUI"),g.UI_Events.instance.emitEvents("CloseGamePrefab","BuildPurchasePre");break;case 1:p.UI_Manager.instance.AddFloatLabel("\u65e0\u9700\u91cd\u590d\u8d2d\u4e70");break;case 2:p.UI_Manager.instance.AddFloatLabel("\u5df2\u5168\u90e8\u8d2d\u4e70");break;case 3:p.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3")}},t=n([y],t)}(u.default));a.default=D,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMB_Farm":"DMB_Farm","../../Model/M_instance/DMB_Farming":"DMB_Farming","../../Model/M_instance/DMB_Fish":"DMB_Fish","../../Model/M_instance/DMB_Flowers":"DMB_Flowers","../../Model/M_instance/DMB_Orchard":"DMB_Orchard","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_CanteenPre:[function(e,t,a){"use strict";cc._RF.push(t,"19ea1W6735NALi3dS4IMPGH","V_CanteenPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMA_Canteen"),_=e("../../Model/M_instance/DMA_StorageRoom"),m=e("../../Model/network/GameSDK"),u=e("../currency/UI_Ctrl"),g=e("../currency/UI_Events"),p=e("../currency/UI_Manager"),f=e("../currency/UI_PlayMS"),C=cc._decorator,y=C.ccclass,D=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortBtn=null,t.goodsContent=null,t.stockContent=null,t.Canteenlevel=null,t.sortID=0,t.itemId="",t.goodsboxArr=[],t.stockboxArr=[],t.sortIName=[],t.moveImg=null,t}return i(t,e),t.prototype.CloseFunc=function(){f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("CloseGamePrefab","CanteenPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.sortID=0,this.goodsboxArr=[],this.stockboxArr=[],this.sortIName=Object.keys(l.BasicsConfig.CanteenItem_config),this.sortBtn=cc.find("Canvas/UIAddNode/CanteenPre/DiBan/Shang/btnnode"),this.goodsContent=cc.find("Canvas/UIAddNode/CanteenPre/DiBan/Shang/content"),this.stockContent=cc.find("Canvas/UIAddNode/CanteenPre/DiBan/zhong/content"),this.Canteenlevel=cc.find("Canvas/UIAddNode/CanteenPre/DiBan/ShuoMing"),this.RefreshUI_sort(),this.RefreshUI_goods(),this.RefreshUI_stock(),this.RefreshUI_Level();for(var t=function(e){a.add_button_Listen(a.sortBtn.children[e],a,function(){if(s.GameData.instance.MasterData.CanteenLevel>=h.RoomConfig.CanteenSort_config[e]){if(this.sortID==e)return;f.UI_PlayMS.instance.playSound("button"),this.sortID=e,this.RefreshUI_sort(),this.RefreshUI_goods(),this.RefreshUI_stock()}},0)},a=this,i=0;i<4;i++)t(i);this.add_button_Listen(this.goodsContent,this,this.Unlock_Fungoods,0),this.add_button_Listen(this.stockContent,this,this.START_FunStock,0),this.add_button_Listen(this.stockContent,this,this.MOVE_FunStock,1),this.add_button_Listen(this.stockContent,this,this.END_FunStock,2),this.add_button_Listen(this.stockContent,this,this.END_FunStock,3),this.add_button_Listen(this.Canteenlevel.getChildByName("node").getChildByName("UpBtn"),this,this.Func_UP,0),this.add_button_Listen(this.Canteenlevel.getChildByName("node").getChildByName("Receive"),this,this.Func_Receive,0),this.add_button_Listen(this.Canteenlevel.getChildByName("node").getChildByName("ReceiveVideo"),this,this.Func_ReceiveVideo,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("closeBtn"),this,this.CloseFunc,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),g.UI_Events.instance.onEvents("V_CanteenPre_RefreshUI_sort",this.RefreshUI_sort,this),g.UI_Events.instance.onEvents("V_CanteenPre_RefreshUI_goods",this.RefreshUI_goods,this),g.UI_Events.instance.onEvents("V_CanteenPre_RefreshUI_Level",this.RefreshUI_Level,this),g.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,g.UI_Events.instance.offEvents("V_CanteenPre_RefreshUI_sort",this.RefreshUI_sort,this),g.UI_Events.instance.offEvents("V_CanteenPre_RefreshUI_goods",this.RefreshUI_goods,this),g.UI_Events.instance.offEvents("V_CanteenPre_RefreshUI_Level",this.RefreshUI_Level,this)},t.prototype.RefreshUI_sort=function(){cc.log("\u5c0f\u5356\u90e8\u5206\u7c7b\u6309\u94ae");for(var e=0;e<4;e++)s.GameData.instance.MasterData.CanteenLevel>=h.RoomConfig.CanteenSort_config[e]?(this.sortBtn.children[e].getChildByName("suo").active=!1,this.sortID==e?(this.sortBtn.children[e].getChildByName("icon").active=!0,this.sortBtn.children[e].getChildByName("TXT").color=new cc.Color(244,236,215)):(this.sortBtn.children[e].getChildByName("icon").active=!1,this.sortBtn.children[e].getChildByName("TXT").color=new cc.Color(199,193,162))):(this.sortBtn.children[e].getChildByName("suo").active=!0,this.sortBtn.children[e].getChildByName("suo").getChildByName("Unlock").getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.unlockLevel",[""+(h.RoomConfig.CanteenSort_config[e]+1)]))},t.prototype.RefreshUI_goods=function(){for(var e=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].lattices,t=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details.length,a=0;a<e;a++)if(void 0!=this.goodsContent.children[a]&&null!=this.goodsContent.children[a]||this.goodsContent.addChild(cc.instantiate(this.goodsContent.children[0])),a<t){if("{}"!=JSON.stringify(d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details[a]))for(var i in d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details[a])p.UI_Manager.instance.loadNewReleaseOld(this.goodsContent.children[a].getChildByName("icon"),"texture/goods/"+i,null,!1),this.goodsContent.children[a].getChildByName("Num_").getComponent(cc.Label).string="x"+d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details[a][i],this.goodsContent.children[a].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+i+"._Name");else this.goodsContent.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.goodsContent.children[a].getChildByName("icon").tagid=null,this.goodsContent.children[a].getChildByName("Num_").getComponent(cc.Label).string="",this.goodsContent.children[a].getChildByName("Name_").getComponent(cc.Label).string="";this.goodsContent.children[a].getChildByName("Suo").active=!1}else this.goodsContent.children[a].getChildByName("Suo").active=!0,this.goodsContent.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.goodsContent.children[a].getChildByName("Num_").getComponent(cc.Label).string="",this.goodsContent.children[a].getChildByName("Name_").getComponent(cc.Label).string="",this.goodsContent.children[a].getChildByName("Suo").getChildByName("Num").getComponent(cc.Label).string="x"+d.DMA_Canteen.instance.Canteen_Data.price},t.prototype.RefreshUI_stock=function(){for(var e=l.BasicsConfig.CanteenItem_config[this.sortIName[this.sortID]],t=e.length,a=this.stockContent.children.length,i=Math.max(t,a),n=0;n<i;n++)if(n<t){void 0!=this.stockContent.children[n]&&null!=this.stockContent.children[n]||this.stockContent.addChild(cc.instantiate(this.stockContent.children[0]));var r=_.DMA_StorageRoom.instance.ViewItemNumber(e[n]);this.stockContent.children[n].active=!0,this.stockContent.children[n].getChildByName("Num_").getComponent(cc.Label).string="x"+r,p.UI_Manager.instance.loadNewReleaseOld(this.stockContent.children[n].getChildByName("icon"),"texture/goods/"+e[n],null,!1),r<=0?(this.stockContent.children[n].getChildByName("icon").color=new cc.Color(145,145,145),this.stockContent.children[n].getChildByName("Btn").active=!1):(this.stockContent.children[n].getChildByName("icon").color=new cc.Color(255,255,255),this.stockContent.children[n].getChildByName("Btn").active=!0),this.stockContent.children[n].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[n]+"._Name")}else void 0==this.stockContent.children[n]||null==this.stockContent.children[n]||(this.stockContent.children[n].active=!1)},t.prototype.RefreshUI_Level=function(){var e=s.GameData.instance.MasterData.CanteenLevel+1;this.Canteenlevel.getChildByName("node").getChildByName("ReceiveVideo").active=c.VideoSwitch.instance.canteenDouble,this.Canteenlevel.getChildByName("node").getChildByName("Receive").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(d.DMA_Canteen.instance.Canteen_Data.profit),this.Canteenlevel.getChildByName("Level_").getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.Level",[""+e])},t.prototype.Unlock_Fungoods=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0;var t=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].lattices,a=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details.length;if(0==this.goodsboxArr.length)for(var i=0;i<t;i++)this.goodsboxArr[i]=this.goodsContent.children[i].getBoundingBoxToWorld();var n=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());for(i=0;i<t;i++)if(i>=a&&this.goodsboxArr[i].contains(n))switch(f.UI_PlayMS.instance.playSound("button"),d.DMA_Canteen.instance.Buylattices(this.sortID)){case 0:this.RefreshUI_goods();break;case 1:p.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&g.UI_Events.instance.emitEvents("openRecharge_Gem")})}}},t.prototype.START_FunStock=function(e){if(0==this.goodsboxArr.length)for(var t=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].lattices,a=0;a<t;a++)this.goodsboxArr[a]=this.goodsContent.children[a].getBoundingBoxToWorld();var i=this.stockContent.children.length;for(a=0;a<i;a++)this.stockboxArr[a]=this.stockContent.children[a].getBoundingBoxToWorld();var n=l.BasicsConfig.CanteenItem_config[this.sortIName[this.sortID]],o=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());for(a=0;a<i;a++)if(1==this.stockContent.children[a].active&&1==this.stockContent.children[a].getChildByName("Btn").active&&this.stockboxArr[a].contains(o)){this.itemId=n[a],this.moveImg=new cc.Node,this.moveImg.addComponent(cc.Sprite),p.UI_Manager.instance.loadNewReleaseOld(this.moveImg,"texture/goods/"+n[a],null,!1),this.moveImg.anchorX=.5,this.moveImg.anchorY=.5,this.moveImg.scale=.75;var r=this.stockContent.children[a].parent.convertToWorldSpaceAR(this.stockContent.children[a].getPosition());this.moveImg.setPosition(r),cc.director.getScene().addChild(this.moveImg)}},t.prototype.MOVE_FunStock=function(e){var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());this.moveImg&&this.moveImg.setPosition(t)},t.prototype.END_FunStock=function(e){this.moveImg&&(this.moveImg.destroy(),this.moveImg=null);for(var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),a=d.DMA_Canteen.instance.Canteen_Data.data[this.sortID].details.length,i=0;i<a;i++)if(this.goodsboxArr[i].contains(t))switch(d.DMA_Canteen.instance.GoodsShelves(this.sortID,i,this.itemId)){case 0:this.RefreshUI_goods(),this.RefreshUI_stock();break;case 1:p.UI_Manager.instance.AddFloatLabel("\u5df2\u6709\u522b\u7684\u7269\u54c1")}},t.prototype.Func_UP=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:2,Subtype:-1}))},t.prototype.Func_Receive=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var e=d.DMA_Canteen.instance.Canteen_Data.profit;0==d.DMA_Canteen.instance.GainCanteenIncome(2)&&(this.RefreshUI_Level(),f.UI_PlayMS.instance.playSound("confirm"),p.UI_Manager.instance.AddFloatSprite(1,this.Canteenlevel.getChildByName("node").getChildByName("Receive"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",e))}},t.prototype.Func_ReceiveVideo=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var t=this;m.default.postEvent2("ads_start_position",15),m.default.FcunVideoTsOc(function(a){switch(a){case 0:p.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var i=d.DMA_Canteen.instance.Canteen_Data.profit;0==d.DMA_Canteen.instance.GainCanteenIncome(2)&&(t.RefreshUI_Level(),f.UI_PlayMS.instance.playSound("confirm"),p.UI_Manager.instance.AddFloatSprite(1,e.Canteenlevel.getChildByName("node").getChildByName("ReceiveVideo"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*i)),m.default.postEvent2("ads_finish_position",15);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([y],t)}(u.default));a.default=D,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_Canteen":"DMA_Canteen","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_ChengJiuChildrenPre:[function(e,t,a){"use strict";cc._RF.push(t,"5536b5zYolEhIQCL8uom5/K","V_ChengJiuChildrenPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_instance/DMC_Achievement"),l=e("../../Model/network/GameSDK"),h=e("../currency/UI_Events"),d=e("../currency/UI_Manager"),_=e("../currency/UI_PlayMS"),m=cc._decorator,u=m.ccclass,g=(m.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setData=function(e,t){this.keyArr=e,this.node.getChildByName("state1").getChildByName("receive").off(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.node.getChildByName("state1").getChildByName("receiveVideo").off(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),d.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("icon"),"texture/icon/icon_ChengJiu",null,!1),this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("attainment."+this.keyArr[t].key,[""+this.keyArr[t].need]),this.node.getChildByName("progress_").getComponent(cc.Label).string=o.i18nMgr._getString("attainment.progress",[""+this.keyArr[t].progress,""+this.keyArr[t].need]),-1==this.keyArr[t].reward?(this.node.getChildByName("state0").active=!1,this.node.getChildByName("state1").active=!1,this.node.getChildByName("state2").active=!0):this.keyArr[t].progress<this.keyArr[t].need?(this.node.getChildByName("state0").active=!0,this.node.getChildByName("state1").active=!1,this.node.getChildByName("state2").active=!1,this.node.getChildByName("state0").getChildByName("Num").getComponent(cc.Label).string="x"+this.keyArr[t].reward):(this.node.getChildByName("state0").active=!1,this.node.getChildByName("state1").active=!0,this.node.getChildByName("state2").active=!1,this.node.getChildByName("state1").getChildByName("receive").getChildByName("Num").getComponent(cc.Label).string="x"+this.keyArr[t].reward,this.node.getChildByName("state1").getChildByName("receive").key=this.keyArr[t].key,this.node.getChildByName("state1").getChildByName("receive").index=t,this.node.getChildByName("state1").getChildByName("receive").multiple=1,this.node.getChildByName("state1").getChildByName("receiveVideo").key=this.keyArr[t].key,this.node.getChildByName("state1").getChildByName("receiveVideo").index=t,this.node.getChildByName("state1").getChildByName("receiveVideo").multiple=2,this.node.getChildByName("state1").getChildByName("receive").on(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.node.getChildByName("state1").getChildByName("receiveVideo").on(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.node.getChildByName("state1").getChildByName("receiveVideo").active=s.VideoSwitch.instance.AchievementDouble)},t.prototype.ReceiveAchievement=function(e){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{r.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.multiple,i=e.target.key,n=this.keyArr[t].reward;if(1==a)c.DMC_Achievement.instance.receiveRewardsAchievement(i,1),h.UI_Events.instance.emitEvents("V_ChengJiuPre_RefreshUI"),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,this.node.getChildByName("state1").getChildByName("receive"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",n);else if(2==a){var s=this;l.default.postEvent2("ads_start_position",19),l.default.FcunVideoTsOc(function(e){switch(e){case 0:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:c.DMC_Achievement.instance.receiveRewardsAchievement(i,2),h.UI_Events.instance.emitEvents("V_ChengJiuPre_RefreshUI"),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,s.node.getChildByName("state1").getChildByName("receiveVideo"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*n),l.default.postEvent2("ads_finish_position",19);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},t=n([u],t)}(cc.Component));a.default=g,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMC_Achievement":"DMC_Achievement","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],"V_ChengJiuPre - 001":[function(e,t,a){"use strict";cc._RF.push(t,"65bccZeLcRBpIRLe/tTB7qv","V_ChengJiuPre - 001");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o,r=e("../../i18n/i18nMgr"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_instance/DMC_Achievement"),h=e("../../Model/network/GameSDK"),d=e("../currency/UI_Ctrl"),_=e("../currency/UI_Events"),m=e("../currency/UI_Manager"),u=e("../currency/UI_PlayMS"),g=cc._decorator,p=g.ccclass,f=g.property;(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(o||(o={}));var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t.ItemList=null,t.keyArr=[],t}return i(t,e),t.prototype.CloseFunc=function(){u.UI_PlayMS.instance.playSound("button"),_.UI_Events.instance.emitEvents("CloseGamePrefab","ChengJiuPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.ItemList=cc.find("Canvas/UIAddNode/ChengJiuPre/DiBan/ScrollView/view/content"),this.initUI(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0)},t.prototype.initUI=function(){_.UI_Events.instance.emitEvents("OpenMask"),this.keyArr=l.DMC_Achievement.instance.SortAchievement();var e=this.ItemList.children.length,t=this.keyArr.length,a=Math.max(e,t),i=0,n=function(){if(i<a){if(void 0==this.ItemList.children[i]){var e=cc.instantiate(this.templateType==o.PREFAB?this.tmpPrefab:this.tmpNode);this.ItemList.addChild(e)}this.ItemList.children[i].active=!0,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").off(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").off(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),m.UI_Manager.instance.loadNewReleaseOld(this.ItemList.children[i].getChildByName("icon"),"texture/icon/icon_ChengJiu",null,!1),this.ItemList.children[i].getChildByName("Name_").getComponent(cc.Label).string=r.i18nMgr._getString("attainment."+this.keyArr[i].key,[""+this.keyArr[i].need]),this.ItemList.children[i].getChildByName("progress_").getComponent(cc.Label).string=r.i18nMgr._getString("attainment.progress",[""+this.keyArr[i].progress,""+this.keyArr[i].need]),-1==this.keyArr[i].reward?(this.ItemList.children[i].getChildByName("state0").active=!1,this.ItemList.children[i].getChildByName("state1").active=!1,this.ItemList.children[i].getChildByName("state2").active=!0):this.keyArr[i].progress<this.keyArr[i].need?(this.ItemList.children[i].getChildByName("state0").active=!0,this.ItemList.children[i].getChildByName("state1").active=!1,this.ItemList.children[i].getChildByName("state2").active=!1,this.ItemList.children[i].getChildByName("state0").getChildByName("Num").getComponent(cc.Label).string="x"+this.keyArr[i].reward):(this.ItemList.children[i].getChildByName("state0").active=!1,this.ItemList.children[i].getChildByName("state1").active=!0,this.ItemList.children[i].getChildByName("state2").active=!1,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").getChildByName("Num").getComponent(cc.Label).string="x"+this.keyArr[i].reward,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").key=this.keyArr[i].key,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").index=i,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").multiple=1,this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").key=this.keyArr[i].key,this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").index=i,this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").multiple=2,this.ItemList.children[i].getChildByName("state1").getChildByName("receive").on(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").on(cc.Node.EventType.TOUCH_START,this.ReceiveAchievement,this),this.ItemList.children[i].getChildByName("state1").getChildByName("receiveVideo").active=c.VideoSwitch.instance.AchievementDouble),this.scheduleOnce(function(e){i++,n()})}else _.UI_Events.instance.emitEvents("CloseMask")}.bind(this);n()},t.prototype.ReceiveAchievement=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.multiple,i=e.target.key,n=this.keyArr[t].reward;if(1==a)l.DMC_Achievement.instance.receiveRewardsAchievement(i,1),this.initUI(),u.UI_PlayMS.instance.playSound("confirm"),m.UI_Manager.instance.AddFloatSprite(1,this.ItemList.children[t].getChildByName("state1").getChildByName("receive"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",n);else if(2==a){var o=this;h.default.postEvent2("ads_start_position",19),h.default.FcunVideoTsOc(function(e){switch(e){case 0:m.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:l.DMC_Achievement.instance.receiveRewardsAchievement(i,2),o.initUI(),u.UI_PlayMS.instance.playSound("confirm"),m.UI_Manager.instance.AddFloatSprite(1,o.ItemList.children[t].getChildByName("state1").getChildByName("receiveVideo"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*n),h.default.postEvent2("ads_finish_position",19);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},n([f({type:cc.Enum(o),tooltip:!1})],t.prototype,"templateType",void 0),n([f({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),n([f({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),t=n([p],t)}(d.default);a.default=C,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMC_Achievement":"DMC_Achievement","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_ChengJiuPre:[function(e,t,a){"use strict";cc._RF.push(t,"09dd3KH4DVFbKCorp5kJG7S","V_ChengJiuPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_instance/DMC_Achievement"),r=e("../currency/SuperScrollView"),s=e("../currency/UI_Ctrl"),c=e("../currency/UI_Events"),l=e("../currency/UI_PlayMS"),h=cc._decorator,d=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ndSv=null,t.ItemList=null,t.keyArr=[],t}return i(t,e),t.prototype.CloseFunc=function(){l.UI_PlayMS.instance.playSound("button"),c.UI_Events.instance.emitEvents("CloseGamePrefab","ChengJiuPre")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,c.UI_Events.instance.offEvents("V_ChengJiuPre_RefreshUI",this.initUI,this)},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.ItemList=cc.find("Canvas/UIAddNode/ChengJiuPre/DiBan/ScrollView/view/content"),this.ItemList.y=0,this.initUI(),c.UI_Events.instance.onEvents("V_ChengJiuPre_RefreshUI",this.initUI,this),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0)},t.prototype.initUI=function(){this.keyArr=o.DMC_Achievement.instance.SortAchievement();var e=this.keyArr.length,t=this;if(0==t.ItemList.children.length){if(!t.ndSv.canInputData())return void cc.log("\u6b63\u5728\u52a0\u8f7d\u4e2d");t.ndSv.setData(e,!0,!1,function(e,a){e.getComponent("V_ChengJiuChildrenPre").setData(t.keyArr,a)},function(){c.UI_Events.instance.emitEvents("CloseMask")})}else{for(var a=0;a<e;a++)t.ItemList.children[a].getComponent("V_ChengJiuChildrenPre").setData(t.keyArr,a);t.ndSv.improveDC()}},n([_(r.default)],t.prototype,"ndSv",void 0),t=n([d],t)}(s.default);a.default=m,cc._RF.pop()},{"../../Model/M_instance/DMC_Achievement":"DMC_Achievement","../currency/SuperScrollView":"SuperScrollView","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_PlayMS":"UI_PlayMS"}],V_DeliverGoodsPre:[function(e,t,a){"use strict";cc._RF.push(t,"ac4f2ikqLNAjbWAKedrf3Dp","V_DeliverGoodsPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMA_DeliverGoods"),_=e("../../Model/M_instance/DMA_StorageRoom"),m=e("../../Model/M_instance/DMB_Farm"),u=e("../../Model/M_instance/DMB_Fish"),g=e("../../Model/network/GameSDK"),p=e("../currency/UI_Ctrl"),f=e("../currency/UI_Events"),C=e("../currency/UI_Manager"),y=e("../currency/UI_PlayMS"),D=cc._decorator,v=D.ccclass,M=(D.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.OrderList=null,t.loadKuang=null,t._count=0,t._index=0,t._posId=0,t.ItemId_="",t}return i(t,e),t.prototype.CloseFunc=function(){y.UI_PlayMS.instance.playSound("button"),f.UI_Events.instance.emitEvents("CloseGamePrefab","DeliverGoodsPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this._count=0,this.OrderList=cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state0/ScrollView/view/content"),this.loadKuang=cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state0/loadKuang"),this.loadKuang.active=!1,this.RefreshOrderList(),this.RefreshDeliverLevel(),this.add_button_Listen(cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/ShuoMing/UpBtn"),this,this.Func_UP,0),this.add_button_Listen(cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state0/butSetOut"),this,this.Func_SetOut,0),this.add_button_Listen(this.loadKuang.getChildByName("node").getChildByName("butLoad"),this,this.Func_load,0),this.add_button_Listen(this.loadKuang.getChildByName("node").getChildByName("Refresh"),this,this.Func_Refresh,0),this.add_button_Listen(this.loadKuang.getChildByName("node").getChildByName("RefreshVideo"),this,this.Func_RefreshVideo,0),this.add_button_Listen(this.loadKuang.getChildByName("node").getChildByName("obtainBtn"),this,this.Func_HuoQu,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("state1").getChildByName("node").getChildByName("Immediately"),this,this.ImmediatelyGem,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("state1").getChildByName("node").getChildByName("ImmediatelyVideo"),this,this.ImmediatelyVideo,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),f.UI_Events.instance.onEvents("V_DeliverGoodsPre_RefreshOrderList",this.RefreshOrderList,this),f.UI_Events.instance.onEvents("V_DeliverGoodsPre_RefreshDeliverLevel",this.RefreshDeliverLevel,this),f.UI_Events.instance.onEvents("V_DeliverGoodsPre_updateComeBack",this.updateComeBack,this),f.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,f.UI_Events.instance.offEvents("V_DeliverGoodsPre_RefreshOrderList",this.RefreshOrderList,this),f.UI_Events.instance.offEvents("V_DeliverGoodsPre_RefreshDeliverLevel",this.RefreshDeliverLevel,this),f.UI_Events.instance.offEvents("V_DeliverGoodsPre_updateComeBack",this.updateComeBack,this)},t.prototype.RefreshStatus=function(){this._count++,this._count>=3&&(this._count=0,1==this.loadKuang.active&&(this.loadKuang.active=!1))},t.prototype.RefreshOrderList=function(){var e=0;if(-1==d.DMA_DeliverGoods.instance.DeliverGoods_Data.endTime){this.node.getChildByName("DiBan").height=1950,this.node.getChildByName("DiBan").getChildByName("state0").active=!0,this.node.getChildByName("DiBan").getChildByName("state1").active=!1;for(var t=h.RoomConfig.deliverGoods_config.length,a=h.RoomConfig.deliverGoods_config[t-1].Num,i=h.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Num,n=0;n<a;n++)void 0!=this.OrderList.children[n]&&null!=this.OrderList.children[n]||this.OrderList.addChild(cc.instantiate(this.OrderList.children[0])),this.OrderList.children[n].getChildByName("ShangPin").getChildByName("ID").getComponent(cc.Label).string=""+(n+1),n<i?(this.OrderList.children[n].color=new cc.Color(255,255,255),this.OrderList.children[n].getChildByName("state0").active=!0,this.OrderList.children[n].getChildByName("state1").active=!1,e+=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[n].reward,this.OrderDetails(n)):(this.OrderList.children[n].color=new cc.Color(145,145,145),this.OrderList.children[n].getChildByName("state0").active=!1,this.OrderList.children[n].getChildByName("state1").active=!0,this.OrderList.children[n].getChildByName("state1").getChildByName("Tips").getComponent(cc.Label).string=o.i18nMgr._getString("logistics.unlockLevel",[""+(h.RoomConfig.deliverGoodsUnlockLevel[n]+1)]));this.node.getChildByName("DiBan").getChildByName("state0").getChildByName("icon_cash").getChildByName("cashNum").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(e)}else this.node.getChildByName("DiBan").height=650,this.node.getChildByName("DiBan").getChildByName("state0").active=!1,this.node.getChildByName("DiBan").getChildByName("state1").active=!0,this.updateComeBack(!1),this.node.getChildByName("DiBan").getChildByName("state1").getChildByName("node").getChildByName("ImmediatelyVideo").active=c.VideoSwitch.instance.DeliverGoodsImmediately},t.prototype.updateComeBack=function(e){0==e?cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state1/Tips").getComponent(cc.Label).string=o.i18nMgr._getString("logistics.TipsTime",[""+r.FuncCommon.formatTime2(d.DMA_DeliverGoods.instance.DeliverGoods_Data.endTime-s.GameData.instance.TimeServer)]):this.RefreshOrderList()},t.prototype.OrderDetails=function(e){var t=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].progress,a=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].order.length;this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receive").off(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receiveVideo").off(cc.Node.EventType.TOUCH_START,this.Func_ReceiveVideo,this),t>=a?0==d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].state?(this.OrderList.children[e].getChildByName("state0").getChildByName("reward").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").active=!0,this.OrderList.children[e].getChildByName("state0").getChildByName("Received").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receive").index=e,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receiveVideo").index=e,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receive").on(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receiveVideo").on(cc.Node.EventType.TOUCH_START,this.Func_ReceiveVideo,this),this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receiveVideo").active=c.VideoSwitch.instance.DeliverGoodsDouble,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].reward)):(this.OrderList.children[e].getChildByName("state0").getChildByName("reward").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("Received").active=!0):(this.OrderList.children[e].getChildByName("state0").getChildByName("reward").active=!0,this.OrderList.children[e].getChildByName("state0").getChildByName("unclaimed").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("Received").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("reward").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].reward));for(var i=0;i<3;i++){this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this);var n=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].order[i].id,s=_.DMA_StorageRoom.instance.ViewItemNumber(n),l=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].order[i].num;this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+n+"._Name"),this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Num_").getComponent(cc.Label).string="x"+l,C.UI_Manager.instance.loadNewReleaseOld(this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Icon"),"texture/goods/"+n,null,!1),1==d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e].order[i].isload?(this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("DuiHao").active=!0,this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Num_").color=new cc.Color(255,255,255)):(this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Num_").color=s>=l?new cc.Color(143,220,103):new cc.Color(255,117,0),this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("DuiHao").active=!1,this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this),this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Btn").index=e,this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[i].getChildByName("Btn").posId=i)}},t.prototype.RefreshDeliverLevel=function(){var e=s.GameData.instance.MasterData.deliverGoodsLevel+1;cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/ShuoMing/Level_").getComponent(cc.Label).string=o.i18nMgr._getString("logistics.Level",[""+e])},t.prototype.SelectedEvent=function(e){y.UI_PlayMS.instance.playSound("button"),this._count=0,this.loadKuang.active=!0,this._index=e.target.index,this._posId=e.target.posId;var t=this.OrderList.children[this._index].getChildByName("state0").getChildByName("node").children[this._posId],a=t.parent.convertToWorldSpaceAR(t.getPosition()),i=cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state0").parent.convertToNodeSpaceAR(a);this.loadKuang.setPosition(i);var n=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[this._index].order[this._posId].id,s=_.DMA_StorageRoom.instance.ViewItemNumber(n),l=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[this._index].order[this._posId].TotalPrice;C.UI_Manager.instance.loadNewReleaseOld(this.loadKuang.getChildByName("icon"),"texture/goods/"+n,null,!1),this.loadKuang.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(l),this.loadKuang.getChildByName("stock").getComponent(cc.Label).string=o.i18nMgr._getString("logistics.stock")+":"+s,this.ItemId_=n,this.loadKuang.getChildByName("node").getChildByName("RefreshVideo").active=c.VideoSwitch.instance.DeliverGoodsRefresh},t.prototype.Func_HuoQu=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),f.UI_Events.instance.emitEvents("CloseGamePrefab","DeliverGoodsPre");var e=l.BasicsConfig.Item_config[this.ItemId_].Type;if("farming"==e)(t=cc.find("Canvas/UIAddNode/SeedSelection_farming")).setPosition(0,0),t.active=!0,t.getComponent("V_farming_seed").init();else if("orchard"==e){(t=cc.find("Canvas/UIAddNode/SeedSelection_orchard")).setPosition(0,0),t.active=!0,t.getComponent("V_orchard_seed").init()}else if("flowers"==e){var t;(t=cc.find("Canvas/UIAddNode/SeedSelection_flowers")).setPosition(0,0),t.active=!0,t.getComponent("V_flowers_seed").init()}else if("farm"==e){for(var a=(o=s.GameData.instance.sortItem.farm).length,i=0;i<a;i++)if(o[i]==this.ItemId_){1==m.DMB_Farm.instance.Farm_Data.own[i]&&f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FarmPre",MainType:-1,Subtype:i});break}}else if("fish"==e){for(var n=0;n<4;n++)if(1==u.DMB_Fish.instance.Fish_Data.own[n]&&u.DMB_Fish.instance.Fish_Data.data[n].itemId==this.ItemId_)return void f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:n,Subtype:-1});for(n=0;n<4;n++)if(1==u.DMB_Fish.instance.Fish_Data.own[n]&&0==u.DMB_Fish.instance.Fish_Data.data[n].state)for(a=(o=s.GameData.instance.sortItem.fish).length,i=0;i<a;i++)if(o[i]==this.ItemId_)return void f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:n,Subtype:i})}else if("rare"==e);else if("kitchen"==e)if(s.GameData.instance.MasterData.MainRoomLevel>=l.BasicsConfig.Item_config[this.ItemId_].unlock&&s.GameData.instance.MasterData.KitchenRoomLevel>=l.BasicsConfig.Item_config[this.ItemId_].machining){var o,r=Object.keys(s.GameData.instance.kitchen_sortItem),c=l.BasicsConfig.Item_config[this.ItemId_].TypeSub,h=r.indexOf(c),d=0;for(a=(o=s.GameData.instance.kitchen_sortItem[c]).length,i=0;i<a;i++)if(o[i]==this.ItemId_){d=i;break}f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"KitchenRoomPre",MainType:h,Subtype:d})}else C.UI_Manager.instance.AddFloatLabel("\u6b64\u7269\u54c1\u8fd8\u672a\u89e3\u9501,\u5c3d\u5feb\u5347\u7ea7\u53a8\u623f\u89e3\u9501\u6b64\u7269\u54c1")}},t.prototype.Func_load=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),d.DMA_DeliverGoods.instance.LoadDeliverGoodsOrder(this._index,this._posId)){case 0:this.RefreshOrderList(),this.loadKuang.active=!1;break;case 1:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("logistics.MountFailed"))}},t.prototype.Func_Refresh=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),d.DMA_DeliverGoods.instance.RefreshDeliverGoodsOrder(1,this._index,this._posId)){case 0:this.RefreshOrderList(),this.loadKuang.active=!1;break;case 1:C.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&f.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.Func_RefreshVideo=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var e=this;g.default.postEvent2("ads_start_position",6),g.default.FcunVideoTsOc(function(t){switch(t){case 0:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:d.DMA_DeliverGoods.instance.RefreshDeliverGoodsOrder(0,e._index,e._posId),e.RefreshOrderList(),e.loadKuang.active=!1,g.default.postEvent2("ads_finish_position",6);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.Func_Receive=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var t=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e.target.index].reward;switch(d.DMA_DeliverGoods.instance.orderOneRevenue(e.target.index,1)){case 0:this.RefreshOrderList(),y.UI_PlayMS.instance.playSound("confirm"),C.UI_Manager.instance.AddFloatSprite(1,this.OrderList.children[e.target.index].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receive"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",t)}}},t.prototype.Func_ReceiveVideo=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var t=this;g.default.postEvent2("ads_start_position",18),g.default.FcunVideoTsOc(function(a){switch(a){case 0:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var i=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[e.target.index].reward;d.DMA_DeliverGoods.instance.orderOneRevenue(e.target.index,2),t.RefreshOrderList(),y.UI_PlayMS.instance.playSound("confirm"),C.UI_Manager.instance.AddFloatSprite(1,t.OrderList.children[e.target.index].getChildByName("state0").getChildByName("unclaimed").getChildByName("nodeBtn").getChildByName("receiveVideo"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*i),g.default.postEvent2("ads_finish_position",18);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.Func_SetOut=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var e=this;if(1==d.DMA_DeliverGoods.instance.isAvailable())C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("logistics.NotClaimed"));else if(0==d.DMA_DeliverGoods.instance.isLoadAll())C.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("logistics.giveupReward"),function(t){1==t&&(d.DMA_DeliverGoods.instance.transportStart(!1),e.RefreshOrderList(),f.UI_Events.instance.emitEvents("DeliverGoodsAnimation",0))});else{for(var t=h.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Num,a=0,i=0;i<t;i++)a+=d.DMA_DeliverGoods.instance.DeliverGoods_Data.data[i].reward;d.DMA_DeliverGoods.instance.transportStart(!0),e.RefreshOrderList(),f.UI_Events.instance.emitEvents("DeliverGoodsAnimation",0),y.UI_PlayMS.instance.playSound("confirm"),C.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode/DeliverGoodsPre/DiBan/state0/butSetOut"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",a)}}},t.prototype.Func_UP=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:6,Subtype:-1}))},t.prototype.ImmediatelyGem=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),d.DMA_DeliverGoods.instance.transportFast(1)){case 0:this.RefreshOrderList(),f.UI_Events.instance.emitEvents("DeliverGoodsAnimation",1);break;case 1:C.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&f.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.ImmediatelyVideo=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var e=this;g.default.postEvent2("ads_start_position",3),g.default.FcunVideoTsOc(function(t){switch(t){case 0:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:d.DMA_DeliverGoods.instance.transportFast(0),e.RefreshOrderList(),f.UI_Events.instance.emitEvents("DeliverGoodsAnimation",1),g.default.postEvent2("ads_finish_position",3);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([v],t)}(p.default));a.default=M,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_DeliverGoods":"DMA_DeliverGoods","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMB_Farm":"DMB_Farm","../../Model/M_instance/DMB_Fish":"DMB_Fish","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_FarmPre:[function(e,t,a){"use strict";cc._RF.push(t,"c0511DV9Z5NQbDtGdOr+1Q2","V_FarmPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMB_Farm"),_=e("../../Model/network/GameSDK"),m=e("../currency/UI_Ctrl"),u=e("../currency/UI_Events"),g=e("../currency/UI_Manager"),p=e("../currency/UI_PlayMS"),f=cc._decorator,C=f.ccclass,y=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeid=-1,t.listNode=null,t._icon=null,t._Num=null,t._Status=[],t}return i(t,e),t.prototype.CloseFunc=function(){p.UI_PlayMS.instance.playSound("button"),u.UI_Events.instance.emitEvents("CloseGamePrefab","FarmPre")},t.prototype.init=function(e){this.typeid=e.Subtype,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.listNode=cc.find("Canvas/UIAddNode/FarmPre/DiBan/Node"),this._icon=cc.find("Canvas/UIAddNode/FarmPre/DiBan/DiKuang/farmReep/icon"),this._Num=cc.find("Canvas/UIAddNode/FarmPre/DiBan/DiKuang/farmReep/Num"),this._Status[0]=cc.find("Canvas/UIAddNode/FarmPre/DiBan/DiKuang/Status0"),this._Status[1]=cc.find("Canvas/UIAddNode/FarmPre/DiBan/DiKuang/Status1"),this._Status[2]=cc.find("Canvas/UIAddNode/FarmPre/DiBan/DiKuang/Status2"),this.RefreshUI();var t=this;this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this.listNode.children[1].getChildByName("Suo").getChildByName("but"),this,function(){t.BuyFunc(1)},0),this.add_button_Listen(this.listNode.children[2].getChildByName("Suo").getChildByName("but"),this,function(){t.BuyFunc(2)},0),this.add_button_Listen(this.listNode.children[3].getChildByName("Suo").getChildByName("but"),this,function(){t.BuyFunc(3)},0),this.add_button_Listen(this._Status[0].getChildByName("Feeding"),this,this.FeedingFunc,0),this.add_button_Listen(this._Status[1].getChildByName("node").getChildByName("GetNowGem"),this,this.GetNowGemFunc,0),this.add_button_Listen(this._Status[1].getChildByName("node").getChildByName("GetNowVideo"),this,this.GetNowVideoFunc,0),this.add_button_Listen(this._Status[2].getChildByName("Receive"),this,this.ReceiveFunc,0),this.add_button_Listen(this._Status[2].getChildByName("ReceiveVideo"),this,this.ReceiveVideoFunc,0),u.UI_Events.instance.onEvents("V_FarmPre_updatetime_",this.updatetime_,this),u.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,u.UI_Events.instance.offEvents("V_FarmPre_updatetime_",this.updatetime_,this)},t.prototype.RefreshUI=function(){for(var e=h.RoomConfig.farm_config[this.typeid].itemId,t=d.DMB_Farm.instance.Farm_Data.data[this.typeid].itemNum,a=d.DMB_Farm.instance.Farm_Data.data[this.typeid].Poslevel,i=0;i<4;i++)i<a?(g.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[i].getChildByName("icon"),"texture/icon/icon_"+e,null,!1),this.listNode.children[i].getChildByName("Suo").active=!1):(this.listNode.children[i].getChildByName("Suo").active=!0,this.listNode.children[i].getChildByName("Suo").getChildByName("but").getChildByName("GenNum").getComponent(cc.Label).string=""+h.RoomConfig.farm_config[this.typeid].UpPrice[i]);switch(g.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/goods/"+e,null,!1),d.DMB_Farm.instance.Farm_Data.data[this.typeid].state){case 0:this._Status[0].active=!0,this._Status[1].active=!1,this._Status[2].active=!1,this._Num.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name")+"x"+a,this._Status[0].getChildByName("Cash").getComponent(cc.Label).string=""+l.BasicsConfig.Item_config[e].seedPrice*a,this._Status[0].getChildByName("Feeding").getChildByName("time_").getComponent(cc.Label).string=""+r.FuncCommon.formatTime2(1e3*l.BasicsConfig.Item_config[e].Cycle);break;case 1:this._Status[0].active=!1,this._Status[1].active=!0,this._Status[2].active=!1,this._Num.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name")+"x"+t,this._Status[1].getChildByName("node").getChildByName("GetNowVideo").active=c.VideoSwitch.instance.farmFast,this.updatetime_({index:this.typeid,state:!1});break;case 2:this._Status[0].active=!1,this._Status[1].active=!1,this._Status[2].active=!0,this._Num.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name")+"x"+t,this._Status[2].getChildByName("ReceiveVideo").active=c.VideoSwitch.instance.farmDouble}},t.prototype.updatetime_=function(e){if(0==e.state){if(e.index==this.typeid){this._Status[1].getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("Farm.RemainingTime",[""+r.FuncCommon.formatTime2(d.DMB_Farm.instance.Farm_Data.data[e.index].endTime-s.GameData.instance.TimeServer)]);var t=d.DMB_Farm.instance.Farm_Data.data[e.index].itemId,a=1e3*l.BasicsConfig.Item_config[t].quicken,i=d.DMB_Farm.instance.Farm_Data.data[e.index].endTime,n=Math.ceil((i-s.GameData.instance.TimeServer)/a);this._Status[1].getChildByName("node").getChildByName("GetNowGem").getChildByName("gemNum").getComponent(cc.Label).string="x"+n}}else this.RefreshUI()},t.prototype.BuyFunc=function(e){switch(p.UI_PlayMS.instance.playSound("button"),d.DMB_Farm.instance.upFarm(this.typeid,e)){case 0:cc.log("\u8d2d\u4e70\u4e8b\u4ef6"),this.RefreshUI(),u.UI_Events.instance.emitEvents("V_farm_playAnimation",this.typeid),u.UI_Events.instance.emitEvents("V_farm_RefreshUI");break;case 1:g.UI_Manager.instance.AddFloatLabel("\u987a\u5e8f\u8d2d\u4e70");break;case 2:g.UI_Manager.instance.AddFloatLabel("\u517b\u6b96\u7ed3\u675f\u540e\u5728\u5347\u7ea7");break;case 3:g.UI_Manager.instance.AddFloatLabel("\u7b49\u7ea7\u5df2\u6ee1");break;case 4:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.FeedingFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u5f00\u59cb\u517b\u6b96"),d.DMB_Farm.instance.startFarm(this.typeid)){case 0:this.RefreshUI(),u.UI_Events.instance.emitEvents("V_farm_playAnimation",this.typeid);break;case 1:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.GetNowGemFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u5b9d\u77f3\u52a0\u901f"),d.DMB_Farm.instance.FastFarm(this.typeid,1)){case 0:this.RefreshUI(),u.UI_Events.instance.emitEvents("V_farm_playAnimation",this.typeid),p.UI_PlayMS.instance.playSound("farm_"+this.typeid);break;case 1:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Cash")})}},t.prototype.GetNowVideoFunc=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u89c6\u9891\u52a0\u901f");var t=this;_.default.postEvent2("ads_start_position",0),_.default.FcunVideoTsOc(function(a){switch(a){case 0:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:d.DMB_Farm.instance.FastFarm(t.typeid,0),t.RefreshUI(),u.UI_Events.instance.emitEvents("V_farm_playAnimation",e.typeid),p.UI_PlayMS.instance.playSound("farm_"+e.typeid),_.default.postEvent2("ads_finish_position",0);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.ReceiveFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button");var e=d.DMB_Farm.instance.Farm_Data.data[this.typeid].itemId,t=d.DMB_Farm.instance.Farm_Data.data[this.typeid].itemNum;switch(d.DMB_Farm.instance.collectFarm(this.typeid,1)){case 0:this.RefreshUI(),p.UI_PlayMS.instance.playSound("confirm"),g.UI_Manager.instance.AddFloatSprite(.5,this._icon,cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+e,t),u.UI_Events.instance.emitEvents("V_farm_playAnimation",this.typeid);break;case 1:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}}},t.prototype.ReceiveVideoFunc=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u53cc\u500d\u9886\u53d6");var t=this;d.DMB_Farm.instance.VideoCollectCapacity(this.typeid)?(_.default.postEvent2("ads_start_position",11),_.default.FcunVideoTsOc(function(a){switch(a){case 0:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var i=d.DMB_Farm.instance.Farm_Data.data[t.typeid].itemId,n=d.DMB_Farm.instance.Farm_Data.data[t.typeid].itemNum;d.DMB_Farm.instance.collectFarm(t.typeid,2),t.RefreshUI(),p.UI_PlayMS.instance.playSound("confirm"),g.UI_Manager.instance.AddFloatSprite(.5,t._icon,cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+i,2*n),u.UI_Events.instance.emitEvents("V_farm_playAnimation",e.typeid),_.default.postEvent2("ads_finish_position",11);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})):g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},t=n([C],t)}(m.default));a.default=y,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMB_Farm":"DMB_Farm","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_FeedFastMature:[function(e,t,a){"use strict";cc._RF.push(t,"6054ctdoP9G277NgtbdoF+2","V_FeedFastMature");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_Basics/CommonFun"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_config/BasicsConfig"),c=e("../currency/UI_Manager"),l=e("../currency/UI_PlayMS"),h=cc._decorator,d=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon_=null,t.time_=null,t.Gem_=null,t._Count=0,t._Block=null,t._Data=null,t}return i(t,e),t.prototype.init=function(e,t){this._Data=e,this._Count=0,this._Block=t;var a=this._Data.itemId;c.UI_Manager.instance.loadNewReleaseOld(this.icon_,"texture/goods/"+a,null,!1);var i=1e3*s.BasicsConfig.Item_config[a].quicken,n=Math.ceil((this._Data.endTime-r.GameData.instance.TimeServer)/i);this.Gem_.getComponent(cc.Label).string=""+n,this.time_.getComponent(cc.Label).string=o.FuncCommon.formatTime2(this._Data.endTime-r.GameData.instance.TimeServer)},t.prototype.update=function(e){if(this._Count+=e,this._Count>=3&&(this._Data=null,this.node.active=!1),null!=this._Data)if(this._Data.endTime>r.GameData.instance.TimeServer){var t=this._Data.itemId,a=1e3*s.BasicsConfig.Item_config[t].quicken,i=Math.ceil((this._Data.endTime-r.GameData.instance.TimeServer)/a);this.Gem_.getComponent(cc.Label).string=""+i,this.time_.getComponent(cc.Label).string=o.FuncCommon.formatTime2(this._Data.endTime-r.GameData.instance.TimeServer)}else this._Data=null,this.node.active=!1},t.prototype.AccelerationButton=function(e){r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(r.GameData.instance.ClickTimeCount=0,l.UI_PlayMS.instance.playSound("button"),this._Block(),this._Data=null,this.node.active=!1)},n([_({type:cc.Node,displayName:"icon_",tooltip:"\u56fe\u6807"})],t.prototype,"icon_",void 0),n([_({type:cc.Node,displayName:"time_",tooltip:"\u5012\u8ba1\u65f6"})],t.prototype,"time_",void 0),n([_({type:cc.Node,displayName:"Gem_",tooltip:"\u5b9d\u77f3"})],t.prototype,"Gem_",void 0),t=n([d],t)}(cc.Component);a.default=m,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_FishPre:[function(e,t,a){"use strict";cc._RF.push(t,"ac33fNsFi5CuI+ErwmtTml7","V_FishPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMB_Fish"),_=e("../../Model/network/GameSDK"),m=e("../currency/UI_Ctrl"),u=e("../currency/UI_Events"),g=e("../currency/UI_Manager"),p=e("../currency/UI_PlayMS"),f=cc._decorator,C=f.ccclass,y=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeid=-1,t.levelicon=null,t.FishTips=null,t.upBtn=null,t._icon=null,t._Num=null,t._Name=null,t._Describe=null,t._Status=[],t.listNode=null,t.listSelect=0,t}return i(t,e),t.prototype.CloseFunc=function(){p.UI_PlayMS.instance.playSound("button"),u.UI_Events.instance.emitEvents("CloseGamePrefab","FishPre")},t.prototype.init=function(e){if(this.typeid=e.MainType,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.levelicon=cc.find("Canvas/UIAddNode/FishPre/DiBan/Node/children/icon"),this.FishTips=cc.find("Canvas/UIAddNode/FishPre/DiBan/Node/Tips"),this.upBtn=cc.find("Canvas/UIAddNode/FishPre/DiBan/Node/Feeding"),this._icon=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/Kuang/icon"),this._Num=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/Kuang/num"),this._Name=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/Name_"),this._Describe=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/describe_"),this._Status[0]=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/state0"),this._Status[1]=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/state1"),this._Status[2]=cc.find("Canvas/UIAddNode/FishPre/DiBan/Zhong/state2"),this.listNode=cc.find("Canvas/UIAddNode/FishPre/DiBan/Xia/ScrollView/view/content"),-1==e.Subtype){this.listSelect=0;for(var t=s.GameData.instance.sortItem.fish,a=t.length,i=0;i<a;i++)d.DMB_Fish.instance.Fish_Data.data[this.typeid].itemId==t[i]&&(this.listSelect=i)}else this.listSelect=e.Subtype;this.RefreshUI_upper(),this.RefreshUI_Medium(),this.RefreshUI_lower(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this.upBtn,this,this.BuyFunc,0),this.add_button_Listen(this._Status[0].getChildByName("FeedingBtn"),this,this.FeedingFunc,0),this.add_button_Listen(this._Status[1].getChildByName("node").getChildByName("GetNowGem"),this,this.GetNowGemFunc,0),this.add_button_Listen(this._Status[1].getChildByName("node").getChildByName("GetNowVideo"),this,this.GetNowVideoFunc,0),this.add_button_Listen(this._Status[2].getChildByName("Receive"),this,this.ReceiveFunc,0),this.add_button_Listen(this._Status[2].getChildByName("ReceiveVideo"),this,this.ReceiveVideoFunc,0),u.UI_Events.instance.onEvents("V_FishPre_updatetime_",this.updatetime_,this),u.UI_Events.instance.emitEvents("CloseMask"),this.listNode.x=0},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,u.UI_Events.instance.offEvents("V_FishPre_updatetime_",this.updatetime_,this)},t.prototype.RefreshUI_upper=function(){var e=d.DMB_Fish.instance.Fish_Data.data[this.typeid].Poslevel;g.UI_Manager.instance.loadNewReleaseOld(this.levelicon,"texture/build/ShuiChan_"+(e-1),null,!1),this.FishTips.getComponent(cc.Label).string=o.i18nMgr._getString("Farm.GetQuantity",[""+e]),e>=h.RoomConfig.fish_config[this.typeid].UpPrice.length?this.upBtn.active=!1:(this.upBtn.active=!0,this.upBtn.getChildByName("Price_").getComponent(cc.Label).string=""+h.RoomConfig.fish_config[this.typeid].UpPrice[e])},t.prototype.RefreshUI_Medium=function(){var e=s.GameData.instance.sortItem.fish;g.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/goods/%s",e[this.listSelect],!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[this.listSelect]+"._Name"),this._Describe.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[this.listSelect]+"._Describe"),0==d.DMB_Fish.instance.Fish_Data.data[this.typeid].state?(this._Status[0].active=!0,this._Status[1].active=!1,this._Status[2].active=!1,this._Num.getComponent(cc.Label).string="x"+d.DMB_Fish.instance.Fish_Data.data[this.typeid].Poslevel,this._Status[0].getChildByName("timeTXT").getComponent(cc.Label).string=l.BasicsConfig.Item_config[e[this.listSelect]].Cycle+"s"):1==d.DMB_Fish.instance.Fish_Data.data[this.typeid].state?(this._Status[0].active=!1,this._Status[1].active=!0,this._Status[2].active=!1,this._Num.getComponent(cc.Label).string="x"+d.DMB_Fish.instance.Fish_Data.data[this.typeid].itemNum,this._Status[1].getChildByName("node").getChildByName("GetNowVideo").active=c.VideoSwitch.instance.fishFast,this.updatetime_({index:this.typeid,state:!1})):2==d.DMB_Fish.instance.Fish_Data.data[this.typeid].state&&(this._Status[0].active=!1,this._Status[1].active=!1,this._Status[2].active=!0,this._Num.getComponent(cc.Label).string="x"+d.DMB_Fish.instance.Fish_Data.data[this.typeid].itemNum,this._Status[2].getChildByName("ReceiveVideo").active=c.VideoSwitch.instance.fishDouble)},t.prototype.RefreshUI_lower=function(){for(var e=s.GameData.instance.sortItem.fish,t=e.length,a=0;a<t;a++)this.listNode.children[a].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this),this.listNode.children[a].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedTips,this),this.listNode.children[a].getChildByName("Guang").active=a==this.listSelect,this.listNode.children[a].getChildByName("Btn").tagid=a,s.GameData.instance.MasterData.MainRoomLevel>=l.BasicsConfig.Item_config[e[a]].unlock?(g.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[a].getChildByName("icon"),"texture/goods/%s",e[a],!1),this.listNode.children[a].getChildByName("Suo").active=!1,this.listNode.children[a].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this)):(g.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[a].getChildByName("Suo").getChildByName("icon"),"texture/goods/%s",e[a],!1),this.listNode.children[a].getChildByName("Suo").active=!0,this.listNode.children[a].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedTips,this))},t.prototype.updatetime_=function(e){if(0==e.state){if(e.index==this.typeid){this._Status[1].getChildByName("timeTXT").getComponent(cc.Label).string=o.i18nMgr._getString("Farm.RemainingTime",[""+r.FuncCommon.formatTime2(d.DMB_Fish.instance.Fish_Data.data[e.index].endTime-s.GameData.instance.TimeServer)]);var t=d.DMB_Fish.instance.Fish_Data.data[e.index].itemId,a=1e3*l.BasicsConfig.Item_config[t].quicken,i=d.DMB_Fish.instance.Fish_Data.data[e.index].endTime,n=Math.ceil((i-s.GameData.instance.TimeServer)/a);this._Status[1].getChildByName("node").getChildByName("GetNowGem").getChildByName("gemNum").getComponent(cc.Label).string="x"+n}}else this.RefreshUI_Medium()},t.prototype.BuyFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),d.DMB_Fish.instance.upFish(this.typeid)){case 0:this.RefreshUI_upper(),this.RefreshUI_Medium(),u.UI_Events.instance.emitEvents("V_fish_playAnimation",this.typeid),u.UI_Events.instance.emitEvents("V_fish_RefreshUI");break;case 1:g.UI_Manager.instance.AddFloatLabel("\u6c34\u4ea7\u7ed3\u675f\u540e\u5728\u5347\u7ea7");break;case 2:g.UI_Manager.instance.AddFloatLabel("\u7b49\u7ea7\u5df2\u6ee1");break;case 3:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.FeedingFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u5f00\u59cb\u517b\u6b96");var e=s.GameData.instance.sortItem.fish;switch(d.DMB_Fish.instance.startFish(this.typeid,e[this.listSelect])){case 0:this.RefreshUI_Medium(),u.UI_Events.instance.emitEvents("V_fish_playAnimation",this.typeid);break;case 1:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Gem")})}}},t.prototype.GetNowGemFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u5b9d\u77f3\u52a0\u901f"),d.DMB_Fish.instance.FastFish(this.typeid,1)){case 0:this.RefreshUI_Medium(),u.UI_Events.instance.emitEvents("V_fish_playAnimation",this.typeid),p.UI_PlayMS.instance.playSound("fish");break;case 1:g.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&u.UI_Events.instance.emitEvents("openRecharge_Cash")})}},t.prototype.GetNowVideoFunc=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u89c6\u9891\u52a0\u901f");var t=this;_.default.postEvent2("ads_start_position",1),_.default.FcunVideoTsOc(function(a){switch(a){case 0:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:d.DMB_Fish.instance.FastFish(t.typeid,0),t.RefreshUI_Medium(),u.UI_Events.instance.emitEvents("V_fish_playAnimation",e.typeid),p.UI_PlayMS.instance.playSound("fish"),_.default.postEvent2("ads_finish_position",1);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.ReceiveFunc=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button");var e=d.DMB_Fish.instance.Fish_Data.data[this.typeid].itemId,t=d.DMB_Fish.instance.Fish_Data.data[this.typeid].itemNum;switch(cc.log("\u9886\u53d6"),d.DMB_Fish.instance.collectFish(this.typeid,1)){case 0:this.RefreshUI_Medium(),p.UI_PlayMS.instance.playSound("confirm"),g.UI_Manager.instance.AddFloatSprite(.5,this._icon,cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+e,t),u.UI_Events.instance.emitEvents("V_fish_playAnimation",this.typeid);break;case 1:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}}},t.prototype.ReceiveVideoFunc=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,p.UI_PlayMS.instance.playSound("button"),cc.log("\u53cc\u500d\u9886\u53d6");var t=this;d.DMB_Fish.instance.VideoCollectCapacity(this.typeid)?(_.default.postEvent2("ads_start_position",12),_.default.FcunVideoTsOc(function(a){switch(a){case 0:g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var i=d.DMB_Fish.instance.Fish_Data.data[t.typeid].itemId,n=d.DMB_Fish.instance.Fish_Data.data[t.typeid].itemNum;d.DMB_Fish.instance.collectFish(t.typeid,2),t.RefreshUI_Medium(),p.UI_PlayMS.instance.playSound("confirm"),g.UI_Manager.instance.AddFloatSprite(.5,t._icon,cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+i,2*n),u.UI_Events.instance.emitEvents("V_fish_playAnimation",e.typeid),_.default.postEvent2("ads_finish_position",12);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})):g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},t.prototype.SelectedEvent=function(e){if(this.listSelect!=e.target.tagid&&0==d.DMB_Fish.instance.Fish_Data.data[this.typeid].state){p.UI_PlayMS.instance.playSound("button"),this.listSelect=e.target.tagid;for(var t=s.GameData.instance.sortItem.fish.length,a=0;a<t;a++)this.listNode.children[a].getChildByName("Guang").active=a==this.listSelect;this.RefreshUI_Medium()}},t.prototype.SelectedTips=function(e){p.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=s.GameData.instance.sortItem.fish;g.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(l.BasicsConfig.Item_config[a[t]].unlock+1)]))},t=n([C],t)}(m.default));a.default=y,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMB_Fish":"DMB_Fish","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_FreightStationChidrenPre:[function(e,t,a){"use strict";cc._RF.push(t,"a26d1/Uee1OcK06djtZdE91","V_FreightStationChidrenPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_instance/DMA_FreightStation"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../../Model/network/GameSDK"),_=e("../currency/UI_Events"),m=e("../currency/UI_Manager"),u=e("../currency/UI_PlayMS"),g=cc._decorator,p=g.ccclass,f=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.orderDetails=function(e){if(this.node.getChildByName("ShangPin").getChildByName("ID").getComponent(cc.Label).string=""+(e+1),-1==l.DMA_FreightStation.instance.FreightStation_Data[e].endTime){this.node.getChildByName("state0").getChildByName("Btn_loading").off(cc.Node.EventType.TOUCH_START,this.func_orderloading,this),this.node.getChildByName("state0").getChildByName("Btn_delete").off(cc.Node.EventType.TOUCH_START,this.func_orderdelete,this),this.node.getChildByName("state0").active=!0,this.node.getChildByName("state1").active=!1,this.node.getChildByName("state0").getChildByName("ShouRu").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(l.DMA_FreightStation.instance.FreightStation_Data[e].profit);for(var t=l.DMA_FreightStation.instance.FreightStation_Data[e].Data.length,a=0;a<4;a++)if(this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("Btn").targetOff(this),a<t){this.node.getChildByName("state0").getChildByName("node").children[a].active=!0;var i=l.DMA_FreightStation.instance.FreightStation_Data[e].Data[a].id,n=l.DMA_FreightStation.instance.FreightStation_Data[e].Data[a].num,d=h.DMA_StorageRoom.instance.ViewItemNumber(i);m.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("icon"),"texture/goods/"+i,null,!1);var _=o.i18nMgr._getString("item."+i+"._Name");this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("TXT").getComponent(cc.RichText).string=d>=n?"<color=#673b17>"+_+"\n </color><color=#99e06e><outline color= #233e10 width=2 >x"+n+"</outline></color>":"<color=#673b17>"+_+"\n </color><color=#EE7171><outline color= #442812 width=2 >x"+n+"</outline></color>",this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("Btn").TT=a,this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("Btn").ItemId=i,this.node.getChildByName("state0").getChildByName("node").children[a].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.MaterialDetails,this)}else this.node.getChildByName("state0").getChildByName("node").children[a].active=!1;this.node.getChildByName("state0").getChildByName("Btn_loading").tagid=e,this.node.getChildByName("state0").getChildByName("Btn_delete").tagid=e,this.node.getChildByName("state0").getChildByName("Btn_loading").on(cc.Node.EventType.TOUCH_START,this.func_orderloading,this),this.node.getChildByName("state0").getChildByName("Btn_delete").on(cc.Node.EventType.TOUCH_START,this.func_orderdelete,this)}else this.node.getChildByName("state1").getChildByName("node").getChildByName("but_gem").off(cc.Node.EventType.TOUCH_START,this.func_ordergem,this),this.node.getChildByName("state1").getChildByName("node").getChildByName("but_video").off(cc.Node.EventType.TOUCH_START,this.func_ordervideo,this),this.node.getChildByName("state0").active=!1,this.node.getChildByName("state1").active=!0,this.node.getChildByName("state1").getChildByName("node").getChildByName("but_gem").getChildByName("Num").getComponent(cc.Label).string="x1",this.node.getChildByName("state1").getChildByName("node").getChildByName("but_video").active=c.VideoSwitch.instance.freightStationCome,this.node.getChildByName("state1").getChildByName("TipsTime").getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.timeTips",[""+r.FuncCommon.formatTime2(l.DMA_FreightStation.instance.FreightStation_Data[e].endTime-s.GameData.instance.TimeServer)]),this.node.getChildByName("state1").getChildByName("node").getChildByName("but_gem").tagid=e,this.node.getChildByName("state1").getChildByName("node").getChildByName("but_video").tagid=e,this.node.getChildByName("state1").getChildByName("node").getChildByName("but_gem").on(cc.Node.EventType.TOUCH_START,this.func_ordergem,this),this.node.getChildByName("state1").getChildByName("node").getChildByName("but_video").on(cc.Node.EventType.TOUCH_START,this.func_ordervideo,this)},t.prototype.MaterialDetails=function(e){u.UI_PlayMS.instance.playSound("button");var t=e.target.TT,a=e.target.ItemId,i=cc.find("Canvas/UIAddNode/GetGoodsPre");i.active=!0;var n=this.node.getChildByName("state0").getChildByName("node").children[t],o=n.parent.convertToWorldSpaceAR(n.getPosition()),r=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(o);i.getChildByName("DiBan").setPosition(r);var s=cc.find("Canvas/UIAddNode").children.length+1;i.setSiblingIndex(s),i.getComponent("V_GetGoodsPre").init(a,"FreightStation")},t.prototype.func_orderloading=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;switch(l.DMA_FreightStation.instance.loadFreightStationOrder(t)){case 0:_.UI_Events.instance.emitEvents("V_FreightStationPre_RefreshUI_orderList"),_.UI_Events.instance.emitEvents("V_FreightStationPre_RefreshUI_orderState");break;case 1:m.UI_Manager.instance.AddFloatLabel("\u9001\u8d27\u4e2d \u65e0\u6cd5\u88c5\u8f7d");break;case 2:m.UI_Manager.instance.AddFloatLabel("\u672a\u9886\u53d6 \u65e0\u6cd5\u88c5\u8f7d");break;case 3:m.UI_Manager.instance.AddFloatLabel("\u7269\u54c1\u6570\u91cf\u4e0d\u8db3");break;case 4:m.UI_Manager.instance.AddFloatLabel("\u8fd0\u8f93\u8f66 \u5bb9\u91cf\u4e0d\u8db3")}}},t.prototype.func_orderdelete=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;l.DMA_FreightStation.instance.deleteFreightStationOrder(t),this.orderDetails(t)}},t.prototype.func_ordergem=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;switch(l.DMA_FreightStation.instance.FastFreightStationOrder(t,1)){case 0:this.orderDetails(t);break;case 1:m.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&_.UI_Events.instance.emitEvents("openRecharge_Gem")})}}},t.prototype.func_ordervideo=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=this;d.default.postEvent2("ads_start_position",4),d.default.FcunVideoTsOc(function(e){switch(e){case 0:m.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:l.DMA_FreightStation.instance.FastFreightStationOrder(t,2),a.orderDetails(t),d.default.postEvent2("ads_finish_position",4);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([p],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_FreightStationPre:[function(e,t,a){"use strict";cc._RF.push(t,"5531aKw4jlCqIAjy13k5vWV","V_FreightStationPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o,r=e("../../i18n/i18nMgr"),s=e("../../Model/M_Basics/CommonFun"),c=e("../../Model/M_Basics/GameData"),l=e("../../Model/M_Basics/VideoSwitch"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMA_FreightStation"),_=e("../../Model/M_instance/DMA_StorageRoom"),m=e("../../Model/network/GameSDK"),u=e("../currency/UI_Ctrl"),g=e("../currency/UI_Events"),p=e("../currency/UI_Manager"),f=e("../currency/UI_PlayMS"),C=cc._decorator,y=C.ccclass,D=C.property;(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(o||(o={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t.orderList=null,t.orderState=[],t}return i(t,e),t.prototype.CloseFunc=function(){f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("CloseGamePrefab","FreightStationPre")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,g.UI_Events.instance.offEvents("V_FreightStationPre_RefreshUI_orderList",this.RefreshUI_orderList,this),g.UI_Events.instance.offEvents("V_FreightStationPre_updateOrderState",this.updateOrderState,this),g.UI_Events.instance.offEvents("V_FreightStationPre_RefreshUI_orderState",this.RefreshUI_orderState,this)},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.orderList=cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/ScrollView/view/content"),this.orderState[0]=cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/Zhong/state0"),this.orderState[1]=cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/Zhong/state1"),this.orderState[2]=cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/Zhong/state2"),this.RefreshUI_orderList(),this.RefreshUI_orderState(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this.orderState[0].getChildByName("StartShipping"),this,this.FuncStartShipping,0),this.add_button_Listen(this.orderState[1].getChildByName("node").getChildByName("gemQuicken"),this,this.quickenDeliveryGem,0),this.add_button_Listen(this.orderState[1].getChildByName("node").getChildByName("videoQuicken"),this,this.quickenDeliveryVideo,0),this.add_button_Listen(this.orderState[2].getChildByName("node").getChildByName("receive"),this,this.FuncReceive,0),this.add_button_Listen(this.orderState[2].getChildByName("node").getChildByName("videoreceive"),this,this.FuncVideoReceive,0),this.add_button_Listen(cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/Xia/but_change"),this,this.Funcbutchange,0),this.add_button_Listen(cc.find("Canvas/UIAddNode/FreightStationPre/DiBan/Xia/but_up"),this,this.FuncbutUp,0),g.UI_Events.instance.onEvents("V_FreightStationPre_RefreshUI_orderList",this.RefreshUI_orderList,this),g.UI_Events.instance.onEvents("V_FreightStationPre_updateOrderState",this.updateOrderState,this),g.UI_Events.instance.onEvents("V_FreightStationPre_RefreshUI_orderState",this.RefreshUI_orderState,this),1==c.GameData.instance.IsGuidePattern&&this.scheduleOnce(function(){g.UI_Events.instance.emitEvents("Game_startGuide")},.1)},t.prototype.RefreshUI_orderList=function(){g.UI_Events.instance.emitEvents("OpenMask");var e=this.orderList.children.length,t=d.DMA_FreightStation.instance.FreightStation_Data.length,a=Math.max(t,e),i=0,n=function(){if(i<a){if(i<t){if(void 0==this.orderList.children[i]||null==this.orderList.children[i]){var e=cc.instantiate(this.templateType==o.PREFAB?this.tmpPrefab:this.tmpNode);this.orderList.addChild(e)}this.orderList.children[i].active=!0,this.orderList.children[i].getComponent("V_FreightStationChidrenPre").orderDetails(i)}else void 0==this.orderList.children[i]||null==this.orderList.children[i]||(this.orderList.children[i].active=!1);this.scheduleOnce(function(e){i++,n()})}else g.UI_Events.instance.emitEvents("CloseMask")}.bind(this);n()},t.prototype.RefreshStatus=function(){if(null!=this.orderList)for(var e=d.DMA_FreightStation.instance.FreightStation_Data.length,t=0;t<e;t++)void 0==this.orderList.children[t]||null==this.orderList.children[t]||-1!=d.DMA_FreightStation.instance.FreightStation_Data[t].endTime&&(d.DMA_FreightStation.instance.FreightStation_Data[t].endTime>c.GameData.instance.TimeServer?this.orderList.children[t].getChildByName("state1").getChildByName("TipsTime").getComponent(cc.Label).string=r.i18nMgr._getString("transportCar.timeTips",[""+s.FuncCommon.formatTime2(d.DMA_FreightStation.instance.FreightStation_Data[t].endTime-c.GameData.instance.TimeServer)]):(d.DMA_FreightStation.instance.FastFreightStationOrder(t,2),this.orderList.children[t].getComponent("V_FreightStationChidrenPre").orderDetails(t)))},t.prototype.RefreshUI_orderState=function(){var e=d.DMA_FreightStation.instance.FreightCar_Data.own.indexOf(1);if(3==d.DMA_FreightStation.instance.FreightCar_Data.Data.state){this.orderState[0].active=!1,this.orderState[1].active=!1,this.orderState[2].active=!0,this.orderState[2].getChildByName("node").getChildByName("videoreceive").active=l.VideoSwitch.instance.freightStationDouble,this.orderState[2].getChildByName("right2").getComponent(cc.Label).string=s.FuncCommon.Funcformat_0(d.DMA_FreightStation.instance.FreightCar_Data.Data.profit);var t=h.RoomConfig.freightStationCar_config[e].material,a=0;for(var i in t){p.UI_Manager.instance.loadNewReleaseOld(this.orderState[2].getChildByName("reward").children[a].getChildByName("icon"),"texture/goods/"+i,null,!1);var n=_.DMA_StorageRoom.instance.ViewItemNumber(i),o=r.i18nMgr._getString("item."+i+"._Name");n>=t[i]?this.orderState[2].getChildByName("reward").children[a].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#673b17>"+o+"\n </color><color=#99e06e><outline color= #233e10 width=2 >x"+t[i]+"</outline></color>":this.orderState[2].getChildByName("reward").children[a].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#673b17>"+o+"\n </color><color=#EE7171><outline color= #442812 width=2 >x"+t[i]+"</outline></color>",a++}}else 2==d.DMA_FreightStation.instance.FreightCar_Data.Data.state?(this.orderState[0].active=!1,this.orderState[1].active=!0,this.orderState[2].active=!1,this.orderState[1].getChildByName("node").getChildByName("videoQuicken").active=l.VideoSwitch.instance.freightStationFast,this.orderState[1].getChildByName("node").getChildByName("gemQuicken").getChildByName("Num").getComponent(cc.Label).string="x1",this.orderState[1].getChildByName("right2").getComponent(cc.Label).string=s.FuncCommon.Funcformat_0(d.DMA_FreightStation.instance.FreightCar_Data.Data.profit),this.updateOrderState(!1)):(this.orderState[0].active=!0,this.orderState[1].active=!1,this.orderState[2].active=!1,p.UI_Manager.instance.loadNewReleaseOld(this.orderState[0].getChildByName("IconCar"),"texture/icon/icon_HuoYuanChe_min_"+e,null,!1),this.orderState[0].getChildByName("right1").getComponent(cc.Label).string=d.DMA_FreightStation.instance.FreightCar_Data.Data.count+"/"+h.RoomConfig.freightStationCar_config[e].capacity,this.orderState[0].getChildByName("right2").getComponent(cc.Label).string=s.FuncCommon.formatTime2(1e3*h.RoomConfig.freightStationCar_config[e].Cycle),this.orderState[0].getChildByName("right3").getComponent(cc.Label).string=s.FuncCommon.Funcformat_0(d.DMA_FreightStation.instance.FreightCar_Data.Data.profit))},t.prototype.updateOrderState=function(e){0==e?this.orderState[1].getChildByName("right1").getComponent(cc.Label).string=s.FuncCommon.formatTime2(d.DMA_FreightStation.instance.FreightCar_Data.Data.endTime-c.GameData.instance.TimeServer):this.RefreshUI_orderState()},t.prototype.FuncStartShipping=function(){if(c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),d.DMA_FreightStation.instance.startDelivery()){case 0:this.RefreshUI_orderState(),g.UI_Events.instance.emitEvents("FreightStationAnimation",0);break;case 1:p.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("transportCar.Tips1"))}},t.prototype.quickenDeliveryGem=function(){if(c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),d.DMA_FreightStation.instance.FastDelivery(1)){case 0:this.RefreshUI_orderState(),g.UI_Events.instance.emitEvents("FreightStationAnimation",1);break;case 1:p.UI_Manager.instance.OpenPopup(1,r.i18nMgr._getString("Gem_isUp"),function(e){1==e&&g.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.quickenDeliveryVideo=function(){if(c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var e=this;m.default.postEvent2("ads_start_position",2),m.default.FcunVideoTsOc(function(t){switch(t){case 0:p.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:d.DMA_FreightStation.instance.FastDelivery(0),e.RefreshUI_orderState(),g.UI_Events.instance.emitEvents("FreightStationAnimation",1),m.default.postEvent2("ads_finish_position",2);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.FuncReceive=function(){if(c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var e=d.DMA_FreightStation.instance.FreightCar_Data.Data.profit;d.DMA_FreightStation.instance.receiveDeliveryProfit(1),this.RefreshUI_orderState(),f.UI_PlayMS.instance.playSound("confirm");var t=d.DMA_FreightStation.instance.FreightCar_Data.own.indexOf(1),a=h.RoomConfig.freightStationCar_config[t].material;p.UI_Manager.instance.AddFloatSprite(.5,this.orderState[2].getChildByName("reward").children[0],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_MuCai",a.material_MuCai),p.UI_Manager.instance.AddFloatSprite(.5,this.orderState[2].getChildByName("reward").children[1],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_DaoCao",a.material_DaoCao),p.UI_Manager.instance.AddFloatSprite(.5,this.orderState[2].getChildByName("reward").children[2],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_ShaZi",a.material_ShaZi),p.UI_Manager.instance.AddFloatSprite(1,this.orderState[2].getChildByName("right2"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",e)}},t.prototype.FuncVideoReceive=function(){var e=this;if(c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var t=this;m.default.postEvent2("ads_start_position",14),m.default.FcunVideoTsOc(function(a){switch(a){case 0:p.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:var i=d.DMA_FreightStation.instance.FreightCar_Data.Data.profit;d.DMA_FreightStation.instance.receiveDeliveryProfit(2),t.RefreshUI_orderState(),f.UI_PlayMS.instance.playSound("confirm");var n=d.DMA_FreightStation.instance.FreightCar_Data.own.indexOf(1),o=h.RoomConfig.freightStationCar_config[n].material;p.UI_Manager.instance.AddFloatSprite(.5,e.orderState[2].getChildByName("reward").children[0],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_MuCai",2*o.material_MuCai),p.UI_Manager.instance.AddFloatSprite(.5,e.orderState[2].getChildByName("reward").children[1],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_DaoCao",2*o.material_DaoCao),p.UI_Manager.instance.AddFloatSprite(.5,e.orderState[2].getChildByName("reward").children[2],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/material_ShaZi",2*o.material_ShaZi),p.UI_Manager.instance.AddFloatSprite(1,e.orderState[2].getChildByName("right2"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*i),m.default.postEvent2("ads_finish_position",14);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.Funcbutchange=function(){c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"JianZaoPre",MainType:1,Subtype:0}))},t.prototype.FuncbutUp=function(){c.GameData.instance.ClickTimeCount<c.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+c.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(c.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:3,Subtype:-1}))},n([D({type:cc.Enum(o),tooltip:!1})],t.prototype,"templateType",void 0),n([D({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),n([D({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),t=n([y],t)}(u.default);a.default=v,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_Game:[function(e,t,a){"use strict";cc._RF.push(t,"a7abenVF8dPZpRJ+GLwTaUL","V_Game");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/GameData"),s=e("../Model/M_Basics/VideoSwitch"),c=e("../Model/M_config/RoomConfig"),l=e("../Model/M_instance/DMA_GoOut"),h=e("../Model/M_instance/DMD_7DaySignIn"),d=e("../Model/network/GameSDK"),_=e("./currency/UI_Ctrl"),m=e("./currency/UI_Events"),u=e("./currency/UI_Manager"),g=e("./currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ChuFangNode=null,t._ZhuFangNode=null,t._KuFangNode=null,t._ShiTangNode=null,t._CanZhuoNode=null,t._XiaoMaiBuNode=null,t._LaJiZhanBuNode=null,t._HuoYunZhanBuNode=null,t._YunShuZhanNode=null,t._YunShuCheNode=null,t._GongJiaoZhanNode=null,t._GongJiaoCheNode=null,t._HuoYunZhanCheNode=null,t._ZhuangShiNode=[],t._floor=null,t._wallTop=null,t._wallBottum=null,t._wallMenLou=null,t._ZhaLan=null,t._road=null,t._CashNode=null,t._GemNode=null,t.Btn_QianDao=null,t.Btn_SheZhi=null,t.Btn_JianZao=null,t.Btn_WaiChu=null,t.Btn_ChengJiu=null,t.Btn_RenWu=null,t._UIAddNode=null,t._UIMaskNode=null,t._ZhuXianTask=null,t._ZhiXianTask=null,t._PetNode=[],t._Petclick=[!0,!0,!0],t.PetName=["","",""],t.VideoBalloonTime=0,t.VideoDoubleHarvest=null,t}return i(t,e),t.prototype.getObjectNode=function(){this._ChuFangNode=cc.find("Canvas/UIMap/ChuFang"),this._ZhuFangNode=cc.find("Canvas/UIMap/ZhuFang"),this._KuFangNode=cc.find("Canvas/UIMap/CangKu"),this._ShiTangNode=cc.find("Canvas/UIMap/ShiTang"),this._CanZhuoNode=cc.find("Canvas/UIMap/CanZhuo"),this._XiaoMaiBuNode=cc.find("Canvas/UIMap/XiaoMaiBu"),this._LaJiZhanBuNode=cc.find("Canvas/UIMap/LaJiZhan"),this._HuoYunZhanBuNode=cc.find("Canvas/UIMap/HuoYunZhan"),this._YunShuZhanNode=cc.find("Canvas/UIMap/YunShuZhan"),this._GongJiaoZhanNode=cc.find("Canvas/UIMap/GongJiaoZhan"),this._YunShuCheNode=cc.find("Canvas/UIMap/CarAnimationNode/YunShuChe"),this._GongJiaoCheNode=cc.find("Canvas/UIMap/CarAnimationNode/GongJiaoChe"),this._HuoYunZhanCheNode=cc.find("Canvas/UIMap/CarAnimationNode/HuoYuanZhanChe");for(var e=0;e<6;e++)this._ZhuangShiNode[e]=cc.find("Canvas/UIMap/Zhuangshi/Icon"+(e+1));this._floor=cc.find("Canvas/UIMap/floor"),this._wallTop=cc.find("Canvas/UIMap/wallTop"),this._wallBottum=cc.find("Canvas/UIMap/wallBottum"),this._wallMenLou=cc.find("Canvas/UIMap/wallMenLou"),this._ZhaLan=cc.find("Canvas/UIMap/ZhaLan"),this._road=cc.find("Canvas/UIMap/road"),this._CashNode=cc.find("Canvas/UIBtn/top/CashKuang"),this._GemNode=cc.find("Canvas/UIBtn/top/GemKuang"),this.Btn_SheZhi=cc.find("Canvas/UIBtn/top/SheZhi"),this.Btn_QianDao=cc.find("Canvas/UIBtn/top/QianDao"),this.Btn_JianZao=cc.find("Canvas/UIBtn/bottom/JianZao"),this.Btn_WaiChu=cc.find("Canvas/UIBtn/bottom/WaiChu"),this.Btn_ChengJiu=cc.find("Canvas/UIBtn/bottom/ChengJiu"),this.Btn_RenWu=cc.find("Canvas/UIBtn/bottom/RenWu"),this._UIAddNode=cc.find("Canvas/UIAddNode"),this._UIMaskNode=cc.find("Canvas/UIMaks"),this._ZhuXianTask=cc.find("Canvas/UIBtn/bottom/node/ZhuXian"),this._ZhiXianTask=cc.find("Canvas/UIBtn/bottom/node/ZhiXian"),this._PetNode[0]=cc.find("Canvas/UIMap/Pet_Dog"),this._PetNode[1]=cc.find("Canvas/UIMap/Pet_Cat"),this._PetNode[2]=cc.find("Canvas/UIMap/Pet_Parrot"),this.VideoDoubleHarvest=cc.find("Canvas/UIAddNode/VideoDoubleHarvest"),this.VideoDoubleHarvest.active=!1,cc.find("Canvas/UIAddNode/GetGoodsPre").active=!1,this._ChuFangNode.getChildByName("animation").getChildByName("Jiao").active=!1,this._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Jiao").active=!1,this._ShiTangNode.getChildByName("animation").getChildByName("Jiao").active=!1,this._XiaoMaiBuNode.getChildByName("animation").getChildByName("Jiao").active=!1,this._ZhuFangNode.getChildByName("animation").getChildByName("Jiao").active=!1,this.Little_OldManAnimation()},t.prototype.Add_clickEvent=function(){var e=this;this.add_button_Listen(this._ChuFangNode.getChildByName("Btn"),this,function(){e.OpenGamePrefab({_name:"KitchenRoomPre",MainType:0,Subtype:0})},0),this.add_button_Listen(this._ZhuFangNode.getChildByName("Btn"),this,function(){e.OpenGamePrefab({_name:"MainRoomPre",MainType:-1,Subtype:-1})},0),this.add_button_Listen(this._KuFangNode.getChildByName("Btn"),this,function(){e.OpenGamePrefab({_name:"StorageRoomPre",MainType:0,Subtype:-1})},0),this.add_button_Listen(this._HuoYunZhanBuNode.getChildByName("Btn"),this,function(){e.OpenGamePrefab({_name:"FreightStationPre",MainType:-1,Subtype:-1})},0),this.add_button_Listen(this._HuoYunZhanCheNode,this,function(){e.OpenGamePrefab({_name:"FreightStationPre",MainType:-1,Subtype:-1})},0),this.add_button_Listen(this._ShiTangNode.getChildByName("Btn"),this,function(){var t=c.RoomConfig.messHallStation_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=t?-1==r.GameData.instance.MasterData.messHallStationLevel?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:4,Subtype:-1}):e.OpenGamePrefab({_name:"MessHallStationPre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),this.add_button_Listen(this._XiaoMaiBuNode.getChildByName("Btn"),this,function(){var t=c.RoomConfig.Canteen_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=t?-1==r.GameData.instance.MasterData.CanteenLevel?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:2,Subtype:-1}):e.OpenGamePrefab({_name:"CanteenPre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),this.add_button_Listen(this._YunShuZhanNode.getChildByName("Btn"),this,function(){var t=c.RoomConfig.deliverGoods_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=t?-1==r.GameData.instance.MasterData.deliverGoodsLevel?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:6,Subtype:-1}):e.OpenGamePrefab({_name:"DeliverGoodsPre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),this.add_button_Listen(this._YunShuCheNode,this,function(){var t=c.RoomConfig.deliverGoods_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=t?-1==r.GameData.instance.MasterData.deliverGoodsLevel?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:6,Subtype:-1}):e.OpenGamePrefab({_name:"DeliverGoodsPre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),this.add_button_Listen(this._GongJiaoZhanNode.getChildByName("Btn"),this,function(){var e=c.RoomConfig.transitStation_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=e?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:7,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(e+1)])))},0),this.add_button_Listen(this._GongJiaoCheNode,this,function(){var e=c.RoomConfig.transitStation_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=e?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:7,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(e+1)])))},0),this.add_button_Listen(this._LaJiZhanBuNode.getChildByName("Btn"),this,function(){var t=c.RoomConfig.rarbageStation_config[0].unlock;r.GameData.instance.MasterData.MainRoomLevel>=t?-1==r.GameData.instance.MasterData.rarbageStationLevel?m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:5,Subtype:-1}):e.OpenGamePrefab({_name:"RarbageStationPre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),this.add_button_Listen(this._CashNode.getChildByName("Btn"),this,function(){g.UI_PlayMS.instance.playSound("button"),e.openRecharge_Cash()},0),this.add_button_Listen(this._CashNode,this,function(){g.UI_PlayMS.instance.playSound("button"),e.openRecharge_Cash()},0),this.add_button_Listen(this._GemNode.getChildByName("Btn"),this,function(){g.UI_PlayMS.instance.playSound("button"),e.openRecharge_Gem()},0),this.add_button_Listen(this._GemNode,this,function(){g.UI_PlayMS.instance.playSound("button"),e.openRecharge_Gem()},0),this.add_button_Listen(this.Btn_ChengJiu,this,function(){e.OpenGamePrefab({_name:"ChengJiuPre",MainType:0,Subtype:-1})},0),this.add_button_Listen(this.Btn_JianZao,this,function(){e.OpenGamePrefab({_name:"JianZaoPre",MainType:3,Subtype:1})},0),this.add_button_Listen(this.Btn_SheZhi,this,function(){e.OpenGamePrefab({_name:"SheZhiPre",MainType:-1,Subtype:-1})},0),this.add_button_Listen(this.Btn_QianDao,this,function(){e.OpenGamePrefab({_name:"QianDaoPre",MainType:-1,Subtype:-1})},0),1==h.DMD_7DaySignIn.instance.SignIn7Data.eject&&0==r.GameData.instance.IsGuidePattern&&(e.OpenGamePrefab({_name:"QianDaoPre",MainType:-1,Subtype:-1}),h.DMD_7DaySignIn.instance.SignIn7Data.eject=!1),this.add_button_Listen(this.Btn_WaiChu,this,function(){var t=c.RoomConfig.goOutunlockLevel;r.GameData.instance.MasterData.MainRoomLevel>=t?0==l.DMA_GoOut.instance.GoOut_DSata.get.Mounted?e.OpenGamePrefab({_name:"goOut1Pre",MainType:-1,Subtype:-1}):e.OpenGamePrefab({_name:"goOut2Pre",MainType:-1,Subtype:-1}):(g.UI_PlayMS.instance.playSound("button"),u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)])))},0),1==r.GameData.instance.BackFromShopping&&l.DMA_GoOut.instance.GoOut_DSata.get.Mounted>0&&this.OpenGamePrefab({_name:"goOut2Pre",MainType:-1,Subtype:-1}),this.add_button_Listen(this.Btn_RenWu,this,function(){1==r.GameData.instance.IsGuidePattern?e.OpenGamePrefab({_name:"RenWuPre",MainType:1,Subtype:-1}):e.OpenGamePrefab({_name:"RenWuPre",MainType:0,Subtype:-1})},0),this.add_button_Listen(this._ZhiXianTask,this,function(){e.OpenGamePrefab({_name:"RenWuPre",MainType:1,Subtype:-1})},0),this.add_button_Listen(this._ZhuXianTask,this,function(){e.OpenGamePrefab({_name:"RenWuPre",MainType:2,Subtype:-1})},0),this.add_button_Listen(this._PetNode[0],this,function(){e.click_Pet(0)},0),this.add_button_Listen(this._PetNode[1],this,function(){e.click_Pet(1)},0),this.add_button_Listen(this._PetNode[2],this,function(){e.click_Pet(2)},0),this.add_button_Listen(cc.find("Canvas/VideoRewards"),this,function(){var t=cc.find("Canvas/VideoRewards"),a=cc.winSize.width/2+200;t.stopAllActions(),t.setPosition(a,300),e.OpenGamePrefab({_name:"BalloonRewardsPre",MainType:-1,Subtype:-1})},0)},t.prototype.OpenGamePrefab=function(e){g.UI_PlayMS.instance.playSound("button");var t=this._UIAddNode.children.length+1,a=this._UIAddNode.getChildByName(""+e._name);void 0==a||null==a?(m.UI_Events.instance.emitEvents("OpenMask"),u.UI_Manager.instance.show_ui_at(this._UIAddNode,c.RoomConfig.zIndexObj[e._name].url,function(a){a.setPosition(0,0),a.opacity=255,a.setSiblingIndex(t),a.getComponent("V_"+e._name).init(e)},"V_"+e._name)):(a.setPosition(0,0),a.opacity=255,a.setSiblingIndex(t),a.getComponent("V_"+e._name).init(e))},t.prototype.CloseGamePrefab=function(e){var t=this._UIAddNode.getChildByName(""+e);t&&(t.setPosition(0,-2500),t.opacity=0),1==r.GameData.instance.IsGuidePattern?m.UI_Events.instance.emitEvents("Game_startGuide"):"BalloonRewardsPre"==e&&(this.VideoBalloonTime=0),"BalloonRewardsPre"!=e&&"VideoRewardsPre"!=e&&d.default.ScreenAdvertisement()},t.prototype.OpenDoubleHarvest=function(e){if(0==r.GameData.instance.IsGuidePattern){var t=Object.keys(e.data);if(1==t.length&&1==e.data[t[0]])return;this.VideoDoubleHarvest.active=!0,this.VideoDoubleHarvest.getComponent("V_VideoDoubleHarvestPre").init(e)}},t.prototype.Little_OldManAnimation=function(){var e=this,t=0;this._ZhuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait",!0),this._ZhuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setCompleteListener(function(a){"z_wait"==a.animation.name?5==++t?e._ZhuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_play_1",!0):10==t&&(t=0,e._ZhuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_play_2",!0)):e._ZhuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait",!0)});var a=0;this._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait_1",!0),this._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setCompleteListener(function(t){"z_wait_1"==t.animation.name?++a>=6&&(a=0,e._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait_2",!0)):e._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait_1",!0)})},t.prototype.click_Pet=function(e){if(0!=this._Petclick[e]){var t=this;0==e?"dog_touch"!=this.PetName[e]&&(g.UI_PlayMS.instance.playSound("pet_0"),this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"dog_touch",!1),this.PetName[e]="dog_touch",this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setCompleteListener(function(a){"dog_wait"!=a.animation.name&&(t._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"dog_wait",!0),t._Petclick[e]=!0,t.PetName[e]="dog_wait")})):1==e?"cat_touch"!=this.PetName[e]&&(g.UI_PlayMS.instance.playSound("pet_1"),this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"cat_touch",!1),this.PetName[e]="cat_touch",this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setCompleteListener(function(a){"cat_wait"!=a.animation.name&&(t._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"cat_wait",!0),t._Petclick[e]=!0,t.PetName[e]="cat_wait")})):2==e&&"bird_touch"!=this.PetName[e]&&(g.UI_PlayMS.instance.playSound("pet_2"),this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"bird_touch",!1),this.PetName[e]="bird_touch",this._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setCompleteListener(function(a){"bird_wait"!=a.animation.name&&(t._PetNode[e].getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"bird_wait",!0),t._Petclick[e]=!0,t.PetName[e]="bird_wait")}))}},t.prototype.openRecharge_Gem=function(){0==s.VideoSwitch.instance.RechargeControl_Gem||(r.GameData.instance.videoCount.CountGem>=r.GameData.instance.videoCount.CountMaxNum?u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MaxvideoGem")):this.OpenGamePrefab({_name:"VideoRewardsPre",MainType:0,Subtype:-1}))},t.prototype.openRecharge_Cash=function(){0==s.VideoSwitch.instance.RechargeControl_Cash||(r.GameData.instance.videoCount.CountCash>=r.GameData.instance.videoCount.CountMaxNum?u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MaxvideoCash")):this.OpenGamePrefab({_name:"VideoRewardsPre",MainType:1,Subtype:-1}))},t.prototype.openRecharge_material=function(){0==s.VideoSwitch.instance.RechargeControl_material||this.OpenGamePrefab({_name:"VideoRewardsPre",MainType:2,Subtype:-1})},t.prototype.openRecharge_physical=function(){0==s.VideoSwitch.instance.RechargeControl_material||this.OpenGamePrefab({_name:"VideoRewardsPre",MainType:3,Subtype:-1})},t=n([f],t)}(_.default));a.default=C,cc._RF.pop()},{"../Model/M_Basics/GameData":"GameData","../Model/M_Basics/VideoSwitch":"VideoSwitch","../Model/M_config/RoomConfig":"RoomConfig","../Model/M_instance/DMA_GoOut":"DMA_GoOut","../Model/M_instance/DMD_7DaySignIn":"DMD_7DaySignIn","../Model/network/GameSDK":"GameSDK","../i18n/i18nMgr":"i18nMgr","./currency/UI_Ctrl":"UI_Ctrl","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_PlayMS":"UI_PlayMS"}],V_GetGoodsPre:[function(e,t,a){"use strict";cc._RF.push(t,"ece41irn0BMsbhfTbTmr2yw","V_GetGoodsPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/BasicsConfig"),l=e("../../Model/M_instance/DMA_StorageRoom"),h=e("../../Model/M_instance/DMB_Farm"),d=e("../../Model/M_instance/DMB_Fish"),_=e("../currency/UI_Events"),m=e("../currency/UI_Manager"),u=e("../currency/UI_PlayMS"),g=cc._decorator,p=g.ccclass,f=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ItemId_="",t.TypeName="",t}return i(t,e),t.prototype.close_Btn=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button"),this.node.active=!1)},t.prototype.init=function(e,t){void 0===t&&(t=null),this.ItemId_=e,this.TypeName=t,c.BasicsConfig.Item_config[e].Cycle?this.node.getChildByName("DiBan").getChildByName("time_").getComponent(cc.Label).string=r.FuncCommon.formatTime1(1e3*c.BasicsConfig.Item_config[e].Cycle):this.node.getChildByName("DiBan").getChildByName("time_").getComponent(cc.Label).string="",this.node.getChildByName("DiBan").getChildByName("stock_").getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.Inventory")+l.DMA_StorageRoom.instance.ViewItemNumber(e),this.node.getChildByName("DiBan").getChildByName("name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name"),this.node.getChildByName("DiBan").getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Describe"),m.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("DiBan").getChildByName("icon"),"texture/goods/"+e,null,!1)},t.prototype.Func_HuoQu=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button"),"Kitchen"!=this.TypeName?_.UI_Events.instance.emitEvents("CloseGamePrefab","KitchenRoomPre"):"kitchen"!=c.BasicsConfig.Item_config[this.ItemId_].Type&&_.UI_Events.instance.emitEvents("CloseGamePrefab","KitchenRoomPre"),_.UI_Events.instance.emitEvents("CloseGamePrefab","FreightStationPre"),_.UI_Events.instance.emitEvents("CloseGamePrefab","MessHallStationPre"),_.UI_Events.instance.emitEvents("CloseGamePrefab","goOut1Pre"),this.node.active=!1;var e=c.BasicsConfig.Item_config[this.ItemId_].Type;if("farming"==e)(t=cc.find("Canvas/UIAddNode/SeedSelection_farming")).setPosition(0,0),t.active=!0,t.getComponent("V_farming_seed").init();else if("orchard"==e){(t=cc.find("Canvas/UIAddNode/SeedSelection_orchard")).setPosition(0,0),t.active=!0,t.getComponent("V_orchard_seed").init()}else if("flowers"==e){var t;(t=cc.find("Canvas/UIAddNode/SeedSelection_flowers")).setPosition(0,0),t.active=!0,t.getComponent("V_flowers_seed").init()}else if("farm"==e){for(var a=(o=s.GameData.instance.sortItem.farm).length,i=0;i<a;i++)if(o[i]==this.ItemId_){1==h.DMB_Farm.instance.Farm_Data.own[i]&&_.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FarmPre",MainType:-1,Subtype:i});break}}else if("fish"==e){for(var n=0;n<4;n++)if(1==d.DMB_Fish.instance.Fish_Data.own[n]&&d.DMB_Fish.instance.Fish_Data.data[n].itemId==this.ItemId_)return void _.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:n,Subtype:-1});for(n=0;n<4;n++)if(1==d.DMB_Fish.instance.Fish_Data.own[n]&&0==d.DMB_Fish.instance.Fish_Data.data[n].state)for(a=(o=s.GameData.instance.sortItem.fish).length,i=0;i<a;i++)if(o[i]==this.ItemId_)return void _.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:n,Subtype:i})}else if("rare"==e);else if("kitchen"==e)if(s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[this.ItemId_].unlock&&s.GameData.instance.MasterData.KitchenRoomLevel>=c.BasicsConfig.Item_config[this.ItemId_].machining){var o,r=Object.keys(s.GameData.instance.kitchen_sortItem),l=c.BasicsConfig.Item_config[this.ItemId_].TypeSub,g=r.indexOf(l),p=0;for(a=(o=s.GameData.instance.kitchen_sortItem[l]).length,i=0;i<a;i++)if(o[i]==this.ItemId_){p=i;break}_.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"KitchenRoomPre",MainType:g,Subtype:p})}else m.UI_Manager.instance.AddFloatLabel("\u6b64\u7269\u54c1\u8fd8\u672a\u89e3\u9501,\u5c3d\u5feb\u5347\u7ea7\u53a8\u623f\u89e3\u9501\u6b64\u7269\u54c1")}},t=n([p],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMB_Farm":"DMB_Farm","../../Model/M_instance/DMB_Fish":"DMB_Fish","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_0:[function(e,t,a){"use strict";cc._RF.push(t,"7b31dhXch9No5+jgBepiBOL","V_JianZaoChildren_0");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_GoOut"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Id=0,t}return i(t,e),t.prototype.init=function(e){this.Id=e;var t=c.RoomConfig.goOutCar_config[e].unlock;if(s.GameData.instance.MasterData.MainRoomLevel>=t){var a=l.DMA_GoOut.instance.GoOut_DSata.car[e];-1==a&&(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(c.RoomConfig.goOutCar_config[e].Price)),0==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1),1==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!0,this.node.getChildByName("UnlockLevel").active=!1)}else this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!0,this.node.getChildByName("UnlockLevel").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(t+1)]);this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.Car"+e+"._Name"),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.Car"+e+"._Describe"),this.node.getChildByName("capacity_").getComponent(cc.RichText).string="<color=#ffffff><outline color= #000000 width=2 >"+o.i18nMgr._getString("goOut.capacity2")+"</outline> </color><color=#642000>"+c.RoomConfig.goOutCar_config[e].capacity+"</color>              <color=#ffffff><outline color= #000000 width=2 >"+o.i18nMgr._getString("goOut.add")+"</outline> </color><color=#642000>"+100*c.RoomConfig.goOutCar_config[e].Income+"%</color>  ",_.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),"texture/icon/icon_GoOut_"+e,null,!1)},t.prototype.FuncBuy=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_GoOut.instance.BuyCar(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_goOutCarDetails",-1),d.UI_Events.instance.emitEvents("V_goOut1_RefreshUI");break;case 3:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Cash")})}},t.prototype.FuncUsed=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_GoOut.instance.replaceCar(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_goOutCarDetails",-1),d.UI_Events.instance.emitEvents("V_goOut1_RefreshUI");break;case 1:_.UI_Manager.instance.AddFloatLabel("\u4e0a\u6b21\u5916\u51fa\u8d27\u7269\u672a\u5378\u8f7d")}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_GoOut":"DMA_GoOut","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_1:[function(e,t,a){"use strict";cc._RF.push(t,"98e9ecScmNJaYH/Wd+46ixo","V_JianZaoChildren_1");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_FreightStation"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Id=0,t}return i(t,e),t.prototype.init=function(e){this.Id=e;var t=c.RoomConfig.freightStationCar_config[e].unlock;if(s.GameData.instance.MasterData.MainRoomLevel>=t){var a=l.DMA_FreightStation.instance.FreightCar_Data.own[e];-1==a&&(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(c.RoomConfig.freightStationCar_config[e].Price)),0==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1),1==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!0,this.node.getChildByName("UnlockLevel").active=!1)}else this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!0,this.node.getChildByName("UnlockLevel").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(t+1)]);this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.Car"+e+"._Name"),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.Car"+e+"._Describe");var i=o.i18nMgr._getString("transportCar.attribute1"),n=o.i18nMgr._getString("transportCar.attribute2"),h=c.RoomConfig.freightStationCar_config[e].capacity,d=c.RoomConfig.freightStationCar_config[e].Cycle;this.node.getChildByName("capacity_").getComponent(cc.RichText).string="<color=#ffffff><outline color= #000000 width=2 >"+i+"</outline> </color><color=#642000>"+h+"</color>              <color=#ffffff><outline color= #000000 width=2 >"+n+"</outline> </color><color=#642000>"+d+"s</color>",_.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),"texture/icon/icon_HuoYuanChe_"+e,null,!1)},t.prototype.FuncBuy=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_FreightStation.instance.buyDeliveryCar(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_FreightCarDetails",-1),d.UI_Events.instance.emitEvents("V_FreightStationPre_RefreshUI_orderState"),d.UI_Events.instance.emitEvents("FreightStationAnimation",2);break;case 1:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Cash")})}},t.prototype.FuncUsed=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_FreightStation.instance.replaceDeliveryCar(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_FreightCarDetails",-1),d.UI_Events.instance.emitEvents("V_FreightStationPre_RefreshUI_orderState"),d.UI_Events.instance.emitEvents("FreightStationAnimation",2);break;case 1:case 2:_.UI_Manager.instance.AddFloatLabel("\u5df2\u88c5\u8f7d\u8d27\u7269 \u4e0d\u53ef\u66f4\u6362");break;case 3:_.UI_Manager.instance.AddFloatLabel("\u672a\u9886\u53d6\u5956\u52b1 \u4e0d\u53ef\u66f4\u6362")}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_2:[function(e,t,a){"use strict";cc._RF.push(t,"4d502ytmmFHuY+sf5LkQ+M5","V_JianZaoChildren_2");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DME_Decoration"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._type=0,t._Id=0,t}return i(t,e),t.prototype.init=function(e,t){this._type=e,this._Id=t;var a=c.RoomConfig.Decoration_config[e][t].unlock;if(s.GameData.instance.MasterData.MainRoomLevel>=a){var i=l.DME_Decoration.instance.Decoration_Data[e][t];-1==i&&(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(c.RoomConfig.Decoration_config[e][t].Price)),0==i&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1),1==i&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!0,this.node.getChildByName("UnlockLevel").active=!1)}else this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!0,this.node.getChildByName("UnlockLevel").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(a+1)]);this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("Decoration.sort"+e+"_"+t+"._Name"),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("Decoration.sort"+e+"_"+t+"._Describe"),_.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),"texture/icon/icon_zhuangshi"+(e+1)+"_"+(t+1),null,!1)},t.prototype.FuncBuy=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DME_Decoration.instance.BuyDecoration(this._type,this._Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_decorateDetails",-1),d.UI_Events.instance.emitEvents("Game_Ornament_Refresh_Public",this._type);break;case 1:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MainRoomLevel_No"));break;case 2:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Cash")})}},t.prototype.FuncUsed=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DME_Decoration.instance.useDecoration(this._type,this._Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_decorateDetails",-1),d.UI_Events.instance.emitEvents("Game_Ornament_Refresh_Public",this._type)}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DME_Decoration":"DME_Decoration","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_3:[function(e,t,a){"use strict";cc._RF.push(t,"71b6c3PoZZM2angCjK9UYRY","V_JianZaoChildren_3");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DME_Theme"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._type=0,t._Id=0,t}return i(t,e),t.prototype.init=function(e,t){this._type=e,this._Id=t;var a=c.RoomConfig.Theme_config[e][t].unlock;if(s.GameData.instance.MasterData.MainRoomLevel>=a){var i=l.DME_Theme.instance.Theme_Data[e][t];-1==i&&(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(c.RoomConfig.Theme_config[e][t].Price),0==c.RoomConfig.Theme_config[e][t].PriceType?(this.node.getChildByName("BtnBuy").getChildByName("icon_cash").active=!0,this.node.getChildByName("BtnBuy").getChildByName("icon_gem").active=!1):(this.node.getChildByName("BtnBuy").getChildByName("icon_cash").active=!1,this.node.getChildByName("BtnBuy").getChildByName("icon_gem").active=!0)),0==i&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1),1==i&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!0,this.node.getChildByName("UnlockLevel").active=!1)}else this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!0,this.node.getChildByName("UnlockLevel").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(a+1)]);this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("Theme.sort"+e+"._Name"+t),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("Theme.sort"+e+"._Describe");var n="";switch(e){case 0:n="texture/icon/icon_DiMan"+t;break;case 1:n="texture/icon/icon_WeiQian"+t;break;case 2:n="texture/icon/icon_ZhaLan"+t;break;case 3:n="texture/icon/icon_GongLu"+t}_.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),n,null,!1)},t.prototype.FuncBuy=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DME_Theme.instance.BuyTheme(this._type,this._Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_ThemeeDetails",-1),d.UI_Events.instance.emitEvents("Game_ThemeRefresh_Public",this._type);break;case 1:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MainRoomLevel_No"));break;case 2:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 3:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.FuncUsed=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DME_Theme.instance.useTheme(this._type,this._Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_ThemeeDetails",-1),d.UI_Events.instance.emitEvents("Game_ThemeRefresh_Public",this._type)}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DME_Theme":"DME_Theme","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_4:[function(e,t,a){"use strict";cc._RF.push(t,"b5288Fw6YBFc7pz14yzqhxz","V_JianZaoChildren_4");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_MessHallStation"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Id=0,t}return i(t,e),t.prototype.init=function(e){if(this.Id=e,-1==s.GameData.instance.MasterData.messHallStationLevel)this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,this.node.getChildByName("Unlock").active=!0;else{this.node.getChildByName("Unlock").active=!1;var t=c.RoomConfig.messHallStationTable_config[e].unlock;if(s.GameData.instance.MasterData.MainRoomLevel>=t){var a=l.DMA_MessHallStation.instance.TablesChairs_Data[e];-1==a&&(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1,0==c.RoomConfig.messHallStationTable_config[e].PriceType?(this.node.getChildByName("BtnBuy").getChildByName("cash").active=!0,this.node.getChildByName("BtnBuy").getChildByName("gem").active=!1):(this.node.getChildByName("BtnBuy").getChildByName("cash").active=!1,this.node.getChildByName("BtnBuy").getChildByName("gem").active=!0),this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(c.RoomConfig.messHallStationTable_config[e].Price)),0==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!1),1==a&&(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!0,this.node.getChildByName("UnlockLevel").active=!1)}else this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("BtnUsed").active=!1,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("UnlockLevel").active=!0,this.node.getChildByName("UnlockLevel").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(t+1)])}this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.table"+e+"._Name"),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.table"+e+"._Describe");var i=o.i18nMgr._getString("MessHallStatio.attribute1"),n=o.i18nMgr._getString("MessHallStatio.attribute2"),h=o.i18nMgr._getString("MessHallStatio.attribute3"),d=o.i18nMgr._getString("MessHallStatio.attribute4"),m="<color=#ffffff><outline color= #000000 width=2 >"+i+"</outline> </color><color=#642000>"+c.RoomConfig.messHallStationTable_config[e].MealFee+"</color>              <color=#ffffff><outline color= #000000 width=2 >"+n+"</outline> </color><color=#642000>"+c.RoomConfig.messHallStationTable_config[e].num+"</color>\n<color=#ffffff><outline color= #000000 width=2 >"+h+"</outline> </color><color=#642000>"+c.RoomConfig.messHallStationTable_config[e].eatTime+"s</color>              <color=#ffffff><outline color= #000000 width=2 >"+d+"</outline> </color><color=#642000>"+c.RoomConfig.messHallStationTable_config[e].etcTime+"s</color>";this.node.getChildByName("capacity_").getComponent(cc.RichText).string=m,_.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),"texture/icon/icon_ZhuoYi"+e,null,!1)},t.prototype.FuncBuy=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_MessHallStation.instance.BuyTablesChairs(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_TablesChairsDetails",-1),d.UI_Events.instance.emitEvents("Game_BuildingRefresh_CanGuanZhuoYi");break;case 1:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MainRoomLevel_No"));break;case 2:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 3:_.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&d.UI_Events.instance.emitEvents("openRecharge_Gem")});break;case 4:_.UI_Manager.instance.AddFloatLabel("\u98df\u5802\u672a\u5efa\u9020")}},t.prototype.FuncUsed=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),l.DMA_MessHallStation.instance.useTablesChairs(this.Id)){case 0:d.UI_Events.instance.emitEvents("V_JianZaoPre_TablesChairsDetails",-1),d.UI_Events.instance.emitEvents("Game_BuildingRefresh_CanGuanZhuoYi")}},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_MessHallStation":"DMA_MessHallStation","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoChildren_5:[function(e,t,a){"use strict";cc._RF.push(t,"799f6Lj+MFNDL1+9DoNs+a+","V_JianZaoChildren_5");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_config/RoomConfig"),s=e("../../Model/M_instance/DME_Pet"),c=e("../currency/UI_Events"),l=e("../currency/UI_Manager"),h=e("../currency/UI_PlayMS"),d=cc._decorator,_=d.ccclass,m=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Id=0,t}return i(t,e),t.prototype.init=function(e){cc.log(e),this.Id=e,0==s.DME_Pet.instance.Pet_Data[e]?(this.node.getChildByName("BtnBuy").active=!0,this.node.getChildByName("beingUsed").active=!1,this.node.getChildByName("BtnBuy").getChildByName("Num").getComponent(cc.Label).string=""+r.RoomConfig.Pet_config[e].gem):(this.node.getChildByName("BtnBuy").active=!1,this.node.getChildByName("beingUsed").active=!0),l.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("Kuang").getChildByName("icon"),"texture/icon/icon_Pets_"+r.RoomConfig.Pet_config[e].name,null,!1),this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("buildShop."+r.RoomConfig.Pet_config[e].name+"._Name"),this.node.getChildByName("describe_").getComponent(cc.Label).string=o.i18nMgr._getString("buildShop."+r.RoomConfig.Pet_config[e].name+"._Describe")},t.prototype.Func_BuyPet=function(){switch(h.UI_PlayMS.instance.playSound("button"),s.DME_Pet.instance.BuyPet(this.Id)){case 0:this.init(this.Id),c.UI_Events.instance.emitEvents("RefresPet");break;case 1:l.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&c.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t=n([_],t)}(cc.Component));a.default=m,cc._RF.pop()},{"../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DME_Pet":"DME_Pet","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_JianZaoPre:[function(e,t,a){"use strict";cc._RF.push(t,"63b39LIzetK+Z0wBPrpIPN2","V_JianZaoPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_Basics/GameData"),r=e("../../Model/M_config/RoomConfig"),s=e("../currency/UI_Ctrl"),c=e("../currency/UI_Events"),l=e("../currency/UI_PlayMS"),h=cc._decorator,d=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortOneID=0,t.sortTwoID=0,t.sortBtn=null,t.ZS_sortBtn=null,t.ZT_sortBtn=null,t.AddScrollView=[],t.AddContent=[],t}return i(t,e),t.prototype.CloseFunc=function(){l.UI_PlayMS.instance.playSound("button"),c.UI_Events.instance.emitEvents("CloseGamePrefab","JianZaoPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.sortOneID=e.MainType,this.sortTwoID=e.Subtype,this.sortBtn=cc.find("Canvas/UIAddNode/JianZaoPre/Btnlist"),this.ZS_sortBtn=cc.find("Canvas/UIAddNode/JianZaoPre/DiBan/ScrollView2/node"),this.ZT_sortBtn=cc.find("Canvas/UIAddNode/JianZaoPre/DiBan/ScrollView3/node");for(var t=0;t<6;t++)this.AddScrollView[t]=cc.find("Canvas/UIAddNode/JianZaoPre/DiBan/ScrollView"+t),this.AddContent[t]=cc.find("Canvas/UIAddNode/JianZaoPre/DiBan/ScrollView"+t+"/view/content");this.initUI();var a=this.sortBtn.children.length,i=this,n=function(e){r.add_button_Listen(r.sortBtn.children[e].getChildByName("Btn"),r,function(){o.GameData.instance.ClickTimeCount<o.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+o.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(o.GameData.instance.ClickTimeCount=0,i.sortOneID!=e&&(l.UI_PlayMS.instance.playSound("button"),i.sortOneID=e,i.sortTwoID=0,i.initUI()))},0)},r=this;for(t=0;t<a;t++)n(t);var s=this.ZS_sortBtn.children.length,h=function(e){d.add_button_Listen(d.ZS_sortBtn.children[e],d,function(){o.GameData.instance.ClickTimeCount<o.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+o.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(o.GameData.instance.ClickTimeCount=0,i.sortTwoID!=e&&(l.UI_PlayMS.instance.playSound("button"),i.sortTwoID=e,i.initUI()))},0)},d=this;for(t=0;t<s;t++)h(t);var _=this.ZT_sortBtn.children.length,m=function(e){u.add_button_Listen(u.ZT_sortBtn.children[e],u,function(){o.GameData.instance.ClickTimeCount<o.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+o.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(o.GameData.instance.ClickTimeCount=0,i.sortTwoID!=e&&(l.UI_PlayMS.instance.playSound("button"),i.sortTwoID=e,i.initUI()))},0)},u=this;for(t=0;t<_;t++)m(t);this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),c.UI_Events.instance.onEvents("V_JianZaoPre_goOutCarDetails",this.goOutCarDetails,this),c.UI_Events.instance.onEvents("V_JianZaoPre_FreightCarDetails",this.FreightCarDetails,this),c.UI_Events.instance.onEvents("V_JianZaoPre_decorateDetails",this.decorateDetails,this),c.UI_Events.instance.onEvents("V_JianZaoPre_ThemeeDetails",this.ThemeeDetails,this),c.UI_Events.instance.onEvents("V_JianZaoPre_TablesChairsDetails",this.TablesChairsDetails,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,c.UI_Events.instance.offEvents("V_JianZaoPre_goOutCarDetails",this.goOutCarDetails,this),c.UI_Events.instance.offEvents("V_JianZaoPre_FreightCarDetails",this.FreightCarDetails,this),c.UI_Events.instance.offEvents("V_JianZaoPre_decorateDetails",this.decorateDetails,this),c.UI_Events.instance.offEvents("V_JianZaoPre_ThemeeDetails",this.ThemeeDetails,this),c.UI_Events.instance.offEvents("V_JianZaoPre_TablesChairsDetails",this.TablesChairsDetails,this)},t.prototype.initUI=function(){for(var e=this,t=this.sortBtn.children.length,a=0;a<t;a++)a==this.sortOneID?(this.sortBtn.children[a].getChildByName("icon").active=!1,this.sortBtn.children[a].getChildByName("TXT").color=new cc.Color(214,173,107),this.AddScrollView[a].active=!0):(this.sortBtn.children[a].getChildByName("icon").active=!0,this.sortBtn.children[a].getChildByName("TXT").color=new cc.Color(141,129,109),this.AddScrollView[a].active=!1);if(0==this.sortOneID)if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");var i=r.RoomConfig.goOutCar_config.length;this.FramingAddObject1("JianZaoChildren_0",this.AddContent[this.sortOneID],i,function(t,a){e.goOutCarDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else{i=this.AddContent[this.sortOneID].children.length;for(var n=0;n<i;n++)this.goOutCarDetails(n)}else if(1==this.sortOneID)if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");i=r.RoomConfig.freightStationCar_config.length;this.FramingAddObject1("JianZaoChildren_1",this.AddContent[this.sortOneID],i,function(t,a){e.FreightCarDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else for(i=this.AddContent[this.sortOneID].children.length,n=0;n<i;n++)this.FreightCarDetails(n);else if(2==this.sortOneID){var o=this.ZS_sortBtn.children.length;for(a=0;a<o;a++)a==this.sortTwoID?this.ZS_sortBtn.children[a].getChildByName("Guang").active=!0:this.ZS_sortBtn.children[a].getChildByName("Guang").active=!1;if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");i=r.RoomConfig.Decoration_config[this.sortTwoID].length;this.FramingAddObject1("JianZaoChildren_2",this.AddContent[this.sortOneID],i,function(t,a){e.decorateDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else for(i=this.AddContent[this.sortOneID].children.length,n=0;n<i;n++)this.decorateDetails(n)}else if(3==this.sortOneID){for(o=this.ZT_sortBtn.children.length,a=0;a<o;a++)a==this.sortTwoID?this.ZT_sortBtn.children[a].getChildByName("Guang").active=!0:this.ZT_sortBtn.children[a].getChildByName("Guang").active=!1;if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");i=r.RoomConfig.Theme_config[this.sortTwoID].length;this.FramingAddObject1("JianZaoChildren_3",this.AddContent[this.sortOneID],i,function(t,a){e.ThemeeDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else{i=this.AddContent[this.sortOneID].children.length;var s=r.RoomConfig.Theme_config[this.sortTwoID].length;for(n=0;n<i;n++)n<s?(this.AddContent[this.sortOneID].children[n].active=!0,this.ThemeeDetails(n)):this.AddContent[this.sortOneID].children[n].active=!1}}else if(4==this.sortOneID)if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");i=r.RoomConfig.messHallStationTable_config.length;this.FramingAddObject1("JianZaoChildren_4",this.AddContent[this.sortOneID],i,function(t,a){e.TablesChairsDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else for(i=this.AddContent[this.sortOneID].children.length,n=0;n<i;n++)this.TablesChairsDetails(n);else if(5==this.sortOneID)if(0==this.AddContent[this.sortOneID].children.length||void 0==this.AddContent[this.sortOneID].children||null==this.AddContent[this.sortOneID].children){c.UI_Events.instance.emitEvents("OpenMask");i=3;this.FramingAddObject1("JianZaoChildren_5",this.AddContent[this.sortOneID],i,function(t,a){e.PetDetails(t),1==a&&c.UI_Events.instance.emitEvents("CloseMask")})}else for(i=this.AddContent[this.sortOneID].children.length,n=0;n<i;n++)this.PetDetails(n)},t.prototype.goOutCarDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_0").init(e);else for(var t=this.AddContent[this.sortOneID].children.length,a=0;a<t;a++)this.AddContent[this.sortOneID].children[a].getComponent("V_JianZaoChildren_0").init(a)},t.prototype.FreightCarDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_1").init(e);else for(var t=this.AddContent[this.sortOneID].children.length,a=0;a<t;a++)this.AddContent[this.sortOneID].children[a].getComponent("V_JianZaoChildren_1").init(a)},t.prototype.decorateDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_2").init(this.sortTwoID,e);else for(var t=this.AddContent[this.sortOneID].children.length,a=0;a<t;a++)this.AddContent[this.sortOneID].children[a].getComponent("V_JianZaoChildren_2").init(this.sortTwoID,a)},t.prototype.ThemeeDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_3").init(this.sortTwoID,e);else for(var t=this.AddContent[this.sortOneID].children.length,a=r.RoomConfig.Theme_config[this.sortTwoID].length,i=0;i<t;i++)i<a&&this.AddContent[this.sortOneID].children[i].getComponent("V_JianZaoChildren_3").init(this.sortTwoID,i)},t.prototype.TablesChairsDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_4").init(e);else for(var t=this.AddContent[this.sortOneID].children.length,a=0;a<t;a++)this.AddContent[this.sortOneID].children[a].getComponent("V_JianZaoChildren_4").init(a)},t.prototype.PetDetails=function(e){if(-1!=e)this.AddContent[this.sortOneID].children[e].getComponent("V_JianZaoChildren_5").init(e);else for(var t=this.AddContent[this.sortOneID].children.length,a=0;a<t;a++)this.AddContent[this.sortOneID].children[a].getComponent("V_JianZaoChildren_5").init(a)},t=n([d],t)}(s.default));a.default=_,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_PlayMS":"UI_PlayMS"}],V_KitchenRoomPre:[function(e,t,a){"use strict";cc._RF.push(t,"d112flyqsNDfp35nmBbnbCY","V_KitchenRoomPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMA_DeliverGoods"),_=e("../../Model/M_instance/DMA_FreightStation"),m=e("../../Model/M_instance/DMA_KitchenRoom"),u=e("../../Model/M_instance/DMA_StorageRoom"),g=e("../../Model/network/GameSDK"),p=e("../currency/UI_Ctrl"),f=e("../currency/UI_Events"),C=e("../currency/UI_Manager"),y=e("../currency/UI_PlayMS"),D=cc._decorator,v=D.ccclass,M=(D.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CategoryList=null,t.MachiningList=null,t.Onekey=null,t._icon=null,t._orderNum=null,t._Num=null,t._Name=null,t._Describe=null,t._cycle_=null,t._materials=null,t._Processing=null,t.listNode=null,t._KitchenUpBtn=null,t._Kitchenlevel=null,t._ReceiveVideo=null,t.CategoryID=0,t.listSelect=0,t.sortArr=[],t}return i(t,e),t.prototype.CloseFunc=function(){y.UI_PlayMS.instance.playSound("button"),f.UI_Events.instance.emitEvents("CloseGamePrefab","KitchenRoomPre")},t.prototype.init=function(e){var t=this;this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.CategoryID=e.MainType,this.listSelect=e.Subtype,this.scheduleOnce(function(e){t.sortArr=Object.keys(s.GameData.instance.kitchen_sortItem),t.MachiningList=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Shang/list"),t.Onekey=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Shang/Onekey"),t._Name=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/name_"),t._icon=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/Kuang/icon"),t._orderNum=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/Ordernum_"),t._Num=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/num_"),t._cycle_=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/BtnProcessing/cycle_"),t._Describe=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/describe_"),t._materials=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/node"),t._Processing=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Zhong/BtnProcessing"),t.listNode=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/Xia/ScrollView/view/content"),t.CategoryList=cc.find("Canvas/UIAddNode/KitchenRoomPre/Btnlist"),t._KitchenUpBtn=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/ShuoMing/UpBtn"),t._Kitchenlevel=cc.find("Canvas/UIAddNode/KitchenRoomPre/DiBan/ShuoMing/Level_"),t.RefreshUI_left(),t.RefreshUI_upper(),t.RefreshUI_Medium(),t.RefreshUI_lower(),t.RefreshUI_upLevel();for(var a=t.sortArr.length,i=t,n=function(e){t.add_button_Listen(t.CategoryList.children[e].getChildByName("Btn"),t,function(){i.CategoryID!=e&&s.GameData.instance.MasterData.KitchenRoomLevel>=e?(y.UI_PlayMS.instance.playSound("button"),cc.log(e),i.CategoryID=e,i.listSelect=0,i.listNode.x=0,i.RefreshUI_left(),i.RefreshUI_upper(),i.RefreshUI_Medium(),i.RefreshUI_lower()):s.GameData.instance.MasterData.KitchenRoomLevel<e&&(y.UI_PlayMS.instance.playSound("button"),C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.unlockLevel",[""+(e+1)])))},0)},r=0;r<a;r++)n(r);var c=function(e){t.add_button_Listen(t.MachiningList.children[e].getChildByName("Btn"),t,function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),i.Func_MachiningList(i.CategoryID,e))},0)};for(r=0;r<10;r++)c(r);t.add_button_Listen(t._Processing,t,t.Func_Processing,0),t.add_button_Listen(t.Onekey.getChildByName("Onekey"),t,t.Func_Onekey,0),t.add_button_Listen(t.Onekey.getChildByName("OnekeyVideo"),t,t.Func_OnekeyVideo,0),t.add_button_Listen(t._KitchenUpBtn,t,t.Func_KitchenUp,0),t.add_button_Listen(t.node.getChildByName("CloseBtnMask"),t,t.CloseFunc,0),f.UI_Events.instance.onEvents("V_KitchenRoomPre_updatetime",t.updatetime_,t),f.UI_Events.instance.onEvents("V_KitchenRoomPre_RefreshUI_left",t.RefreshUI_left,t),f.UI_Events.instance.onEvents("V_KitchenRoomPre_RefreshUI_lower",t.RefreshUI_lower,t),f.UI_Events.instance.onEvents("V_KitchenRoomPre_RefreshUI_upLevel",t.RefreshUI_upLevel,t),t.listNode.x=0,1==s.GameData.instance.IsGuidePattern?t.scheduleOnce(function(){f.UI_Events.instance.emitEvents("Game_startGuide"),f.UI_Events.instance.emitEvents("CloseMask")},.1):f.UI_Events.instance.emitEvents("CloseMask")})},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,f.UI_Events.instance.offEvents("V_KitchenRoomPre_updatetime",this.updatetime_,this),f.UI_Events.instance.offEvents("V_KitchenRoomPre_RefreshUI_left",this.RefreshUI_left,this),f.UI_Events.instance.offEvents("V_KitchenRoomPre_RefreshUI_lower",this.RefreshUI_lower,this),f.UI_Events.instance.offEvents("V_KitchenRoomPre_RefreshUI_upLevel",this.RefreshUI_upLevel,this)},t.prototype.RefreshUI_left=function(){for(var e=this.sortArr.length,t=0;t<e;t++)s.GameData.instance.MasterData.KitchenRoomLevel>=t?(this.CategoryList.children[t].getChildByName("Suo").active=!1,this.CategoryID==t?(this.CategoryList.children[t].getChildByName("icon").active=!1,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(214,173,107)):(this.CategoryList.children[t].getChildByName("icon").active=!0,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(141,129,109))):(this.CategoryList.children[t].getChildByName("Suo").active=!0,this.CategoryList.children[t].getChildByName("icon").active=!0,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(141,129,109)),this.CategoryList.children[t].getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("itemsort."+this.sortArr[t])},t.prototype.RefreshUI_upper=function(){for(var e=m.DMA_KitchenRoom.instance.BuyData[this.CategoryID],t=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID].length,a=0;a<10;a++)if(a<e){if(a<t)switch(C.UI_Manager.instance.loadNewReleaseOld(this.MachiningList.children[a].getChildByName("icon"),"texture/goods/"+m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][a].id,null,!1),this.MachiningList.children[a].getChildByName("state0").active=!1,m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][a].state){case 0:this.MachiningList.children[a].getChildByName("state1").active=!0,this.MachiningList.children[a].getChildByName("state2").active=!1,this.MachiningList.children[a].getChildByName("state3").active=!1;break;case 1:this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!0,this.MachiningList.children[a].getChildByName("state3").active=!1,this.updatetime_({Category:this.CategoryID,index:a,state:!1});break;case 2:this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!1,this.MachiningList.children[a].getChildByName("state3").active=!0}else this.MachiningList.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.MachiningList.children[a].getChildByName("icon").tagid=null,this.MachiningList.children[a].getChildByName("state0").active=!0,this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!1,this.MachiningList.children[a].getChildByName("state3").active=!1;this.MachiningList.children[a].getChildByName("state4").active=!1}else this.MachiningList.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.MachiningList.children[a].getChildByName("icon").tagid=null,this.MachiningList.children[a].getChildByName("state0").active=!1,this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!1,this.MachiningList.children[a].getChildByName("state3").active=!1,this.MachiningList.children[a].getChildByName("state4").active=!0,this.MachiningList.children[a].getChildByName("state4").getChildByName("Btn").getChildByName("GemNum").getComponent(cc.Label).string=""+h.RoomConfig.KitchenRoomPosUnlock_config[a];this.Onekey.getChildByName("OnekeyVideo").active=c.VideoSwitch.instance.kitchenRoomOnekeyDouble},t.prototype.updatetime_=function(e){if(0==e.state&&e.Category==this.CategoryID){this.MachiningList.children[e.index].getChildByName("state2").getChildByName("shiJian").getChildByName("time_").getComponent(cc.Label).string=""+r.FuncCommon.formatTime2(m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][e.index].endTime-s.GameData.instance.TimeServer);var t=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][e.index].id,a=1e3*l.BasicsConfig.Item_config[t].quicken,i=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][e.index].endTime,n=Math.ceil((i-s.GameData.instance.TimeServer)/a);this.MachiningList.children[e.index].getChildByName("state2").getChildByName("Btn").getChildByName("GemNum").getComponent(cc.Label).string="x"+n}else this.RefreshUI_upper(),this.RefreshUI_Medium()},t.prototype.RefreshUI_Medium=function(){var e=s.GameData.instance.kitchen_sortItem[this.sortArr[this.CategoryID]][this.listSelect];C.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/goods/"+e,null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name"),this._Describe.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Describe");var t=d.DMA_DeliverGoods.instance.DeliverGoods_ViewItemNum(e)+_.DMA_FreightStation.instance.FreightStation_ViewItemNum(e);this._orderNum.getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.orderNeed")+""+t,this._Num.getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.Inventory")+""+u.DMA_StorageRoom.instance.ViewItemNumber(e),this._cycle_.getComponent(cc.Label).string=""+r.FuncCommon.formatTime2(1e3*l.BasicsConfig.Item_config[e].Cycle);for(var a=l.BasicsConfig.Item_config[e].material,i=Object.keys(a),n=i.length,c=0;c<4;c++)if(this._materials.children[c].getChildByName("Btn").targetOff(this),c<n){this._materials.children[c].active=!0,C.UI_Manager.instance.loadNewReleaseOld(this._materials.children[c].getChildByName("icon"),"texture/goods/"+i[c],null,!1);var h=u.DMA_StorageRoom.instance.ViewItemNumber(i[c]),m=a[i[c]],g=o.i18nMgr._getString("item."+i[c]+"._Name");this._materials.children[c].getChildByName("cycle_").getComponent(cc.RichText).string=h>=m?"<color=#6D5220>"+g+"</color><color=#99e06e><outline color= #233e10 width=2 >"+h+"/"+m+"</outline></color>":"<color=#6D5220>"+g+"</color><color=#EE7171><outline color= #442812 width=2 >"+h+"/"+m+"</outline></color>",this._materials.children[c].getChildByName("Btn").index=c,this._materials.children[c].getChildByName("Btn").ItemId=i[c],this._materials.children[c].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.MaterialDetails,this)}else this._materials.children[c].active=!1},t.prototype.RefreshUI_lower=function(){for(var e=s.GameData.instance.kitchen_sortItem[this.sortArr[this.CategoryID]],t=this.listNode.children.length,a=e.length,i=Math.max(t,a),n=0;n<i;n++)n<a?(void 0!=this.listNode.children[n]&&null!=this.listNode.children[n]||this.listNode.addChild(cc.instantiate(this.listNode.children[0])),this.listNode.children[n].active=!0,this.listNode.children[n].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this),this.listNode.children[n].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedTips,this),this.listNode.children[n].getChildByName("Btn").tagid=n,s.GameData.instance.MasterData.KitchenRoomLevel>=l.BasicsConfig.Item_config[e[n]].machining?(C.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[n].getChildByName("icon"),"texture/goods/"+e[n],null,!1),this.listNode.children[n].getChildByName("Suo").active=!1,this.listNode.children[n].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this)):(C.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[n].getChildByName("Suo").getChildByName("icon"),"texture/goods/"+e[n],null,!1),this.listNode.children[n].getChildByName("Suo").active=!0,this.listNode.children[n].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedTips,this)),this.listNode.children[n].getChildByName("Guang").active=n==this.listSelect,this.listNode.children[n].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[n]+"._Name")):void 0==this.listNode.children[n]||null==this.listNode.children[n]||(this.listNode.children[n].active=!1)},t.prototype.RefreshUI_upLevel=function(){this._Kitchenlevel.getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.Level",[""+(s.GameData.instance.MasterData.KitchenRoomLevel+1)])},t.prototype.SelectedEvent=function(e){if(this.listSelect!=e.target.tagid){y.UI_PlayMS.instance.playSound("button");var t=s.GameData.instance.kitchen_sortItem[this.sortArr[this.CategoryID]];this.listSelect=e.target.tagid;for(var a=t.length,i=0;i<a;i++)this.listNode.children[i].getChildByName("Guang").active=i==this.listSelect;this.RefreshUI_Medium()}},t.prototype.SelectedTips=function(e){y.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=s.GameData.instance.kitchen_sortItem[this.sortArr[this.CategoryID]];C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.unlockLevel",[""+(l.BasicsConfig.Item_config[a[t]].machining+1)]))},t.prototype.MaterialDetails=function(e){y.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.ItemId,i=this._materials.children[t],n=cc.find("Canvas/UIAddNode/GetGoodsPre");n.active=!0;var o=i.parent.convertToWorldSpaceAR(i.getPosition()),r=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(o);n.getChildByName("DiBan").setPosition(r);var s=cc.find("Canvas/UIAddNode").children.length+1;n.setSiblingIndex(s),n.getComponent("V_GetGoodsPre").init(a,"Kitchen")},t.prototype.Func_Processing=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button");var e=s.GameData.instance.kitchen_sortItem[this.sortArr[this.CategoryID]];switch(m.DMA_KitchenRoom.instance.StartMaking(this.CategoryID,e[this.listSelect])){case 0:this.RefreshUI_upper(),this.RefreshUI_Medium();break;case 1:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.PosTips"));break;case 2:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("machiningMaterial_No"))}}},t.prototype.Func_MachiningList=function(e,t){y.UI_PlayMS.instance.playSound("button");var a=m.DMA_KitchenRoom.instance.BuyData[this.CategoryID],i=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID].length;if(t<a)if(t<i)switch(m.DMA_KitchenRoom.instance.MachiningData[e][t].state){case 0:cc.log(e,t,"\u7b49\u5f85\u4e2d \u5ffd\u7565\u4e0d\u505a\u5904\u7406");break;case 1:switch(m.DMA_KitchenRoom.instance.FastMaking(e,t)){case 0:this.RefreshUI_upper();break;case 1:C.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&f.UI_Events.instance.emitEvents("openRecharge_Gem")})}break;case 2:var n=m.DMA_KitchenRoom.instance.MachiningData[e][t].id,r=m.DMA_KitchenRoom.instance.MachiningData[e][t].num;switch(m.DMA_KitchenRoom.instance.colheitaMaking(e,t)){case 0:y.UI_PlayMS.instance.playSound("confirm"),C.UI_Manager.instance.AddFloatSprite(.5,this.MachiningList.children[t].getChildByName("icon"),cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+n,r),this.RefreshUI_upper(),this.RefreshUI_Medium();break;case 1:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}}else cc.log(e,t,"\u7a7a\u4f4d \u5ffd\u7565\u4e0d\u505a\u5904\u7406");else switch(m.DMA_KitchenRoom.instance.BuyKitchenRoom(e,t)){case 0:this.RefreshUI_upper();break;case 4:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.OrderBuy"));break;case 5:C.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&f.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.Func_Onekey=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0;var e=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID].length;if(0!=e){y.UI_PlayMS.instance.playSound("button");for(var t=[],a=[],i=0;i<e;i++)(2==m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][i].state||s.GameData.instance.TimeServer>=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][i].endTime)&&(t.push(m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][i].id),a.push(m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID][i].num));switch(m.DMA_KitchenRoom.instance.OneClickColheitaMaking(this.CategoryID,!1,1)){case 0:this.RefreshUI_upper(),this.RefreshUI_Medium();var n=a.length;y.UI_PlayMS.instance.playSound("confirm");for(var r=0;r<n;r++)C.UI_Manager.instance.AddFloatSprite(.5,this.MachiningList.children[r].getChildByName("icon"),cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+t[r],a[r]);break;case 1:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"));break;case 2:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.Incomplete"))}}}},t.prototype.Func_OnekeyVideo=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else if(s.GameData.instance.ClickTimeCount=0,0!=m.DMA_KitchenRoom.instance.MachiningData[this.CategoryID].length){y.UI_PlayMS.instance.playSound("button");var e=m.DMA_KitchenRoom.instance.VideoCollectCapacity(this.CategoryID);if(0==e){var t=this;g.default.postEvent2("ads_start_position",13),g.default.FcunVideoTsOc(function(e){switch(e){case 0:C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:for(var a=[],i=[],n=m.DMA_KitchenRoom.instance.MachiningData[t.CategoryID].length,r=0;r<n;r++)(2==m.DMA_KitchenRoom.instance.MachiningData[t.CategoryID][r].state||s.GameData.instance.TimeServer>=m.DMA_KitchenRoom.instance.MachiningData[t.CategoryID][r].endTime)&&(a.push(m.DMA_KitchenRoom.instance.MachiningData[t.CategoryID][r].id),i.push(m.DMA_KitchenRoom.instance.MachiningData[t.CategoryID][r].num));m.DMA_KitchenRoom.instance.OneClickColheitaMaking(t.CategoryID,!0,2),t.RefreshUI_upper(),t.RefreshUI_Medium();var c=i.length;y.UI_PlayMS.instance.playSound("confirm");for(var l=0;l<c;l++)C.UI_Manager.instance.AddFloatSprite(.5,t.MachiningList.children[l].getChildByName("icon"),cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+a[l],2*i[l]);g.default.postEvent2("ads_finish_position",13);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}else 1==e?C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Kitchen.Incomplete")):2==e&&C.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},t.prototype.Func_KitchenUp=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,y.UI_PlayMS.instance.playSound("button"),f.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:0,Subtype:-1}))},t=n([v],t)}(p.default));a.default=M,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_DeliverGoods":"DMA_DeliverGoods","../../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../../Model/M_instance/DMA_KitchenRoom":"DMA_KitchenRoom","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_LaJiPre:[function(e,t,a){"use strict";cc._RF.push(t,"c1e79y2vWdIva1+gXAOnXnl","V_LaJiPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/GameData"),s=e("../Model/M_instance/DMA_RarbageStation"),c=e("./currency/UI_Manager"),l=e("./currency/UI_ObjectPool"),h=e("./currency/UI_PlayMS"),d=cc._decorator,_=d.ccclass,m=d.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Icon=null,t.updateCount=0,t.itemId=null,t}return i(t,e),t.prototype.update=function(e){this.updateCount+=e,this.updateCount>90&&l.UI_ObjectPool.instance.Killed_CS_Enemy("LaJiPre",this.node)},t.prototype.init=function(e){this.updateCount=0,this.itemId=e,c.UI_Manager.instance.loadNewReleaseOld(this.Icon,"texture/goods/%s",this.itemId,!1)},t.prototype.Btn_PickingGarbage=function(){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(r.GameData.instance.ClickTimeCount=0,h.UI_PlayMS.instance.playSound("button"),s.DMA_RarbageStation.instance.PickingGarbage(this.itemId)){case 0:h.UI_PlayMS.instance.playSound("confirm"),c.UI_Manager.instance.AddFloatSprite(.3,this.node,cc.find("Canvas/UIMap/LaJiZhan/Btn"),"texture/goods/"+this.itemId,1),l.UI_ObjectPool.instance.Killed_CS_Enemy("LaJiPre",this.node);break;case 1:c.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("rarbageStation.Tips2"))}},n([m({type:cc.Node,displayName:"Icon",tooltip:""})],t.prototype,"Icon",void 0),t=n([_],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../Model/M_Basics/GameData":"GameData","../Model/M_instance/DMA_RarbageStation":"DMA_RarbageStation","../i18n/i18nMgr":"i18nMgr","./currency/UI_Manager":"UI_Manager","./currency/UI_ObjectPool":"UI_ObjectPool","./currency/UI_PlayMS":"UI_PlayMS"}],V_MainRoomPre:[function(e,t,a){"use strict";cc._RF.push(t,"2557e7OB/dOAoVCMD0ejosS","V_MainRoomPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_MainRoom"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../currency/UI_Ctrl"),_=e("../currency/UI_Events"),m=e("../currency/UI_Manager"),u=e("../currency/UI_PlayMS"),g=cc._decorator,p=g.ccclass,f=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._icon=null,t._Level=null,t._MaxLevel=null,t._unlockNode=null,t._material=null,t._upBtn=null,t}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this._icon=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/shang/icon"),this._Level=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/shang/Level"),this._MaxLevel=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/MaxLevel"),this._unlockNode=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/zhong/node"),this._material=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/xia/node"),this._upBtn=cc.find("Canvas/UIAddNode/MainRoomPre/DiBan/UpBtn"),this.UIInitialize(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this._upBtn,this,this.FunUpMainRoom,0),1==s.GameData.instance.IsGuidePattern?this.scheduleOnce(function(){_.UI_Events.instance.emitEvents("Game_startGuide"),_.UI_Events.instance.emitEvents("CloseMask")},.1):_.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){u.UI_PlayMS.instance.playSound("button"),_.UI_Events.instance.emitEvents("CloseGamePrefab","MainRoomPre")},t.prototype.UIInitialize=function(){if(this._Level.getComponent(cc.Label).string="Lv."+(s.GameData.instance.MasterData.MainRoomLevel+1),m.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_ZhuFang"+Math.floor(s.GameData.instance.MasterData.MainRoomLevel/3),null,!1),0==l.DMA_MainRoom.instance.isMaxMainRoom()){this.node.getChildByName("DiBan").height=1700,this._unlockNode.parent.active=!0,this._material.parent.active=!0,this._upBtn.active=!0,this._MaxLevel.active=!1,this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.MainRoom_config[s.GameData.instance.MasterData.MainRoomLevel+1].Price);var e=c.RoomConfig.MainRoom_config[s.GameData.instance.MasterData.MainRoomLevel+1].facility,t=0;for(var a in e){if(-1==e[a])this._unlockNode.children[t].active=!1;else{0,this._unlockNode.children[t].active=!0,"farming"==a||"farm"==a||"orchard"==a||"fish"==a||"flowers"==a?this._unlockNode.children[t].getChildByName("TXT").getComponent(cc.Label).string="farm"==a?o.i18nMgr._getString("MainRoom.farm"+e[a]):o.i18nMgr._getString("MainRoom."+a,[""+e[a]]):"freightStation"!=a&&"transitStation"!=a&&"kitchen"!=a&&"canteen"!=a&&"deliverGoods"!=a&&"rarbageStation"!=a&&"messHallStation"!=a||(this._unlockNode.children[t].getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("MainRoom."+a,[""+(e[a]+1)]));var i="";switch(a){case"farming":i="texture/icon/icon_TianDi";break;case"farm":i="texture/icon/icon_YangZhi_"+(e[a]-1)+"_0";break;case"orchard":i="texture/icon/icon_GuoYuan";break;case"fish":i="texture/icon/icon_ShuiChan_0";break;case"flowers":i="texture/icon/icon_HuaYuan";break;case"freightStation":i="texture/icon/icon_HuoYunZhan"+Math.floor(e[a]/2);break;case"transitStation":i="texture/icon/icon_GongJiaoZhan"+Math.floor(e[a]/2);break;case"kitchen":i="texture/icon/icon_ChuFang"+Math.floor(e[a]/2);break;case"canteen":i="texture/icon/icon_XiaoMaiBu"+Math.floor(e[a]/2);break;case"deliverGoods":i="texture/icon/icon_WuLiuZhongXin"+Math.floor(e[a]/3);break;case"rarbageStation":i="texture/icon/icon_LaJiZhan"+Math.floor(e[a]/2);break;case"messHallStation":i="texture/icon/icon_CanGuan"+Math.floor(e[a]/2)}m.UI_Manager.instance.loadNewReleaseOld(this._unlockNode.children[t].getChildByName("icon"),i,null,!1)}t++}var n=c.RoomConfig.MainRoom_config[s.GameData.instance.MasterData.MainRoomLevel+1].material,d=0;for(var a in n){var _=h.DMA_StorageRoom.instance.ViewItemNumber(a),u=o.i18nMgr._getString("item."+a+"._Name");_>=n[a]?this._material.children[d].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+u+" </color><color=#99e06e><outline color= #233e10 width=2 >x"+n[a]+"</outline></color>":this._material.children[d].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+u+" </color><color=#EE7171><outline color= #442812 width=2 >x"+n[a]+"</outline></color>",m.UI_Manager.instance.loadNewReleaseOld(this._material.children[d].getChildByName("icon"),"texture/goods/"+a,null,!1),d++}}else this.node.getChildByName("DiBan").height=1e3,this._unlockNode.parent.active=!1,this._material.parent.active=!1,this._upBtn.active=!1,this._MaxLevel.active=!0},t.prototype.FunUpMainRoom=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button"),l.DMA_MainRoom.instance.UpMainRoom()){case 0:_.UI_Events.instance.emitEvents("Game_BuildingRefresh_ZhuFang"),_.UI_Events.instance.emitEvents("CloseGamePrefab","MainRoomPre");break;case 1:m.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&_.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 2:m.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&_.UI_Events.instance.emitEvents("openRecharge_material")})}},t=n([p],t)}(d.default));a.default=f,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_MainRoom":"DMA_MainRoom","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_MessHallStationPre:[function(e,t,a){"use strict";cc._RF.push(t,"96dd5x9OqlJ4rrATRechly9","V_MessHallStationPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_config/RoomConfig"),d=e("../../Model/M_instance/DMA_MessHallStation"),_=e("../../Model/M_instance/DMA_StorageRoom"),m=e("../../Model/network/GameSDK"),u=e("../currency/UI_Ctrl"),g=e("../currency/UI_Events"),p=e("../currency/UI_Manager"),f=e("../currency/UI_PlayMS"),C=cc._decorator,y=C.ccclass,D=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MachiningList=null,t.CategoryList=null,t.listNode=null,t._Name=null,t._Describe=null,t._icon=null,t._cycle_=null,t._Num=null,t._materials=null,t._Processing=null,t.MessHalllevel=null,t.CategoryID=0,t.listSelect=0,t}return i(t,e),t.prototype.CloseFunc=function(){f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("CloseGamePrefab","MessHallStationPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.CategoryID=0,this.listSelect=0,this.MachiningList=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Shang/list"),this.CategoryList=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Xia/Btnlist"),this.listNode=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Xia/ScrollView/view/content"),this._Name=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/name_"),this._Describe=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/describe_"),this._icon=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/Kuang/icon"),this._cycle_=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/cycle_"),this._Num=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/num_"),this._materials=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/node"),this._Processing=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/Zhong/BtnProcessing"),this.MessHalllevel=cc.find("Canvas/UIAddNode/MessHallStationPre/DiBan/ShuoMing"),this.RefreshUI_upper(),this.RefreshUI_Medium(),this.RefreshUI_lower(),this.RefreshUI_upLevel();for(var t=this,a=function(e){i.add_button_Listen(i.CategoryList.children[e],i,function(){t.CategoryID!=e&&(f.UI_PlayMS.instance.playSound("button"),t.CategoryID=e,t.listSelect=0,t.RefreshUI_Medium(),t.RefreshUI_lower())},0)},i=this,n=0;n<4;n++)a(n);this.add_button_Listen(this._Processing,this,this.Func_Processing,0),this.add_button_Listen(this.MessHalllevel.getChildByName("node").getChildByName("UpBtn"),this,this.Func_UP,0),this.add_button_Listen(this.MessHalllevel.getChildByName("node").getChildByName("harvest"),this,this.Func_Receive,0),this.add_button_Listen(this.MessHalllevel.getChildByName("node").getChildByName("harvestVideo"),this,this.Func_ReceiveVideo,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("closeBtn"),this,this.CloseFunc,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),g.UI_Events.instance.onEvents("V_MessHallStationPre_updatetime",this.updateMachiningList,this),g.UI_Events.instance.onEvents("V_MessHallStationPre_RefreshUI_Medium",this.RefreshUI_Medium,this),g.UI_Events.instance.onEvents("V_MessHallStationPre_RefreshUI_lower",this.RefreshUI_lower,this),g.UI_Events.instance.onEvents("V_MessHallStationPre_RefreshUI_upLevel",this.RefreshUI_upLevel,this),g.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,g.UI_Events.instance.offEvents("V_MessHallStationPre_updatetime",this.updateMachiningList,this),g.UI_Events.instance.offEvents("V_MessHallStationPre_RefreshUI_Medium",this.RefreshUI_Medium,this),g.UI_Events.instance.offEvents("V_MessHallStationPre_RefreshUI_lower",this.RefreshUI_lower,this),g.UI_Events.instance.offEvents("V_MessHallStationPre_RefreshUI_upLevel",this.RefreshUI_upLevel,this)},t.prototype.RefreshUI_upper=function(){for(var e=d.DMA_MessHallStation.instance.messHall_machiningData.data.length,t=d.DMA_MessHallStation.instance.messHall_machiningData.ownNum,a=0;a<10;a++)void 0!=this.MachiningList.children[a]&&null!=this.MachiningList.children[a]||this.MachiningList.addChild(cc.instantiate(this.MachiningList.children[0])),this.MachiningList.children[a].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.ProcessingListClick,this),a<t?a<e?(p.UI_Manager.instance.loadNewReleaseOld(this.MachiningList.children[a].getChildByName("icon"),"texture/goods/"+d.DMA_MessHallStation.instance.messHall_machiningData.data[a].id,null,!1),this.MachiningList.children[a].getChildByName("state0").active=!1,this.MachiningList.children[a].getChildByName("state1").active=!0,this.MachiningList.children[a].getChildByName("state2").active=!1,this.MachiningList.children[a].getChildByName("state1").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.surplus",[""+d.DMA_MessHallStation.instance.messHall_machiningData.data[a].endTime.length]),this.MachiningList.children[a].getChildByName("state1").getChildByName("Btn").getChildByName("GemNum").getComponent(cc.Label).string=""+d.DMA_MessHallStation.instance.messHall_machiningData.data[a].endTime.length,this.MachiningList.children[a].getChildByName("Btn").tagid=a,this.MachiningList.children[a].getChildByName("Btn").state=0,this.MachiningList.children[a].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.ProcessingListClick,this),this.updateMachiningList(a)):(this.MachiningList.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.MachiningList.children[a].getChildByName("icon").tagid=null,this.MachiningList.children[a].getChildByName("state0").active=!0,this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!1):(this.MachiningList.children[a].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.MachiningList.children[a].getChildByName("icon").tagid=null,this.MachiningList.children[a].getChildByName("state0").active=!1,this.MachiningList.children[a].getChildByName("state1").active=!1,this.MachiningList.children[a].getChildByName("state2").active=!0,this.MachiningList.children[a].getChildByName("state2").getChildByName("Btn").getChildByName("GemNum").getComponent(cc.Label).string="x"+h.RoomConfig.messHallStation_PosUnlock_config[a],this.MachiningList.children[a].getChildByName("Btn").tagid=a,this.MachiningList.children[a].getChildByName("Btn").state=1,this.MachiningList.children[a].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.ProcessingListClick,this))},t.prototype.updateMachiningList=function(e){if(-1==e)this.RefreshUI_upper(),this.RefreshUI_lower();else{var t=d.DMA_MessHallStation.instance.messHall_machiningData.data[e].endTime[0],a=1e3*d.DMA_MessHallStation.instance.messHall_machiningData.data[e].cycle[0],i=s.GameData.instance.TimeServer;t>i&&(this.MachiningList.children[e].getChildByName("state1").getChildByName("nodeMask").getChildByName("ProgressBar").getComponent(cc.ProgressBar).progress=(t-i)/a)}},t.prototype.RefreshUI_Medium=function(){var e=s.GameData.instance.dishes_sortItem[this.CategoryID][this.listSelect];p.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/goods/"+e,null,!1),this._Name.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name"),this._Describe.getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Describe"),this._Num.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.output",["3"]),this._cycle_.getComponent(cc.Label).string=""+r.FuncCommon.formatTime2(1e3*h.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].Cycle);for(var t=l.BasicsConfig.dishes_config[e].material,a=Object.keys(t),i=a.length,n=0;n<5;n++)if(this._materials.children[n].off(cc.Node.EventType.TOUCH_START,this.MaterialDetails,this),n<i){this._materials.children[n].active=!0,p.UI_Manager.instance.loadNewReleaseOld(this._materials.children[n].getChildByName("icon"),"texture/goods/"+a[n],null,!1);var c=_.DMA_StorageRoom.instance.ViewItemNumber(a[n]),d=t[a[n]],m=o.i18nMgr._getString("item."+a[n]+"._Name");this._materials.children[n].getChildByName("cycle_").getComponent(cc.RichText).string=c>=d?"<color=#6D5220>"+m+"</color><color=#99e06e><outline color= #233e10 width=2 >"+c+"/"+d+"</outline></color>":"<color=#6D5220>"+m+"</color><color=#EE7171><outline color= #442812 width=2 >"+c+"/"+d+"</outline></color>",this._materials.children[n].index=n,this._materials.children[n].ItemId=a[n],this._materials.children[n].on(cc.Node.EventType.TOUCH_START,this.MaterialDetails,this)}else this._materials.children[n].active=!1},t.prototype.RefreshUI_lower=function(){for(var e=0;e<4;e++)e==this.CategoryID?(this.CategoryList.children[e].getChildByName("icon").active=!0,this.CategoryList.children[e].getChildByName("TXT").color=new cc.Color(244,236,215)):(this.CategoryList.children[e].getChildByName("icon").active=!1,this.CategoryList.children[e].getChildByName("TXT").color=new cc.Color(199,193,162));var t=s.GameData.instance.dishes_sortItem[this.CategoryID],a=this.listNode.children.length,i=t.length,n=Math.max(a,i);for(e=0;e<n;e++)e<i?(void 0!=this.listNode.children[e]&&null!=this.listNode.children[e]||this.listNode.addChild(cc.instantiate(this.listNode.children[0])),this.listNode.children[e].active=!0,this.listNode.children[e].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this),this.listNode.children[e].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedTips,this),this.listNode.children[e].getChildByName("Btn").tagid=e,this.listNode.children[e].getChildByName("Guang").active=e==this.listSelect,s.GameData.instance.MasterData.messHallStationLevel>=l.BasicsConfig.dishes_config[t[e]].unlock?(this.listNode.children[e].getChildByName("num_").getComponent(cc.Label).string="x"+d.DMA_MessHallStation.instance.messHall_itemsNum[t[e]],this.listNode.children[e].getChildByName("Suo").active=!1,p.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[e].getChildByName("icon"),"texture/goods/"+t[e],null,!1),this.listNode.children[e].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this)):(this.listNode.children[e].getChildByName("Suo").active=!0,p.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[e].getChildByName("Suo").getChildByName("icon"),"texture/goods/"+t[e],null,!1),this.listNode.children[e].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedTips,this))):void 0==this.listNode.children[e]||null==this.listNode.children[e]||(this.listNode.children[e].active=!1)},t.prototype.RefreshUI_upLevel=function(){var e=s.GameData.instance.MasterData.messHallStationLevel+1;e>=h.RoomConfig.messHallStation_config.length?this.MessHalllevel.getChildByName("node").getChildByName("UpBtn").active=!1:(this.MessHalllevel.getChildByName("node").getChildByName("UpBtn").active=!0,this.MessHalllevel.getChildByName("node").getChildByName("UpBtn").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(h.RoomConfig.messHallStation_config[e].Price)),this.MessHalllevel.getChildByName("node").getChildByName("harvest").getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(d.DMA_MessHallStation.instance.messHall_machiningData.profit),this.MessHalllevel.getChildByName("node").getChildByName("harvestVideo").active=c.VideoSwitch.instance.MessHallDouble,this.MessHalllevel.getChildByName("Level_").getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.Level",[""+e])},t.prototype.MaterialDetails=function(e){var t=e.target.index,a=this._materials.children[t],i=e.target.ItemId,n=cc.find("Canvas/UIAddNode/GetGoodsPre");n.active=!0;var o=a.parent.convertToWorldSpaceAR(a.getPosition()),r=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(o);n.getChildByName("DiBan").setPosition(r);var s=cc.find("Canvas/UIAddNode").children.length+1;n.setSiblingIndex(s),n.getComponent("V_GetGoodsPre").init(i,"FreightStation")},t.prototype.SelectedEvent=function(e){if(this.listSelect!=e.target.tagid){f.UI_PlayMS.instance.playSound("button"),this.listSelect=e.target.tagid;for(var t=s.GameData.instance.dishes_sortItem[this.CategoryID].length,a=0;a<t;a++)this.listNode.children[a].getChildByName("Guang").active=a==this.listSelect;this.RefreshUI_Medium()}},t.prototype.SelectedTips=function(e){f.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=s.GameData.instance.dishes_sortItem[this.CategoryID];p.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MessHallStatio.unlockLevel",[""+(l.BasicsConfig.dishes_config[a[t]].unlock+1)]))},t.prototype.Func_Processing=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),d.DMA_MessHallStation.instance.StartMachining(s.GameData.instance.dishes_sortItem[this.CategoryID][this.listSelect])){case 0:this.RefreshUI_upper(),this.RefreshUI_Medium();break;case 1:p.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("machiningMaterial_No"))}},t.prototype.ProcessingListClick=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=e.target.state;if(cc.log(t,a),0==a)switch(d.DMA_MessHallStation.instance.quickenMachining(t,1)){case 0:this.RefreshUI_upper(),this.RefreshUI_lower();break;case 1:p.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&g.UI_Events.instance.emitEvents("openRecharge_Gem")})}else if(1==a)switch(d.DMA_MessHallStation.instance.BuyMachining(t)){case 0:this.RefreshUI_upper();break;case 1:break;case 2:p.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("MessHallStatio.OrderBuy"));break;case 3:p.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&g.UI_Events.instance.emitEvents("openRecharge_Gem")})}}},t.prototype.Func_UP=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button"),g.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:4,Subtype:-1}))},t.prototype.Func_Receive=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var e=d.DMA_MessHallStation.instance.messHall_machiningData.profit;0==d.DMA_MessHallStation.instance.receiveMessHallIncome(2)&&(this.RefreshUI_upLevel(),f.UI_PlayMS.instance.playSound("confirm"),p.UI_Manager.instance.AddFloatSprite(1,this.MessHalllevel.getChildByName("node").getChildByName("harvest"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",e))}},t.prototype.Func_ReceiveVideo=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,f.UI_PlayMS.instance.playSound("button");var e=this;m.default.postEvent2("ads_start_position",17),m.default.FcunVideoTsOc(function(t){switch(t){case 0:p.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var a=d.DMA_MessHallStation.instance.messHall_machiningData.profit;0==d.DMA_MessHallStation.instance.receiveMessHallIncome(2)&&(e.RefreshUI_upLevel(),f.UI_PlayMS.instance.playSound("confirm"),p.UI_Manager.instance.AddFloatSprite(1,e.MessHalllevel.getChildByName("node").getChildByName("harvestVideo"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*a)),m.default.postEvent2("ads_finish_position",17);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([y],t)}(u.default));a.default=D,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_MessHallStation":"DMA_MessHallStation","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_QianDaoPre:[function(e,t,a){"use strict";cc._RF.push(t,"40a35LZO5ZHSaNHFaRw90Jk","V_QianDaoPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_config/AuxiliaryConfig"),l=e("../../Model/M_instance/DMD_7DaySignIn"),h=e("../../Model/network/GameSDK"),d=e("../currency/UI_Ctrl"),_=e("../currency/UI_Events"),m=e("../currency/UI_Manager"),u=e("../currency/UI_PlayMS"),g=cc._decorator,p=g.ccclass,f=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t}return i(t,e),t.prototype.CloseFunc=function(){u.UI_PlayMS.instance.playSound("button"),_.UI_Events.instance.emitEvents("CloseGamePrefab","QianDaoPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.content=cc.find("Canvas/UIAddNode/QianDaoPre/DiBan/content"),this.InitializeUI(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),_.UI_Events.instance.emitEvents("CloseMask")},t.prototype.InitializeUI=function(){for(var e=0;e<7;e++)this.content.children[e].getChildByName("node").getChildByName("QianDaoBtn").off(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.content.children[e].getChildByName("node").getChildByName("QianDaoBtnVideo").off(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.content.children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("SignIn.Day",[""+(e+1)]),e<6?this.content.children[e].getChildByName("Num1_").getComponent(cc.Label).string="x"+c.AuxiliaryConfig.config7DaySignIn[e].gem:(this.content.children[e].getChildByName("Num1_").getComponent(cc.Label).string="x"+c.AuxiliaryConfig.config7DaySignIn[e].gem,this.content.children[e].getChildByName("Num2_").getComponent(cc.Label).string="x"+3*c.AuxiliaryConfig.config7DaySignIn[e].material.material_DaoCao),e<l.DMD_7DaySignIn.instance.SignIn7Data.day?1==l.DMD_7DaySignIn.instance.SignIn7Data.getAward[e]?(this.content.children[e].getChildByName("Kuang").active=!0,this.content.children[e].getChildByName("DuiHao").active=!0,this.content.children[e].getChildByName("node").active=!1,this.content.children[e].getChildByName("TXT_").active=!1):(this.content.children[e].getChildByName("Kuang").active=!1,this.content.children[e].getChildByName("DuiHao").active=!1,this.content.children[e].getChildByName("node").active=!0,this.content.children[e].getChildByName("TXT_").active=!1,this.content.children[e].getChildByName("node").getChildByName("QianDaoBtn").on(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.content.children[e].getChildByName("node").getChildByName("QianDaoBtnVideo").on(cc.Node.EventType.TOUCH_START,this.Func_Receive,this),this.content.children[e].getChildByName("node").getChildByName("QianDaoBtn").index=e,this.content.children[e].getChildByName("node").getChildByName("QianDaoBtnVideo").index=e,this.content.children[e].getChildByName("node").getChildByName("QianDaoBtn").multiple=1,this.content.children[e].getChildByName("node").getChildByName("QianDaoBtnVideo").multiple=2,this.content.children[e].getChildByName("node").getChildByName("QianDaoBtnVideo").active=s.VideoSwitch.instance.SignInDouble):(this.content.children[e].getChildByName("Kuang").active=!0,this.content.children[e].getChildByName("DuiHao").active=!1,this.content.children[e].getChildByName("node").active=!1,this.content.children[e].getChildByName("TXT_").active=!0)},t.prototype.Func_Receive=function(e){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{r.GameData.instance.ClickTimeCount=0,u.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.multiple;if(1==a)l.DMD_7DaySignIn.instance.ReceiveRewards(t,1),this.InitializeUI(),u.UI_PlayMS.instance.playSound("confirm"),m.UI_Manager.instance.AddFloatSprite(1,this.content.children[t].getChildByName("icon"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",c.AuxiliaryConfig.config7DaySignIn[t].gem),6==t&&(m.UI_Manager.instance.AddFloatSprite(.5,this.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",c.AuxiliaryConfig.config7DaySignIn[t].material.material_MuCai),m.UI_Manager.instance.AddFloatSprite(.5,this.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",c.AuxiliaryConfig.config7DaySignIn[t].material.material_DaoCao),m.UI_Manager.instance.AddFloatSprite(.5,this.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",c.AuxiliaryConfig.config7DaySignIn[t].material.material_ShaZi));else if(2==a){var i=this;h.default.postEvent2("ads_start_position",25),h.default.FcunVideoTsOc(function(e){switch(e){case 0:m.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:l.DMD_7DaySignIn.instance.ReceiveRewards(t,2),i.InitializeUI(),u.UI_PlayMS.instance.playSound("confirm"),m.UI_Manager.instance.AddFloatSprite(1,i.content.children[t].getChildByName("icon"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*c.AuxiliaryConfig.config7DaySignIn[t].gem),6==t&&(m.UI_Manager.instance.AddFloatSprite(.5,i.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",2*c.AuxiliaryConfig.config7DaySignIn[t].material.material_MuCai),m.UI_Manager.instance.AddFloatSprite(.5,i.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",2*c.AuxiliaryConfig.config7DaySignIn[t].material.material_DaoCao),m.UI_Manager.instance.AddFloatSprite(.5,i.content.children[t].getChildByName("icon1"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",2*c.AuxiliaryConfig.config7DaySignIn[t].material.material_ShaZi)),h.default.postEvent2("ads_finish_position",25);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},t=n([p],t)}(d.default));a.default=f,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/AuxiliaryConfig":"AuxiliaryConfig","../../Model/M_instance/DMD_7DaySignIn":"DMD_7DaySignIn","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_RarbageStationPre:[function(e,t,a){"use strict";cc._RF.push(t,"fcc74C4cIhNvbMvtOWT7yp4","V_RarbageStationPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/BasicsConfig"),h=e("../../Model/M_instance/DMA_RarbageStation"),d=e("../../Model/network/GameSDK"),_=e("../currency/UI_Ctrl"),m=e("../currency/UI_Events"),u=e("../currency/UI_Manager"),g=e("../currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TrashCanList=null,t.OrderList=null,t.RarbageList=null,t.UnlockList=null,t._Level=null,t._upBtn=null,t.selectPos=-1,t}return i(t,e),t.prototype.CloseFunc=function(){g.UI_PlayMS.instance.playSound("button"),m.UI_Events.instance.emitEvents("CloseGamePrefab","RarbageStationPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.TrashCanList=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/shang"),this.OrderList=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/zhong"),this.RarbageList=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/Xia/Out/xiao"),this.UnlockList=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/Xia/Out/Da"),this._Level=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/ShuoMing/Level_"),this._upBtn=cc.find("Canvas/UIAddNode/RarbageStationPre/DiBan/ShuoMing/UpBtn"),this.RefreshTrashCanList(),this.RefreshOrderList(),this.RefreshRarbageList(),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("CloseBtn"),this,this.CloseFunc,0),this.add_button_Listen(this._upBtn,this,this.FuncUpRarbageStation,0),m.UI_Events.instance.onEvents("V_RarbageStationPre_RefreshRarbageList",this.RefreshRarbageList,this),m.UI_Events.instance.onEvents("V_RarbageStationPre_updateOrder",this.updateOrder,this),m.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,m.UI_Events.instance.offEvents("V_RarbageStationPre_RefreshRarbageList",this.RefreshRarbageList,this),m.UI_Events.instance.offEvents("V_RarbageStationPre_updateOrder",this.updateOrder,this)},t.prototype.RefreshTrashCanList=function(){for(var e=0;e<4;e++)this.TrashCanList.children[e].off(cc.Node.EventType.TOUCH_START,this.ReceiveRewardsEvent,this),this.TrashCanList.children[e].getChildByName("Kuang").getChildByName("NUM").getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.capacity",[""+h.DMA_RarbageStation.instance.rarbageStation_Data.collect.data[e].progress,""+h.DMA_RarbageStation.instance.rarbageStation_Data.collect.capacity]),h.DMA_RarbageStation.instance.rarbageStation_Data.collect.data[e].progress==h.DMA_RarbageStation.instance.rarbageStation_Data.collect.capacity?(this.TrashCanList.children[e].getChildByName("cost").getChildByName("Price").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(h.DMA_RarbageStation.instance.rarbageStation_Data.collect.data[e].reward),this.TrashCanList.children[e].tagid=e,this.TrashCanList.children[e].on(cc.Node.EventType.TOUCH_START,this.ReceiveRewardsEvent,this)):this.TrashCanList.children[e].getChildByName("cost").getChildByName("Price").getComponent(cc.Label).string=" ??? "},t.prototype.RefreshOrderList=function(){for(var e=0;e<3;e++)if(this.OrderList.children[e].getChildByName("state0").getChildByName("DuiHuan").off(cc.Node.EventType.TOUCH_START,this.exchangeEvent,this),this.OrderList.children[e].getChildByName("state0").getChildByName("ShanChu").off(cc.Node.EventType.TOUCH_START,this.deleteEvent,this),this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("Obtain").off(cc.Node.EventType.TOUCH_START,this.GetNowGemEvent,this),this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("ObtainVideo").off(cc.Node.EventType.TOUCH_START,this.GetNowVideoEvent,this),-1==h.DMA_RarbageStation.instance.rarbageStation_Data.order[e].endTime){this.OrderList.children[e].getChildByName("state0").active=!0,this.OrderList.children[e].getChildByName("state1").active=!1,u.UI_Manager.instance.loadNewReleaseOld(this.OrderList.children[e].getChildByName("state0").getChildByName("DuiHuan").getChildByName("icon"),"texture/goods/"+h.DMA_RarbageStation.instance.rarbageStation_Data.order[e].Material,null,!1);var t=h.DMA_RarbageStation.instance.rarbageStation_Data.order[e].data,a=0;for(var i in t){u.UI_Manager.instance.loadNewReleaseOld(this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[a].getChildByName("icon"),"texture/goods/"+i,null,!1),this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[a].getChildByName("num").getComponent(cc.Label).string="x"+t[i];for(var n=h.DMA_RarbageStation.instance.rarbageStation_Data.stock.length,o=0,r=0;r<n;r++)h.DMA_RarbageStation.instance.rarbageStation_Data.stock[r]==i&&o++;o>=t[i]?this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[a].getChildByName("num").color=new cc.Color(143,220,103):this.OrderList.children[e].getChildByName("state0").getChildByName("node").children[a].getChildByName("num").color=new cc.Color(255,117,0),a++}this.OrderList.children[e].getChildByName("state0").getChildByName("DuiHuan").tagid=e,this.OrderList.children[e].getChildByName("state0").getChildByName("ShanChu").tagid=e,this.OrderList.children[e].getChildByName("state0").getChildByName("DuiHuan").on(cc.Node.EventType.TOUCH_START,this.exchangeEvent,this),this.OrderList.children[e].getChildByName("state0").getChildByName("ShanChu").on(cc.Node.EventType.TOUCH_START,this.deleteEvent,this)}else this.OrderList.children[e].getChildByName("state0").active=!1,this.OrderList.children[e].getChildByName("state1").active=!0,this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("ObtainVideo").active=c.VideoSwitch.instance.RarbageStationCome,this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("Obtain").tagid=e,this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("ObtainVideo").tagid=e,this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("Obtain").on(cc.Node.EventType.TOUCH_START,this.GetNowGemEvent,this),this.OrderList.children[e].getChildByName("state1").getChildByName("node").getChildByName("ObtainVideo").on(cc.Node.EventType.TOUCH_START,this.GetNowVideoEvent,this),this.updateOrder(e)},t.prototype.updateOrder=function(e){void 0===e&&(e=-1),-1==e?this.RefreshOrderList():this.OrderList.children[e].getChildByName("state1").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.gain",[""+r.FuncCommon.formatTime2(h.DMA_RarbageStation.instance.rarbageStation_Data.order[e].endTime-s.GameData.instance.TimeServer)])},t.prototype.RefreshRarbageList=function(){for(var e=this.RarbageList.children.length,t=h.DMA_RarbageStation.instance.rarbageStation_Data.stock.length,a=Math.max(e,t),i=0;i<a;i++)void 0!=this.RarbageList.children[i]&&null!=this.RarbageList.children[i]||this.RarbageList.addChild(cc.instantiate(this.RarbageList.children[0])),this.RarbageListDetails(i);for(i=0;i<10;i++)void 0!=this.UnlockList.children[i]&&null!=this.UnlockList.children[i]||this.UnlockList.addChild(cc.instantiate(this.UnlockList.children[0])),i<=s.GameData.instance.MasterData.rarbageStationLevel?this.UnlockList.children[i].active=!1:(this.UnlockList.children[i].active=!0,this.UnlockList.children[i].getChildByName("Tips").getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.unlockLevel",[""+(i+1)]));this._Level.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.Level",[""+(s.GameData.instance.MasterData.rarbageStationLevel+1)])},t.prototype.RarbageListDetails=function(e){this.RarbageList.children[e].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this),this.RarbageList.children[e].getChildByName("Guang").active=!1,null!=h.DMA_RarbageStation.instance.rarbageStation_Data.stock[e]?(u.UI_Manager.instance.loadNewReleaseOld(this.RarbageList.children[e].getChildByName("icon"),"texture/goods/"+h.DMA_RarbageStation.instance.rarbageStation_Data.stock[e],null,!1),this.RarbageList.children[e].getChildByName("Btn").tagid=e,this.RarbageList.children[e].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this)):(this.RarbageList.children[e].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.RarbageList.children[e].getChildByName("icon").tagid=null)},t.prototype.ReceiveRewardsEvent=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;cc.log("\u9886\u53d6\u5956\u52b1",t);var a=h.DMA_RarbageStation.instance.rarbageStation_Data.collect.data[t].reward;0==h.DMA_RarbageStation.instance.ReceiveRewards(t)&&(this.RefreshTrashCanList(),g.UI_PlayMS.instance.playSound("confirm"),u.UI_Manager.instance.AddFloatSprite(1,this.TrashCanList.children[t].getChildByName("cost"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",a))}},t.prototype.exchangeEvent=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;cc.log("\u5151\u6362",t),0==h.DMA_RarbageStation.instance.OrderExchange(t)&&(this.RefreshOrderList(),this.RefreshRarbageList())}},t.prototype.deleteEvent=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;h.DMA_RarbageStation.instance.deleteOrder(t),this.RefreshOrderList()}},t.prototype.GetNowGemEvent=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;switch(h.DMA_RarbageStation.instance.RefreshOrder(0,t)){case 0:this.RefreshOrderList();break;case 1:u.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&m.UI_Events.instance.emitEvents("openRecharge_Gem")})}}},t.prototype.GetNowVideoEvent=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid,a=this;d.default.postEvent2("ads_start_position",7),d.default.FcunVideoTsOc(function(e){switch(e){case 0:u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:h.DMA_RarbageStation.instance.RefreshOrder(1,t),a.RefreshOrderList(),d.default.postEvent2("ads_finish_position",7);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.SelectedEvent=function(e){g.UI_PlayMS.instance.playSound("button");var t=e.target.tagid;if(-1==this.selectPos)this.RarbageList.children[t].getChildByName("Guang").active=!0,this.selectPos=t;else if(this.selectPos!=t)if(h.DMA_RarbageStation.instance.rarbageStation_Data.stock[this.selectPos]==h.DMA_RarbageStation.instance.rarbageStation_Data.stock[t]){this.RarbageList.children[this.selectPos].getChildByName("Guang").active=!1;var a=h.DMA_RarbageStation.instance.rarbageStation_Data.stock[this.selectPos],i=h.DMA_RarbageStation.instance.rarbageStation_Data.stock[t],n=l.BasicsConfig.rubbish_config[a].Type;0==h.DMA_RarbageStation.instance.loadOrder(n,this.selectPos,t)?(this.RefreshTrashCanList(),this.RefreshOrderList(),this.RefreshRarbageList(),g.UI_PlayMS.instance.playSound("confirm"),u.UI_Manager.instance.AddFloatSprite(.5,this.RarbageList.children[this.selectPos],this.TrashCanList.children[n].getChildByName("Btn"),"texture/goods/"+a,1),u.UI_Manager.instance.AddFloatSprite(.5,this.RarbageList.children[t],this.TrashCanList.children[n].getChildByName("Btn"),"texture/goods/"+i,1)):u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("rarbageStation.sort"+n)+o.i18nMgr._getString("rarbageStation.rewardTips")),this.selectPos=-1}else this.RarbageList.children[this.selectPos].getChildByName("Guang").active=!1,this.RarbageList.children[t].getChildByName("Guang").active=!0,this.selectPos=t},t.prototype.FuncUpRarbageStation=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button"),m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:5,Subtype:-1}))},t=n([f],t)}(_.default));a.default=C,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_instance/DMA_RarbageStation":"DMA_RarbageStation","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_RenWuPre:[function(e,t,a){"use strict";cc._RF.push(t,"102c0goPJ5FjZ9M+34UOoX+","V_RenWuPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o,r=e("../../i18n/i18nMgr"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_config/AuxiliaryConfig"),h=e("../../Model/M_config/BasicsConfig"),d=e("../../Model/M_config/RoomConfig"),_=e("../../Model/M_instance/DMA_GoOut"),m=e("../../Model/M_instance/DMB_Farm"),u=e("../../Model/M_instance/DMB_Farming"),g=e("../../Model/M_instance/DMB_Fish"),p=e("../../Model/M_instance/DMB_Flowers"),f=e("../../Model/M_instance/DMB_Orchard"),C=e("../../Model/M_instance/DMC_Task"),y=e("../../Model/network/GameSDK"),D=e("../currency/UI_Ctrl"),v=e("../currency/UI_Events"),M=e("../currency/UI_Manager"),S=e("../currency/UI_PlayMS"),I=cc._decorator,B=I.ccclass,N=I.property;(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(o||(o={}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t.DingBtn=null,t.taskNode=[],t.taskcontent=null,t._type=0,t._listName=[],t}return i(t,e),t.prototype.CloseFunc=function(){S.UI_PlayMS.instance.playSound("button"),v.UI_Events.instance.emitEvents("CloseGamePrefab","RenWuPre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this._type=e.MainType,this.DingBtn=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/Tittlebtn"),this.taskNode[0]=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/task0"),this.taskcontent=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/task0/ScrollView/view/content"),this.taskNode[1]=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/task1"),this.taskNode[2]=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/task2"),this.taskNode[3]=cc.find("Canvas/UIAddNode/RenWuPre/DiBan/task3"),this.RefreshUI();for(var t=this,a=function(e){i.add_button_Listen(i.DingBtn.children[e],i,function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,t._type!=e&&(S.UI_PlayMS.instance.playSound("button"),t._type=e,t.RefreshUI()))},0)},i=this,n=0;n<3;n++)a(n);this.add_button_Listen(this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("WanCheng"),this,this.ToComplete_BranchLineTask,0),this.add_button_Listen(this.taskNode[2].getChildByName("xia").getChildByName("state0").getChildByName("WanCheng"),this,this.ToComplete_ThreadTask,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),1==s.GameData.instance.IsGuidePattern?this.scheduleOnce(function(){v.UI_Events.instance.emitEvents("Game_startGuide"),v.UI_Events.instance.emitEvents("CloseMask")},.5):v.UI_Events.instance.emitEvents("CloseMask")},t.prototype.RefreshUI=function(){this.taskNode[3].active=!1;for(var e=0;e<3;e++)e==this._type?(this.taskNode[e].active=!0,this.DingBtn.children[e].getChildByName("Icon").active=!0,this.DingBtn.children[e].getChildByName("TXT").color=new cc.Color(253,255,223)):(this.taskNode[e].active=!1,this.DingBtn.children[e].getChildByName("Icon").active=!1,this.DingBtn.children[e].getChildByName("TXT").color=new cc.Color(145,145,145));if(0==this._type){this.node.getChildByName("DiBan").height=1950,this._listName=Object.keys(C.DMC_Task.instance.EveryDay_Task_Data.list);var t=this.taskcontent.children.length,a=C.DMC_Task.instance.EveryDay_Task_Data.value,i=Math.max(a,t),n=0,r=function(){if(n<i){if(n<a){if(void 0==this.taskcontent.children[n]){var e=cc.instantiate(this.templateType==o.PREFAB?this.tmpPrefab:this.tmpNode);this.taskcontent.addChild(e)}this.taskcontent.children[n].active=!0,this.TaskEveryDayDetails(n)}else void 0==this.taskcontent.children[n]||(this.taskcontent.children[n].active=!1);this.scheduleOnce(function(e){n++,r()})}else v.UI_Events.instance.emitEvents("CloseMask")}.bind(this);r(),this.TaskEveryDayTotalDetails()}else 1==this._type?(this.node.getChildByName("DiBan").height=1350,this.TaskBranchLineDetails()):2==this._type&&(this.node.getChildByName("DiBan").height=1350,this.TaskThreadDetails());this.Task_Tips()},t.prototype.Task_Tips=function(){this.DingBtn.children[0].getChildByName("Tips").active=C.DMC_Task.instance.SatisfyTaskEveryDay(),this.DingBtn.children[1].getChildByName("Tips").active=C.DMC_Task.instance.taskBranchLineData.complete,this.DingBtn.children[2].getChildByName("Tips").active=C.DMC_Task.instance.IsNotClaimed_TaskThread()},t.prototype.TaskEveryDayDetails=function(e){var t=this._listName[e],a=C.DMC_Task.instance.EveryDay_Task_Data.list[t].target,i=C.DMC_Task.instance.EveryDay_Task_Data.list[t].value;M.UI_Manager.instance.loadNewReleaseOld(this.taskcontent.children[e].getChildByName("icon"),"texture/icon/icon_Task_"+t,null,!1),this.taskcontent.children[e].getChildByName("Name_").getComponent(cc.Label).string=r.i18nMgr._getString("task."+t,[""+a]),this.taskcontent.children[e].getChildByName("progress_").getComponent(cc.Label).string=r.i18nMgr._getString("task.progress",[""+i,""+a]),this.taskcontent.children[e].getChildByName("state0").getChildByName("WanCheng").off(cc.Node.EventType.TOUCH_START,this.complete_TaskEveryDay,this),this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").off(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDay,this),this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").off(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDay,this),i<a?(this.taskcontent.children[e].getChildByName("state0").active=!0,this.taskcontent.children[e].getChildByName("state1").active=!1,this.taskcontent.children[e].getChildByName("state2").active=!1,this.taskcontent.children[e].getChildByName("state0").getChildByName("JiangLi").getChildByName("Num").getComponent(cc.Label).string="x"+C.DMC_Task.instance.EveryDay_Task_Data.list[t].rewardGem,this.taskcontent.children[e].getChildByName("state0").getChildByName("WanCheng").key=t,this.taskcontent.children[e].getChildByName("state0").getChildByName("WanCheng").index=e,this.taskcontent.children[e].getChildByName("state0").getChildByName("WanCheng").on(cc.Node.EventType.TOUCH_START,this.complete_TaskEveryDay,this),this.taskcontent.children[e].getChildByName("state0").getChildByName("WanCheng").active=1==c.VideoSwitch.instance.EveryDayTaskComplete&&1==C.DMC_Task.instance.EveryDay_Task_Data.list[t].videoComplete):-1!=C.DMC_Task.instance.EveryDay_Task_Data.list[t].rewardGem?(this.taskcontent.children[e].getChildByName("state0").active=!1,this.taskcontent.children[e].getChildByName("state1").active=!0,this.taskcontent.children[e].getChildByName("state2").active=!1,this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").getChildByName("Num").getComponent(cc.Label).string="x"+C.DMC_Task.instance.EveryDay_Task_Data.list[t].rewardGem,this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").index=e,this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").index=e,this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").multiple=1,this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").multiple=2,this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").key=t,this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").key=t,this.taskcontent.children[e].getChildByName("state1").getChildByName("receive").on(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDay,this),this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").on(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDay,this),this.taskcontent.children[e].getChildByName("state1").getChildByName("receiveVideo").active=c.VideoSwitch.instance.EveryDayTask_RewardDouble):(this.taskcontent.children[e].getChildByName("state0").active=!1,this.taskcontent.children[e].getChildByName("state1").active=!1,this.taskcontent.children[e].getChildByName("state2").active=!0)},t.prototype.TaskEveryDayTotalDetails=function(){var e=this.taskNode[0].getChildByName("xia").getChildByName("node"),t=C.DMC_Task.instance.EveryDay_Task_Data.progress,a=C.DMC_Task.instance.EveryDay_Task_Data.value;this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("Onekey").off(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDayTotal,this),this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("receive2").off(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDayTotal,this);var i=0;for(var n in C.DMC_Task.instance.EveryDay_Task_Data.rewardMaterial){M.UI_Manager.instance.loadNewReleaseOld(e.children[i].getChildByName("icon"),"texture/goods/"+n,null,!1);var o=r.i18nMgr._getString("item."+n+"._Name");e.children[i].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+o+"\n</color><color=#99e06e><outline color= #233e10 width=2 >x"+C.DMC_Task.instance.EveryDay_Task_Data.rewardMaterial[n]+"</outline></color>",i++}M.UI_Manager.instance.loadNewReleaseOld(e.children[3].getChildByName("icon"),"texture/goods/icon_ZuanShi_Da",null,!1),e.children[3].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#99e06e><outline color= #233e10 width=2 >x"+C.DMC_Task.instance.EveryDay_Task_Data.rewardGem+"</outline></color>",t<a?(this.taskNode[0].getChildByName("xia").getChildByName("progress").getComponent(cc.Label).string=r.i18nMgr._getString("task.progress",[""+t,""+a]),this.taskNode[0].getChildByName("xia").getChildByName("Btn").active=!1):-1!=C.DMC_Task.instance.EveryDay_Task_Data.rewardGem?(this.taskNode[0].getChildByName("xia").getChildByName("progress").getComponent(cc.Label).string="",this.taskNode[0].getChildByName("xia").getChildByName("Btn").active=!0,this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("Onekey").type=1,this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("receive2").type=2,this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("Onekey").on(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDayTotal,this),this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("receive2").on(cc.Node.EventType.TOUCH_START,this.receive_TaskEveryDayTotal,this),this.taskNode[0].getChildByName("xia").getChildByName("Btn").getChildByName("receive2").active=c.VideoSwitch.instance.EveryDayTaskTotal_RewardDouble):(this.taskNode[0].getChildByName("xia").getChildByName("progress").getComponent(cc.Label).string=r.i18nMgr._getString("task.todayReceived"),this.taskNode[0].getChildByName("xia").getChildByName("Btn").active=!1)},t.prototype.TaskBranchLineDetails=function(){var e=C.DMC_Task.instance.taskBranchLineData.item,t=C.DMC_Task.instance.taskBranchLineData.type,a=C.DMC_Task.instance.taskBranchLineData.target,i=C.DMC_Task.instance.taskBranchLineData.value;if(""==e)this.taskNode[1].getChildByName("Di").getChildByName("content").getComponent(cc.Label).string=r.i18nMgr._getString("task."+t,[""+a]);else{var n=r.i18nMgr._getString("item."+e+"._Name");this.taskNode[1].getChildByName("Di").getChildByName("content").getComponent(cc.Label).string=r.i18nMgr._getString("task."+t+"1",[""+n,""+a])}this.taskNode[1].getChildByName("Di").getChildByName("progress").getComponent(cc.Label).string=r.i18nMgr._getString("task.progress",[""+i,""+a]);var o=this.taskNode[1].getChildByName("xia").getChildByName("node"),s=0;for(var l in C.DMC_Task.instance.taskBranchLineData.rewardMaterial){M.UI_Manager.instance.loadNewReleaseOld(o.children[s].getChildByName("icon"),"texture/goods/"+l,null,!1);var h=r.i18nMgr._getString("item."+l+"._Name");o.children[s].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+h+"\n</color><color=#99e06e><outline color= #233e10 width=2 >x"+C.DMC_Task.instance.taskBranchLineData.rewardMaterial[l]+"</outline></color>",s++}switch(M.UI_Manager.instance.loadNewReleaseOld(o.children[3].getChildByName("icon"),"texture/goods/icon_ZuanShi_Da",null,!1),o.children[3].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#99e06e><outline color= #233e10 width=2 >x"+C.DMC_Task.instance.taskBranchLineData.rewardGem+"</outline></color>",M.UI_Manager.instance.loadNewReleaseOld(o.children[4].getChildByName("icon"),"texture/goods/icon_JinBi_Da",null,!1),o.children[4].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#99e06e><outline color= #233e10 width=2 >x"+C.DMC_Task.instance.taskBranchLineData.rewardCash+"</outline></color>",this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("Refresh").off(cc.Node.EventType.TOUCH_START,this.refresh_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("RefreshVideo").off(cc.Node.EventType.TOUCH_START,this.refresh_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receive").off(cc.Node.EventType.TOUCH_START,this.receive_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receiveVideo").off(cc.Node.EventType.TOUCH_START,this.receive_BranchLineTask,this),i<a?(this.taskNode[1].getChildByName("xia").getChildByName("state0").active=!0,this.taskNode[1].getChildByName("xia").getChildByName("state1").active=!1,this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("Refresh").getChildByName("Num").getComponent(cc.Label).string="x5",this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("Refresh").type=1,this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("RefreshVideo").type=2,this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("Refresh").on(cc.Node.EventType.TOUCH_START,this.refresh_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("RefreshVideo").on(cc.Node.EventType.TOUCH_START,this.refresh_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state0").getChildByName("node").getChildByName("RefreshVideo").active=c.VideoSwitch.instance.BranchLineTaskRefresh):(this.taskNode[1].getChildByName("xia").getChildByName("state0").active=!1,this.taskNode[1].getChildByName("xia").getChildByName("state1").active=!0,this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receive").multiple=1,this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receiveVideo").multiple=2,this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receive").on(cc.Node.EventType.TOUCH_START,this.receive_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receiveVideo").on(cc.Node.EventType.TOUCH_START,this.receive_BranchLineTask,this),this.taskNode[1].getChildByName("xia").getChildByName("state1").getChildByName("receiveVideo").active=c.VideoSwitch.instance.BranchLineTaskDouble),t){case"farming":case"orchard":case"flowers":case"fish":case"farm":case"kitchen":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[1].getChildByName("Di").getChildByName("icon"),"texture/goods/"+e,null,!1);break;case"delivery":case"messHall":case"freight":case"canteen":case"haveDinner":case"collection":case"goOut":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[1].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_Task_"+t,null,!1)}},t.prototype.TaskThreadDetails=function(){var e=C.DMC_Task.instance.Thread_Task_Data.taskID;if(e>=l.AuxiliaryConfig.taskThread_config.length)return this.taskNode[2].active=!1,void(this.taskNode[3].active=!0);var t=C.DMC_Task.instance.Thread_Task_Data.type,a=C.DMC_Task.instance.Thread_Task_Data.complete,i=l.AuxiliaryConfig.taskThread_config[e].target;this.taskNode[2].getChildByName("Di").getChildByName("content").getComponent(cc.Label).string=r.i18nMgr._getString("task.Task_"+t,[""+i]);var n=this.taskNode[2].getChildByName("xia").getChildByName("node"),o=0,h=l.AuxiliaryConfig.taskThread_config[e];for(var d in h.rewardMaterial){M.UI_Manager.instance.loadNewReleaseOld(n.children[o].getChildByName("icon"),"texture/goods/"+d,null,!1);var _=r.i18nMgr._getString("item."+d+"._Name");n.children[o].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+_+"\n</color><color=#99e06e><outline color= #233e10 width=2 >x"+h.rewardMaterial[d]+"</outline></color>",o++}switch(M.UI_Manager.instance.loadNewReleaseOld(n.children[3].getChildByName("icon"),"texture/goods/icon_ZuanShi_Da",null,!1),n.children[3].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#99e06e><outline color= #233e10 width=2 >x"+h.rewardGem+"</outline></color>",M.UI_Manager.instance.loadNewReleaseOld(n.children[4].getChildByName("icon"),"texture/goods/icon_JinBi_Da",null,!1),n.children[4].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#99e06e><outline color= #233e10 width=2 >x"+h.rewardCash+"</outline></color>",this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("reward").off(cc.Node.EventType.TOUCH_START,this.receive_ThreadTask,this),this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("rewardVideo").off(cc.Node.EventType.TOUCH_START,this.receive_ThreadTask,this),1==a?(this.taskNode[2].getChildByName("xia").getChildByName("state0").active=!1,this.taskNode[2].getChildByName("xia").getChildByName("state1").active=!0,this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("reward").multiple=1,this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("rewardVideo").multiple=2,this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("reward").on(cc.Node.EventType.TOUCH_START,this.receive_ThreadTask,this),this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("rewardVideo").on(cc.Node.EventType.TOUCH_START,this.receive_ThreadTask,this),this.taskNode[2].getChildByName("xia").getChildByName("state1").getChildByName("rewardVideo").active=c.VideoSwitch.instance.ThreadaskDouble):(this.taskNode[2].getChildByName("xia").getChildByName("state0").active=!0,this.taskNode[2].getChildByName("xia").getChildByName("state1").active=!1),C.DMC_Task.instance.Thread_Task_Data.type){case"level":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_ZhuFang"+Math.floor(s.GameData.instance.MasterData.MainRoomLevel/3),null,!1);break;case"farming":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_TianDi",null,!1);break;case"farm":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_YangZhi_"+(i-1)+"_0",null,!1);break;case"orchard":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_GuoYuan",null,!1);break;case"fish":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_ShuiChan_0",null,!1);break;case"flowers":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_HuaYuan",null,!1);break;case"freightStation":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_HuoYunZhan"+Math.floor((i-1)/2),null,!1);break;case"transitStation":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_GongJiaoZhan"+Math.floor((i-1)/2),null,!1);break;case"kitchen":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_ChuFang"+Math.floor((i-1)/2),null,!1);break;case"canteen":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_XiaoMaiBu"+Math.floor((i-1)/2),null,!1);break;case"deliverGoods":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_WuLiuZhongXin"+Math.floor((i-1)/3),null,!1);break;case"rarbageStation":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_LaJiZhan"+Math.floor((i-1)/2),null,!1);break;case"messHallStation":M.UI_Manager.instance.loadNewReleaseOld(this.taskNode[2].getChildByName("Di").getChildByName("icon"),"texture/icon/icon_CanGuan"+Math.floor((i-1)/2),null,!1)}},t.prototype.complete_TaskEveryDay=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.key,i=this;y.default.postEvent2("ads_start_position",22),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.CompleteNowTaskEveryDay(a),i.TaskEveryDayDetails(t),i.Task_Tips(),y.default.postEvent2("ads_finish_position",22);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.receive_TaskEveryDay=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button");var t=e.target.index,a=e.target.multiple,i=e.target.key,n=C.DMC_Task.instance.EveryDay_Task_Data.list[i].rewardGem;if(1==a)C.DMC_Task.instance.ReceiveTaskEveryDayReward(i,a),this.TaskEveryDayDetails(t),this.TaskEveryDayTotalDetails(),this.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(1,this.taskcontent.children[t].getChildByName("state1").getChildByName("receive"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",n);else if(2==a){var o=this;y.default.postEvent2("ads_start_position",23),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.ReceiveTaskEveryDayReward(i,a),o.TaskEveryDayDetails(t),o.TaskEveryDayTotalDetails(),o.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(1,o.taskcontent.children[t].getChildByName("state1").getChildByName("receiveVideo"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*n),y.default.postEvent2("ads_finish_position",23);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},t.prototype.receive_TaskEveryDayTotal=function(e){var t=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button");var a=e.target.type,i=C.DMC_Task.instance.EveryDay_Task_Data.rewardMaterial.material_DaoCao,n=C.DMC_Task.instance.EveryDay_Task_Data.rewardGem;if(1==a)C.DMC_Task.instance.ReceiveTaskEveryDayReward2(1),this.TaskEveryDayTotalDetails(),this.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[0].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",i),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[0].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",i),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[0].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",i),M.UI_Manager.instance.AddFloatSprite(1,this.taskNode[0].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",n);else{var o=this;y.default.postEvent2("ads_start_position",24),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.ReceiveTaskEveryDayReward2(2),o.TaskEveryDayTotalDetails(),o.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,t.taskNode[0].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",2*i),M.UI_Manager.instance.AddFloatSprite(.5,t.taskNode[0].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",2*i),M.UI_Manager.instance.AddFloatSprite(.5,t.taskNode[0].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",2*i),M.UI_Manager.instance.AddFloatSprite(1,t.taskNode[0].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*n),y.default.postEvent2("ads_finish_position",24);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},t.prototype.ToComplete_BranchLineTask=function(){v.UI_Events.instance.emitEvents("CloseGamePrefab","RenWuPre");var e=C.DMC_Task.instance.taskBranchLineData.item;switch(C.DMC_Task.instance.taskBranchLineData.type){case"farming":(t=cc.find("Canvas/UIAddNode/SeedSelection_farming")).setPosition(0,0),t.active=!0,t.getComponent("V_farming_seed").init();break;case"orchard":(t=cc.find("Canvas/UIAddNode/SeedSelection_orchard")).setPosition(0,0),t.active=!0,t.getComponent("V_orchard_seed").init();break;case"flowers":var t;(t=cc.find("Canvas/UIAddNode/SeedSelection_flowers")).setPosition(0,0),t.active=!0,t.getComponent("V_flowers_seed").init();break;case"fish":for(var a=0;a<4;a++)if(1==g.DMB_Fish.instance.Fish_Data.own[a]&&g.DMB_Fish.instance.Fish_Data.data[a].itemId==e)return void v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:a,Subtype:-1});for(a=0;a<4;a++)if(1==g.DMB_Fish.instance.Fish_Data.own[a]&&0==g.DMB_Fish.instance.Fish_Data.data[a].state)for(var i=(o=s.GameData.instance.sortItem.fish).length,n=0;n<i;n++)if(o[n]==e)return void v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:a,Subtype:n});break;case"farm":for(i=(o=s.GameData.instance.sortItem.farm).length,n=0;n<i;n++)if(o[n]==e){1==m.DMB_Farm.instance.Farm_Data.own[n]&&v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FarmPre",MainType:-1,Subtype:n});break}break;case"kitchen":if(s.GameData.instance.MasterData.MainRoomLevel>=h.BasicsConfig.Item_config[e].unlock&&s.GameData.instance.MasterData.KitchenRoomLevel>=h.BasicsConfig.Item_config[e].machining){var o,c=Object.keys(s.GameData.instance.kitchen_sortItem),l=h.BasicsConfig.Item_config[e].TypeSub,u=c.indexOf(l),p=0;for(i=(o=s.GameData.instance.kitchen_sortItem[l]).length,n=0;n<i;n++)if(o[n]==e){p=n;break}v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"KitchenRoomPre",MainType:u,Subtype:p})}else M.UI_Manager.instance.AddFloatLabel("\u6b64\u7269\u54c1\u8fd8\u672a\u89e3\u9501,\u5c3d\u5feb\u5347\u7ea7\u53a8\u623f\u89e3\u9501\u6b64\u7269\u54c1");break;case"delivery":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FreightStationPre",MainType:-1,Subtype:-1});break;case"messHall":var f=d.RoomConfig.messHallStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=f?-1==s.GameData.instance.MasterData.messHallStationLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:4,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"MessHallStationPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])));break;case"freight":f=d.RoomConfig.deliverGoods_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=f?-1==s.GameData.instance.MasterData.deliverGoodsLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:6,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"DeliverGoodsPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])));break;case"canteen":f=d.RoomConfig.Canteen_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=f?-1==s.GameData.instance.MasterData.CanteenLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:2,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"CanteenPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])));break;case"haveDinner":f=d.RoomConfig.messHallStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=f?-1==s.GameData.instance.MasterData.messHallStationLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:4,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"MessHallStationPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])));break;case"collection":f=d.RoomConfig.rarbageStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=f?-1==s.GameData.instance.MasterData.rarbageStationLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:5,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"RarbageStationPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])));break;case"goOut":f=d.RoomConfig.goOutunlockLevel;s.GameData.instance.MasterData.MainRoomLevel>=f?0==_.DMA_GoOut.instance.GoOut_DSata.get.Mounted?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"goOut1Pre",MainType:-1,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"goOut2Pre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(f+1)])))}},t.prototype.refresh_BranchLineTask=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else if(s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button"),1==e.target.type)0==C.DMC_Task.instance.changeTaskBranchLine(1)?this.TaskBranchLineDetails():M.UI_Manager.instance.OpenPopup(1,r.i18nMgr._getString("Gem_isUp"),function(e){1==e&&v.UI_Events.instance.emitEvents("openRecharge_Gem")});else{var t=this;y.default.postEvent2("ads_start_position",5),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.changeTaskBranchLine(2),t.TaskBranchLineDetails(),y.default.postEvent2("ads_finish_position",5);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.receive_BranchLineTask=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button");var t=e.target.multiple,a=C.DMC_Task.instance.taskBranchLineData.rewardMaterial.material_DaoCao,i=C.DMC_Task.instance.taskBranchLineData.rewardGem,n=C.DMC_Task.instance.taskBranchLineData.rewardCash;if(1==t)C.DMC_Task.instance.ReceiveTaskBranchLineReward(t),this.TaskBranchLineDetails(),this.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[1].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",a),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[1].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",a),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[1].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",a),M.UI_Manager.instance.AddFloatSprite(1,this.taskNode[1].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",i),M.UI_Manager.instance.AddFloatSprite(1,this.taskNode[1].getChildByName("xia").getChildByName("node").children[4],cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",n);else if(2==t){var o=this;y.default.postEvent2("ads_start_position",20),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.ReceiveTaskBranchLineReward(t),o.TaskBranchLineDetails(),o.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[1].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",2*a),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[1].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",2*a),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[1].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",2*a),M.UI_Manager.instance.AddFloatSprite(1,o.taskNode[1].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*i),M.UI_Manager.instance.AddFloatSprite(1,o.taskNode[1].getChildByName("xia").getChildByName("node").children[4],cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*n),y.default.postEvent2("ads_finish_position",20);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},t.prototype.ToComplete_ThreadTask=function(){switch(v.UI_Events.instance.emitEvents("CloseGamePrefab","RenWuPre"),C.DMC_Task.instance.Thread_Task_Data.type){case"level":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"MainRoomPre",MainType:-1,Subtype:-1});break;case"farming":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:0,Subtype:u.DMB_Farming.instance.Farming_data.count});break;case"farm":for(var e=0;e<6;e++)if(0==m.DMB_Farm.instance.Farm_Data.own[e]){v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:3,Subtype:e});break}break;case"orchard":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:1,Subtype:f.DMB_Orchard.instance.Orchard_data.count});break;case"fish":for(e=0;e<6;e++)if(0==g.DMB_Fish.instance.Fish_Data.own[e]){v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:4,Subtype:e});break}break;case"flowers":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:2,Subtype:p.DMB_Flowers.instance.Flowers_data.count});break;case"freightStation":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FreightStationPre",MainType:-1,Subtype:-1});break;case"transitStation":var t=d.RoomConfig.transitStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=t?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:7,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(t+1)])));break;case"kitchen":v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"KitchenRoomPre",MainType:0,Subtype:0});break;case"canteen":t=d.RoomConfig.Canteen_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=t?-1==s.GameData.instance.MasterData.CanteenLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:2,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"CanteenPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(t+1)])));break;case"deliverGoods":t=d.RoomConfig.deliverGoods_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=t?-1==s.GameData.instance.MasterData.deliverGoodsLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:6,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"DeliverGoodsPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(t+1)])));break;case"rarbageStation":t=d.RoomConfig.rarbageStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=t?-1==s.GameData.instance.MasterData.rarbageStationLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:5,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"RarbageStationPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(t+1)])));break;case"messHallStation":t=d.RoomConfig.messHallStation_config[0].unlock;s.GameData.instance.MasterData.MainRoomLevel>=t?-1==s.GameData.instance.MasterData.messHallStationLevel?v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:4,Subtype:-1}):v.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"MessHallStationPre",MainType:-1,Subtype:-1}):(S.UI_PlayMS.instance.playSound("button"),M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("unlockLevel",[""+(t+1)])))}},t.prototype.receive_ThreadTask=function(e){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,S.UI_PlayMS.instance.playSound("button");var t=e.target.multiple,a=l.AuxiliaryConfig.taskThread_config[C.DMC_Task.instance.Thread_Task_Data.taskID].rewardMaterial.material_DaoCao,i=l.AuxiliaryConfig.taskThread_config[C.DMC_Task.instance.Thread_Task_Data.taskID].rewardGem,n=l.AuxiliaryConfig.taskThread_config[C.DMC_Task.instance.Thread_Task_Data.taskID].rewardCash;if(1==t)C.DMC_Task.instance.ReceiveTaskThreadReward(t),this.TaskThreadDetails(),this.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[2].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",a),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[2].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",a),M.UI_Manager.instance.AddFloatSprite(.5,this.taskNode[2].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",a),M.UI_Manager.instance.AddFloatSprite(1,this.taskNode[2].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",i),M.UI_Manager.instance.AddFloatSprite(1,this.taskNode[2].getChildByName("xia").getChildByName("node").children[4],cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",n);else if(2==t){var o=this;y.default.postEvent2("ads_start_position",21),y.default.FcunVideoTsOc(function(e){switch(e){case 0:M.UI_Manager.instance.AddFloatLabel(r.i18nMgr._getString("Video_No"));break;case 1:C.DMC_Task.instance.ReceiveTaskThreadReward(t),o.TaskThreadDetails(),o.Task_Tips(),S.UI_PlayMS.instance.playSound("confirm"),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[2].getChildByName("xia").getChildByName("node").children[0],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",2*a),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[2].getChildByName("xia").getChildByName("node").children[1],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",2*a),M.UI_Manager.instance.AddFloatSprite(.5,o.taskNode[2].getChildByName("xia").getChildByName("node").children[2],cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",2*a),M.UI_Manager.instance.AddFloatSprite(1,o.taskNode[2].getChildByName("xia").getChildByName("node").children[3],cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",2*i),M.UI_Manager.instance.AddFloatSprite(1,o.taskNode[2].getChildByName("xia").getChildByName("node").children[4],cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*n),y.default.postEvent2("ads_finish_position",21);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}}},n([N({type:cc.Enum(o),tooltip:!1})],t.prototype,"templateType",void 0),n([N({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),n([N({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),t=n([B],t)}(D.default);a.default=k,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_config/AuxiliaryConfig":"AuxiliaryConfig","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_GoOut":"DMA_GoOut","../../Model/M_instance/DMB_Farm":"DMB_Farm","../../Model/M_instance/DMB_Farming":"DMB_Farming","../../Model/M_instance/DMB_Fish":"DMB_Fish","../../Model/M_instance/DMB_Flowers":"DMB_Flowers","../../Model/M_instance/DMB_Orchard":"DMB_Orchard","../../Model/M_instance/DMC_Task":"DMC_Task","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_SheZhiPre:[function(e,t,a){"use strict";cc._RF.push(t,"a8e9cL7m35KA6kDc1iOvEfV","V_SheZhiPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../currency/UI_Ctrl"),l=e("../currency/UI_Events"),h=e("../currency/UI_Manager"),d=e("../currency/UI_ObjectPool"),_=e("../currency/UI_PlayMS"),m=cc._decorator,u=m.ccclass,g=m.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LanguageNode=[],t}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.InitializeUI(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("music_ON"),this,this.MusicBtn,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("sound_ON"),this,this.SoundBtn,0),l.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){_.UI_PlayMS.instance.playSound("button"),l.UI_Events.instance.emitEvents("CloseGamePrefab","SheZhiPre")},t.prototype.InitializeUI=function(){s.GameData.instance.MasterData.MusicState?(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("music_ON").getChildByName("Off").active=!1,this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("music_ON").getChildByName("Kai").getChildByName("Guan").active=!1):(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("music_ON").getChildByName("Off").active=!0,this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("music_ON").getChildByName("Kai").getChildByName("Guan").active=!0),s.GameData.instance.MasterData.SoundState?(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("sound_ON").getChildByName("Off").active=!1,this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("sound_ON").getChildByName("Kai").getChildByName("Guan").active=!1):(this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("sound_ON").getChildByName("Off").active=!0,this.node.getChildByName("DiBan").getChildByName("Kuang").getChildByName("sound_ON").getChildByName("Kai").getChildByName("Guan").active=!0),this.node.getChildByName("DiBan").getChildByName("Time_TIPS").getComponent(cc.Label).string=o.i18nMgr._getString("Seting.Time",[""+r.FuncCommon.formatTime2(s.GameData.instance.TimeData.GameCumulative)]);for(var e=0;e<2;e++)e==s.GameData.instance.MasterData.language?this.LanguageNode[e].getComponent(cc.Button).interactable=!1:this.LanguageNode[e].getComponent(cc.Button).interactable=!0},t.prototype.MusicBtn=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button"),s.GameData.instance.MasterData.MusicState=!s.GameData.instance.MasterData.MusicState,r.FuncCommon.setStorage("MasterData",s.GameData.instance.MasterData),s.GameData.instance.MasterData.MusicState?_.UI_PlayMS.instance.playMusic2("season"):_.UI_PlayMS.instance.stopMusic(),this.InitializeUI())},t.prototype.SoundBtn=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button"),s.GameData.instance.MasterData.SoundState=!s.GameData.instance.MasterData.SoundState,r.FuncCommon.setStorage("MasterData",s.GameData.instance.MasterData),this.InitializeUI())},t.prototype.LanguageChoice=function(e,t){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button"),l.UI_Events.instance.emitEvents("OpenMask");var a=this;h.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Seting.Tips"),function(e){1==e?(_.UI_PlayMS.instance.stopMusic(),cc.find("StartNode").getComponent("scene_Start").setGameLanguage(Number(t)),l.UI_Events.instance.emitEvents("closeTimer"),l.UI_Events.instance.offAllEvents(),d.UI_ObjectPool.instance.emptyNodePool(),a.scheduleOnce(function(){cc.game.restart()},.5)):l.UI_Events.instance.emitEvents("CloseMask")})}},n([g({type:cc.Node,displayName:"LanguageNode",tooltip:"\u8bed\u8a00\u8282\u70b9"})],t.prototype,"LanguageNode",void 0),t=n([u],t)}(c.default);a.default=p,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_ObjectPool":"UI_ObjectPool","../currency/UI_PlayMS":"UI_PlayMS"}],V_SpineGuest:[function(e,t,a){"use strict";cc._RF.push(t,"e15093/KOBKXYLgt4CG6oEV","V_SpineGuest");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/CommonFun"),s=e("../Model/M_config/RoomConfig"),c=e("../Model/M_instance/DMA_Canteen"),l=e("../Model/M_instance/DMA_MessHallStation"),h=e("./currency/UI_Events"),d=e("./currency/UI_Manager"),_=e("./currency/UI_ObjectPool"),m=cc._decorator,u=m.ccclass,g=m.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Spine_=null,t.Jiao_=null,t.TXT_=null,t.food_=null,t.icon_=[],t.XiaoMaiBuPos=[cc.v3(-500,-870),cc.v3(-300,-870),cc.v3(-450,-910),cc.v3(-250,-910),cc.v3(-500,-950),cc.v3(-300,-950)],t.ShiTanBuPos=[[cc.v3(0,-890),cc.v3(0,-430),cc.v3(105,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Left",cc.v3(15,55),-1],[cc.v3(0,-890),cc.v3(0,-430),cc.v3(105,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Left",cc.v3(15,5),-1],[cc.v3(0,-890),cc.v3(0,-430),cc.v3(105,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Left",cc.v3(15,-45),-1],[cc.v3(0,-890),cc.v3(0,-430),cc.v3(300,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Right",cc.v3(-15,55),1],[cc.v3(0,-890),cc.v3(0,-430),cc.v3(300,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Right",cc.v3(-15,-5),1],[cc.v3(0,-890),cc.v3(0,-430),cc.v3(300,-430),"Canvas/UIMap/CanZhuo/children0/Yi_Right",cc.v3(-15,-45),1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(105,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Left",cc.v3(15,55),-1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(105,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Left",cc.v3(15,5),-1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(105,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Left",cc.v3(15,-45),-1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(300,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Right",cc.v3(-15,55),1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(300,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Right",cc.v3(-15,5),1],[cc.v3(0,-890),cc.v3(0,-675),cc.v3(300,-675),"Canvas/UIMap/CanZhuo/children1/Yi_Right",cc.v3(-15,-45),1]],t.otherPos=[[cc.v3(0,-890),cc.v3(0,580),cc.v3(-100,580),1],[cc.v3(0,-890),cc.v3(0,580),cc.v3(-300,580),1],[cc.v3(0,-890),cc.v3(0,580),cc.v3(-200,580),1],[cc.v3(0,-890),cc.v3(0,580),cc.v3(100,580),-1],[cc.v3(0,-890),cc.v3(0,580),cc.v3(300,580),-1],[cc.v3(0,-890),cc.v3(0,580),cc.v3(200,580),-1],[cc.v3(0,-890),cc.v3(0,310),cc.v3(240,310),-1]],t.type=0,t.seepArr=[50,60,70,80,90],t.speed=0,t.startPos=cc.v3(230,-980),t.endPos=cc.v3(1500,-890),t}return i(t,e),t.prototype.update=function(e){this.node.zIndex=800-this.node.y},t.prototype.init=function(e,t,a){this.Jiao_.active=!1,this.food_.active=!1,this.speed=this.seepArr[r.FuncCommon.random(0,4)];var i=this,n=r.FuncCommon.GetRandNum(0,19);this.node.setPosition(150,-955),d.UI_Manager.instance.loading("spine/KeRen/kr_"+n,sp.SkeletonData,function(m){if(i.Spine_.skeletonData=m,-1==e||-1==t){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-1;var u=cc.v3(240,-890),g=i.startPos.sub(u).mag()/i.speed,p=u.sub(i.endPos).mag()/i.speed;cc.tween(i.node).to(g,{position:u}).to(p,{position:i.endPos}).call(function(){_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineGuest",i.node)}).start()}else if(0==e){var f=null;i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=1;var C=i.XiaoMaiBuPos[t].sub(i.startPos).mag()/i.speed,y=i.XiaoMaiBuPos[t].sub(i.endPos).mag()/i.speed,D=function(){cc.Tween.stopAllByTarget(i.node),cc.tween(i.node).to(C,{position:i.XiaoMaiBuPos[t]}).call(function(){i.Spine_.setAnimation(0,"b_wait",!0),i.Jiao_.active=!0,i.Jiao_.y=120,i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lookAround")}).delay(5).call(function(){if(f=c.DMA_Canteen.instance.OrderEstablish(n),h.UI_Events.instance.emitEvents("V_CanteenPre_RefreshUI_goods"),h.UI_Events.instance.emitEvents("V_CanteenPre_RefreshUI_Level"),1==f.code){i.Jiao_.active=!1,i.food_.active=!0;for(var e=0;e<4;e++)e<f.id.length?(i.icon_[e].active=!0,d.UI_Manager.instance.loadNewReleaseOld(i.icon_[e],"texture/goods/"+f.id[e],null,!1)):i.icon_[e].active=!1;i.scheduleOnce(function(){i.food_.active=!1,i.Jiao_.active=!0,i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.guest_2."+r.FuncCommon.random(1,10)),v()},3)}else i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.guest_1."+r.FuncCommon.random(1,10)),v()}).start()},v=function(){cc.Tween.stopAllByTarget(i.node),cc.tween(i.node).call(function(){i.scheduleOnce(function(){i.TXT_.getComponent(cc.Label).string="",i.Jiao_.active=!1},3),a(e,t),i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-1,h.UI_Events.instance.emitEvents("NPC_dropLitter")}).to(y,{position:i.endPos}).call(function(){_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineGuest",i.node)}).start()};D()}else if(1==e){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=1;var M=i.ShiTanBuPos[t][0].sub(i.startPos).mag()/i.speed,S=i.ShiTanBuPos[t][0].sub(i.ShiTanBuPos[t][1]).mag()/i.speed,I=i.ShiTanBuPos[t][1].sub(i.ShiTanBuPos[t][2]).mag()/i.speed,B=i.ShiTanBuPos[t][0].sub(i.endPos).mag()/i.speed,N=l.DMA_MessHallStation.instance.TablesChairs_Data.indexOf(1),k=s.RoomConfig.messHallStationTable_config[N].etcTime,b=s.RoomConfig.messHallStationTable_config[N].eatTime,T=null,U=(D=function(){cc.Tween.stopAllByTarget(i.node),cc.tween(i.node).to(M,{position:i.ShiTanBuPos[t][0]}).call(function(){i.Spine_.setAnimation(0,"b_walk",!0)}).to(S,{position:i.ShiTanBuPos[t][1]}).call(function(){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-1}).to(I,{position:i.ShiTanBuPos[t][2]}).call(function(){i.Spine_.setAnimation(0,"c_sit_wait",!0),i.node.getChildByName("Spine").scaleX=i.ShiTanBuPos[t][5],i.node.parent=cc.find(i.ShiTanBuPos[t][3]),i.node.setPosition(i.ShiTanBuPos[t][4]),i.Jiao_.active=!0,i.Jiao_.y=80,i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lookAround2")}).delay(5).call(function(){if(T=l.DMA_MessHallStation.instance.OrderEstablish(),h.UI_Events.instance.emitEvents("V_MessHallStationPre_RefreshUI_lower"),h.UI_Events.instance.emitEvents("V_MessHallStationPre_RefreshUI_upLevel"),1==T.code){i.Jiao_.active=!1,i.food_.active=!0;for(var e=0;e<4;e++)e<T.id.length?(i.icon_[e].active=!0,d.UI_Manager.instance.loadNewReleaseOld(i.icon_[e],"texture/goods/"+T.id[e],null,!1)):i.icon_[e].active=!1;var a=null;a=t<=5?cc.find("Canvas/UIMap/CanZhuo/children0/Zhuo").children[t]:cc.find("Canvas/UIMap/CanZhuo/children1/Zhuo").children[t-6],i.scheduleOnce(function(){i.Spine_.setAnimation(0,"c_eat",!0),d.UI_Manager.instance.loadNewReleaseOld(a,"texture/goods/"+T.id[0],null,!1),i.food_.active=!1,i.scheduleOnce(function(){d.UI_Manager.instance.loadNewReleaseOld(a,"",null,!1),i.Jiao_.active=!0,i.Jiao_.y=120,i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.guest_4."+r.FuncCommon.random(1,10)),U()},b)},k)}else i.Jiao_.y=120,i.TXT_.getComponent(cc.Label).string=o.i18nMgr._getString("secretary.guest_3."+r.FuncCommon.random(1,10)),U()}).start()},function(){cc.Tween.stopAllByTarget(i.node),cc.tween(i.node).call(function(){i.scheduleOnce(function(){i.TXT_.getComponent(cc.Label).string="",i.Jiao_.active=!1},3),a(e,t),i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=1,i.node.parent=cc.find("Canvas/UIMap/NpcAnimationNode"),i.node.setPosition(i.ShiTanBuPos[t][2]),h.UI_Events.instance.emitEvents("NPC_dropLitter")}).to(I,{position:i.ShiTanBuPos[t][1]}).call(function(){i.Spine_.setAnimation(0,"z_walk",!0),i.node.getChildByName("Spine").scaleX=1}).to(S,{position:i.ShiTanBuPos[t][0]}).call(function(){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-1}).to(B,{position:i.endPos}).call(function(){_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineGuest",i.node)}).start()});D()}else if(2==e){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=1;g=i.otherPos[t][0].sub(i.startPos).mag()/i.speed,p=i.otherPos[t][0].sub(i.otherPos[t][1]).mag()/i.speed;var P=i.otherPos[t][1].sub(i.otherPos[t][2]).mag()/i.speed,G=i.otherPos[t][0].sub(i.endPos).mag()/i.speed;cc.tween(i.node).to(g,{position:i.otherPos[t][0]}).call(function(){i.Spine_.setAnimation(0,"b_walk",!0)}).to(p,{position:i.otherPos[t][1]}).call(function(){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=i.otherPos[t][3]}).to(P,{position:i.otherPos[t][2]}).call(function(){a(e,t),i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-i.otherPos[t][3],h.UI_Events.instance.emitEvents("NPC_dropLitter")}).to(P,{position:i.otherPos[t][1]}).call(function(){i.Spine_.setAnimation(0,"z_walk",!0),i.node.getChildByName("Spine").scaleX=1}).to(p,{position:i.otherPos[t][0]}).call(function(){i.Spine_.setAnimation(0,"c_walk",!0),i.node.getChildByName("Spine").scaleX=-1}).to(G,{position:i.endPos}).call(function(){_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineGuest",i.node)}).start()}})},n([g({type:sp.Skeleton,displayName:"Spine_",tooltip:"spine\u52a8\u753b"})],t.prototype,"Spine_",void 0),n([g({type:cc.Node,displayName:"Jiao_",tooltip:""})],t.prototype,"Jiao_",void 0),n([g({type:cc.Node,displayName:"TXT_",tooltip:""})],t.prototype,"TXT_",void 0),n([g({type:cc.Node,displayName:"food_",tooltip:""})],t.prototype,"food_",void 0),n([g({type:cc.Node,displayName:"icon_",tooltip:""})],t.prototype,"icon_",void 0),t=n([u],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../Model/M_Basics/CommonFun":"CommonFun","../Model/M_config/RoomConfig":"RoomConfig","../Model/M_instance/DMA_Canteen":"DMA_Canteen","../Model/M_instance/DMA_MessHallStation":"DMA_MessHallStation","../i18n/i18nMgr":"i18nMgr","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_ObjectPool":"UI_ObjectPool"}],V_StorageRoomChildrenPre:[function(e,t,a){"use strict";cc._RF.push(t,"1b698JZJi9NK6HfZ2Q6fDLR","V_StorageRoomChildrenPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_config/BasicsConfig"),c=e("../../Model/M_instance/DMA_StorageRoom"),l=e("../currency/UI_Events"),h=e("../currency/UI_Manager"),d=e("../currency/UI_PlayMS"),_=cc._decorator,m=_.ccclass,u=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CategoryID=0,t.sortArr=[],t}return i(t,e),t.prototype.setData=function(e,t,a){this.CategoryID=e,this.sortArr=a,this.node.getChildByName("Btn").off(cc.Node.EventType.TOUCH_END,this.SelectedEvent,this);var i=r.GameData.instance.sortItem[this.sortArr[this.CategoryID]][t],n=c.DMA_StorageRoom.instance.ViewItemNumber(i);h.UI_Manager.instance.loadNewReleaseOld(this.node.getChildByName("icon"),"texture/goods/"+i,null,!1),this.node.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+i+"._Name"),this.node.getChildByName("Num_").getComponent(cc.Label).string="x"+n+" ","material"!=s.BasicsConfig.Item_config[i].Type&&(this.node.getChildByName("Btn").TypeId=this.CategoryID,this.node.getChildByName("Btn").PosId=t,this.node.getChildByName("Btn").itemId=i,this.node.getChildByName("Btn").on(cc.Node.EventType.TOUCH_END,this.SelectedEvent,this)),this.node.getChildByName("JiaGe_").getComponent(cc.Label).string="",n<=0&&(this.node.active=!1)},t.prototype.SelectedEvent=function(e){d.UI_PlayMS.instance.playSound("button"),cc.log(e.target.TypeId,e.target.PosId,e.target.itemId),l.UI_Events.instance.emitEvents("V_StorageRoomPre_OPenChuShou",{itemId:e.target.itemId,PosId:e.target.PosId})},t=n([m],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],"V_StorageRoomPre - 001":[function(e,t,a){"use strict";cc._RF.push(t,"86f62ZQQDlHyZetlzzIzoxC","V_StorageRoomPre - 001");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_config/BasicsConfig"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_StorageRoom"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CategoryList=null,t.listNode=null,t._level=null,t._capacity=null,t._UpBtn=null,t._SellNode=null,t.CategoryID=0,t.sortArr=[],t}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.sortArr=Object.keys(r.GameData.instance.sortItem),this.CategoryID=e.MainType,this.CategoryList=cc.find("Canvas/UIAddNode/StorageRoomPre/Btnlist"),this.listNode=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ScrollView/view/content"),this._level=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/Level_"),this._capacity=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/capacity"),this._UpBtn=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/UpBtn"),this._SellNode=cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode"),this._SellNode.active=!1,this.RefreshUI_left(),this.RefreshUI_goodsList(),this.RefreshLevel();for(var t=this,a=this.sortArr.length,i=function(e){"stall"!=n.sortArr[e]&&n.add_button_Listen(n.CategoryList.children[e].getChildByName("Btn"),n,function(){r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(r.GameData.instance.ClickTimeCount=0,t.CategoryID!=e&&(m.UI_PlayMS.instance.playSound("button"),t.CategoryID=e,t.RefreshUI_left(),t.RefreshUI_goodsList()))},0)},n=this,o=0;o<a;o++)i(o);this.add_button_Listen(this._UpBtn,this,this.FuncUpStorageRoom,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),d.UI_Events.instance.onEvents("V_StorageRoomPre_RefreshLevel",this.RefreshLevel,this),1==r.GameData.instance.IsGuidePattern?this.scheduleOnce(function(){d.UI_Events.instance.emitEvents("Game_startGuide"),d.UI_Events.instance.emitEvents("CloseMask")},.1):d.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){m.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("CloseGamePrefab","StorageRoomPre")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,d.UI_Events.instance.offEvents("V_StorageRoomPre_RefreshLevel",this.RefreshLevel,this)},t.prototype.RefreshUI_left=function(){for(var e=this.sortArr.length,t=0;t<e;t++)"stall"==this.sortArr[t]?this.CategoryList.children[t].active=!1:(this.CategoryList.children[t].active=!0,this.CategoryList.children[t].getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("itemsort."+this.sortArr[t]),this.CategoryID==t?(this.CategoryList.children[t].getChildByName("icon").active=!1,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(214,173,107)):(this.CategoryList.children[t].getChildByName("icon").active=!0,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(141,129,109)))},t.prototype.RefreshUI_goodsList=function(){for(var e=this.listNode.children.length,t=r.GameData.instance.sortItem[this.sortArr[this.CategoryID]].length,a=Math.max(e,t),i=0;i<a;i++)i<t?(void 0!=this.listNode.children[i]&&null!=this.listNode.children[i]||this.listNode.addChild(cc.instantiate(this.listNode.children[0])),this.listNode.children[i].active=!0,this.ItemDetails(i)):void 0==this.listNode.children[i]||null==this.listNode.children[i]||(this.listNode.children[i].active=!1)},t.prototype.ItemDetails=function(e){this.listNode.children[e].getChildByName("Btn").off(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this);var t=r.GameData.instance.sortItem[this.sortArr[this.CategoryID]][e],a=l.DMA_StorageRoom.instance.ViewItemNumber(t);_.UI_Manager.instance.loadNewReleaseOld(this.listNode.children[e].getChildByName("icon"),"texture/goods/"+t,null,!1),this.listNode.children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+t+"._Name"),this.listNode.children[e].getChildByName("Num_").getComponent(cc.Label).string="x"+a+" ","material"!=s.BasicsConfig.Item_config[t].Type&&(this.listNode.children[e].getChildByName("Btn").TypeId=this.CategoryID,this.listNode.children[e].getChildByName("Btn").PosId=e,this.listNode.children[e].getChildByName("Btn").itemId=t,this.listNode.children[e].getChildByName("Btn").on(cc.Node.EventType.TOUCH_START,this.SelectedEvent,this)),this.listNode.children[e].getChildByName("JiaGe_").getComponent(cc.Label).string="",a<=0&&(this.listNode.children[e].active=!1)},t.prototype.RefreshLevel=function(){this._level.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.Level",[""+(r.GameData.instance.MasterData.StorageRoomLevel+1)]);var e=l.DMA_StorageRoom.instance.ViewItemTotal(),t=c.RoomConfig.StorageRoom_config[r.GameData.instance.MasterData.StorageRoomLevel].capacity;this._capacity.color=e>t?new cc.Color(160,0,0):new cc.Color(100,30,0),this._capacity.getComponent(cc.Label).string=e+"/"+t},t.prototype.SelectedEvent=function(e){m.UI_PlayMS.instance.playSound("button"),this._SellNode.active=!0;var t=this;this._SellNode.getComponent("V_StorageRoomSellPre").init(e.target.itemId,function(a){t._SellNode.active=!1,1==a&&(t.ItemDetails(e.target.PosId),t.RefreshLevel())})},t.prototype.FuncUpStorageRoom=function(){r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(r.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:1,Subtype:-1}))},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_StorageRoomPre:[function(e,t,a){"use strict";cc._RF.push(t,"d8703490dBED5n6OAbedOxj","V_StorageRoomPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_config/RoomConfig"),c=e("../../Model/M_instance/DMA_StorageRoom"),l=e("../currency/SuperScrollView"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_PlayMS"),m=cc._decorator,u=m.ccclass,g=m.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ndSv=null,t.CategoryList=null,t.listNode=null,t._level=null,t._capacity=null,t._UpBtn=null,t._SellNode=null,t.CategoryID=0,t.sortArr=[],t}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.sortArr=Object.keys(r.GameData.instance.sortItem),this.CategoryID=e.MainType,this.CategoryList=cc.find("Canvas/UIAddNode/StorageRoomPre/Btnlist"),this.listNode=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ScrollView/view/content"),this._level=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/Level_"),this._capacity=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/capacity"),this._UpBtn=cc.find("Canvas/UIAddNode/StorageRoomPre/DiBan/ShuoMing/UpBtn"),this._SellNode=cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode"),this._SellNode.active=!1,this.RefreshUI_left(),this.RefreshUI_goodsList(),this.RefreshLevel();for(var t=this,a=this.sortArr.length,i=function(e){"stall"!=n.sortArr[e]&&n.add_button_Listen(n.CategoryList.children[e].getChildByName("Btn"),n,function(){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else if(r.GameData.instance.ClickTimeCount=0,t.CategoryID!=e){if(!t.ndSv.canInputData())return void cc.log("\u6b63\u5728\u52a0\u8f7d\u4e2d");_.UI_PlayMS.instance.playSound("button"),t.CategoryID=e,t.RefreshUI_left(),t.RefreshUI_goodsList()}},0)},n=this,o=0;o<a;o++)i(o);this.add_button_Listen(this._UpBtn,this,this.FuncUpStorageRoom,0),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),d.UI_Events.instance.onEvents("V_StorageRoomPre_RefreshLevel",this.RefreshLevel,this),d.UI_Events.instance.onEvents("V_StorageRoomPre_OPenChuShou",this.OPenChuShou,this)},t.prototype.CloseFunc=function(){_.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("CloseGamePrefab","StorageRoomPre")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,d.UI_Events.instance.offEvents("V_StorageRoomPre_RefreshLevel",this.RefreshLevel,this),d.UI_Events.instance.offEvents("V_StorageRoomPre_OPenChuShou",this.OPenChuShou,this)},t.prototype.RefreshUI_left=function(){for(var e=this.sortArr.length,t=0;t<e;t++)"stall"==this.sortArr[t]?this.CategoryList.children[t].active=!1:(this.CategoryList.children[t].active=!0,this.CategoryList.children[t].getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("itemsort."+this.sortArr[t]),this.CategoryID==t?(this.CategoryList.children[t].getChildByName("icon").active=!1,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(214,173,107)):(this.CategoryList.children[t].getChildByName("icon").active=!0,this.CategoryList.children[t].getChildByName("TXT").color=new cc.Color(141,129,109)))},t.prototype.RefreshUI_goodsList=function(){d.UI_Events.instance.emitEvents("OpenMask"),this.listNode.y=0;var e=this,t=r.GameData.instance.sortItem[e.sortArr[e.CategoryID]].length,a=e.listNode.children.length;if(a>=t){cc.log("\u5b58\u5728\u5927\u4e8e\u9700\u8981");for(var i=0;i<a;i++)i<t?(e.listNode.children[i].active=!0,e.listNode.children[i].getComponent("V_StorageRoomChildrenPre").setData(e.CategoryID,i,e.sortArr)):e.listNode.children[i].active=!1;d.UI_Events.instance.emitEvents("CloseMask"),e.ndSv.improveDC()}else if(a<t){if(cc.log("\u5b58\u5728\u5c0f\u4e8e\u9700\u8981"),a>0)for(i=0;i<a;i++)e.listNode.children[i].active=!0,e.listNode.children[i].getComponent("V_StorageRoomChildrenPre").setData(e.CategoryID,i,e.sortArr);e.ndSv.setData(t-a,!0,!1,function(t,i){t.active=!0,t.getComponent("V_StorageRoomChildrenPre").setData(e.CategoryID,i+a,e.sortArr)},function(){d.UI_Events.instance.emitEvents("CloseMask"),1==r.GameData.instance.IsGuidePattern&&d.UI_Events.instance.emitEvents("Game_startGuide")})}},t.prototype.RefreshLevel=function(){this._level.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.Level",[""+(r.GameData.instance.MasterData.StorageRoomLevel+1)]);var e=c.DMA_StorageRoom.instance.ViewItemTotal(),t=s.RoomConfig.StorageRoom_config[r.GameData.instance.MasterData.StorageRoomLevel].capacity;this._capacity.color=e>t?new cc.Color(160,0,0):new cc.Color(100,30,0),this._capacity.getComponent(cc.Label).string=e+"/"+t},t.prototype.FuncUpStorageRoom=function(){r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(r.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"UpgradeBuildingPre",MainType:1,Subtype:-1}))},t.prototype.OPenChuShou=function(e){this._SellNode.active=!0;var t=this;this._SellNode.getComponent("V_StorageRoomSellPre").init(e.itemId,function(a){t._SellNode.active=!1,1==a&&(t.listNode.children[e.PosId].getComponent("V_StorageRoomChildrenPre").setData(t.CategoryID,e.PosId,t.sortArr),t.RefreshLevel())})},n([g(l.default)],t.prototype,"ndSv",void 0),t=n([u],t)}(h.default);a.default=p,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../i18n/i18nMgr":"i18nMgr","../currency/SuperScrollView":"SuperScrollView","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_PlayMS":"UI_PlayMS"}],V_StorageRoomSellPre:[function(e,t,a){"use strict";cc._RF.push(t,"d6c03w9rxlJcYmMGLV1idsu","V_StorageRoomSellPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_instance/DMA_StorageRoom"),h=e("../../Model/network/GameSDK"),d=e("../currency/UI_Manager"),_=e("../currency/UI_PlayMS"),m=cc._decorator,u=m.ccclass,g=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EditBox=null,t.price_=null,t._Block=null,t._itemId="",t.sum=0,t.count=0,t.LastCount=0,t.univalence=0,t}return i(t,e),t.prototype.init=function(e,t){this._itemId=e,this._Block=t,this.sum=l.DMA_StorageRoom.instance.ViewItemNumber(e),this.count=Math.ceil(this.sum/2),this.LastCount=this.count,this.univalence=s.GameData.instance.foodPrice[e]*s.GameData.instance.basePrice_CangKu,this.EditBox=cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/Di/EditBox"),this.price_=cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/node/Btn_Sell/Num_"),cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/node/Btn_SellVideo").active=c.VideoSwitch.instance.StorageRoomOnekeyDouble,d.UI_Manager.instance.loadNewReleaseOld(cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/shang/Kuang/icon"),"texture/goods/"+e,null,!1),cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/Tittle/TXT").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Name"),cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/shang/Kuang/describe").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e+"._Describe"),cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/shang/Kuang/Num").getComponent(cc.Label).string="x"+this.sum,this.EditBox.getComponent(cc.EditBox).string=""+this.count,this.price_.getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_2(this.count*this.univalence)},t.prototype.funClose=function(){_.UI_PlayMS.instance.playSound("button"),this._Block(!1)},t.prototype.increase_Btn=function(){this.count<this.sum&&(_.UI_PlayMS.instance.playSound("button"),this.count++,this.LastCount=this.count,this.EditBox.getComponent(cc.EditBox).string=""+this.count,this.price_.getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_2(this.count*this.univalence))},t.prototype.reduce_Btn=function(){this.count>1&&(_.UI_PlayMS.instance.playSound("button"),this.count--,this.LastCount=this.count,this.EditBox.getComponent(cc.EditBox).string=""+this.count,this.price_.getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_2(this.count*this.univalence))},t.prototype.inputData=function(){var e=this.EditBox.getComponent(cc.EditBox).string;/^[0-9]*$/.test(e)?(this.count=Number(e),this.count>=this.sum&&(this.count=this.sum),this.count<1&&(this.count=1),this.EditBox.getComponent(cc.EditBox).string=""+this.count,this.LastCount=this.count):(this.EditBox.getComponent(cc.EditBox).string=""+this.LastCount,d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("InputNumber")))},t.prototype.sell_Btn=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button");var e=this.count*this.univalence;s.GameData.instance.setGameCash(e),l.DMA_StorageRoom.instance.ModifyNum(this._itemId,0-this.count),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/node/Btn_Sell"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",e),this._Block(!0)}},t.prototype.Video_Btn=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button");var e=this;h.default.postEvent2("ads_start_position",16),h.default.FcunVideoTsOc(function(t){switch(t){case 0:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var a=e.count*e.univalence;s.GameData.instance.setGameCash(2*a),l.DMA_StorageRoom.instance.ModifyNum(e._itemId,0-e.count),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode/StorageRoomPre/SellNode/DiBan/node/Btn_SellVideo"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",2*a),e._Block(!0),h.default.postEvent2("ads_finish_position",16);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t=n([u],t)}(cc.Component));a.default=g,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_TransitStationPre:[function(e,t,a){"use strict";cc._RF.push(t,"e2de5eTL/9Et5vTzlm93vLm","V_TransitStationPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../currency/UI_Ctrl"),r=e("../currency/UI_Events"),s=e("../currency/UI_PlayMS"),c=cc._decorator,l=c.ccclass,h=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),r.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){s.UI_PlayMS.instance.playSound("button"),r.UI_Events.instance.emitEvents("CloseGamePrefab","TransitStationPre")},t=n([l],t)}(o.default));a.default=h,cc._RF.pop()},{"../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_PlayMS":"UI_PlayMS"}],V_UpgradeBuildingPre:[function(e,t,a){"use strict";cc._RF.push(t,"48a4bArCDlAo5hfMEmyE2Pq","V_UpgradeBuildingPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/RoomConfig"),l=e("../../Model/M_instance/DMA_Canteen"),h=e("../../Model/M_instance/DMA_DeliverGoods"),d=e("../../Model/M_instance/DMA_FreightStation"),_=e("../../Model/M_instance/DMA_KitchenRoom"),m=e("../../Model/M_instance/DMA_MessHallStation"),u=e("../../Model/M_instance/DMA_RarbageStation"),g=e("../../Model/M_instance/DMA_StorageRoom"),p=e("../../Model/M_instance/DMA_TransitStation"),f=e("../currency/UI_Ctrl"),C=e("../currency/UI_Events"),y=e("../currency/UI_Manager"),D=e("../currency/UI_PlayMS"),v=cc._decorator,M=v.ccclass,S=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Tittle=null,t._Level=null,t._icon=null,t._describe=null,t._attribute=null,t._material=null,t._upBtn=null,t._UnlockTips=null,t._Type=0,t}return i(t,e),t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this._Type=e.MainType,this._Tittle=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/Tittle/TXT"),this._Level=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/shang/Level"),this._icon=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/shang/icon"),this._describe=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/shang/Tips/Tips1"),this._attribute=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/shang/Tips/Tips2"),this._material=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/xia/node"),this._upBtn=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/UpBtn"),this._UnlockTips=cc.find("Canvas/UIAddNode/UpgradeBuildingPre/DiBan/UnlockTips"),this.UIInitialize(),this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),this.add_button_Listen(this._upBtn,this,this.Fun_upBtn,0),C.UI_Events.instance.emitEvents("CloseMask")},t.prototype.CloseFunc=function(){D.UI_PlayMS.instance.playSound("button"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre")},t.prototype.UIInitialize=function(){var e=null,t=0;switch(this._Type){case 0:this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.TITTLE"),t=s.GameData.instance.MasterData.KitchenRoomLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("Kitchen.UpTips"),this._attribute.getComponent(cc.Label).string="",-1==s.GameData.instance.MasterData.KitchenRoomLevel?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_ChuFang0",null,!1),e=c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):s.GameData.instance.MasterData.KitchenRoomLevel+1==c.RoomConfig.KitchenRoom_config.length?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_ChuFang"+Math.floor(s.GameData.instance.MasterData.KitchenRoomLevel/2),null,!1),e=c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel")):(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_ChuFang"+Math.floor(s.GameData.instance.MasterData.KitchenRoomLevel/2),null,!1),e=c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="");break;case 1:this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.TITTLE"),t=s.GameData.instance.MasterData.StorageRoomLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.UpTips"),-1==s.GameData.instance.MasterData.StorageRoomLevel?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_KuFang0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.attribute1",[""+c.RoomConfig.StorageRoom_config[0].capacity]),e=c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):s.GameData.instance.MasterData.StorageRoomLevel+1==c.RoomConfig.StorageRoom_config.length?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_KuFang"+Math.floor(s.GameData.instance.MasterData.StorageRoomLevel/4),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.attribute1",[""+c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel].capacity]),e=c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel")):(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_KuFang"+Math.floor(s.GameData.instance.MasterData.StorageRoomLevel/4),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("StorageRoom.attribute1",[""+c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel].capacity])+o.i18nMgr._getString("StorageRoom.attribute11",[""+c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel+1].capacity]),e=c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.StorageRoom_config[s.GameData.instance.MasterData.StorageRoomLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="");break;case 3:this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.TITTLE"),t=s.GameData.instance.MasterData.FreightStationLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.Tips"),-1==s.GameData.instance.MasterData.FreightStationLevel?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_HuoYunZhan0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.attribute_1",[""+c.RoomConfig.freightStation_config[0].Income])+"\n"+o.i18nMgr._getString("transportCar.attribute_2",[""+c.RoomConfig.freightStation_config[0].Num])+"\n"+o.i18nMgr._getString("transportCar.attribute_3",[""+c.RoomConfig.freightStation_config[0].Cycle]),e=c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):s.GameData.instance.MasterData.FreightStationLevel+1==c.RoomConfig.freightStation_config.length?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_HuoYunZhan"+Math.floor(s.GameData.instance.MasterData.FreightStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.attribute_1",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Income])+"\n"+o.i18nMgr._getString("transportCar.attribute_2",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Num])+"\n"+o.i18nMgr._getString("transportCar.attribute_3",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Cycle]),e=c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel")):(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_HuoYunZhan"+Math.floor(s.GameData.instance.MasterData.FreightStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transportCar.attribute_1",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Income])+o.i18nMgr._getString("transportCar.attribute_11",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].Income])+"\n"+o.i18nMgr._getString("transportCar.attribute_2",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Num])+o.i18nMgr._getString("transportCar.attribute_22",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].Num])+"\n"+o.i18nMgr._getString("transportCar.attribute_3",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel].Cycle])+o.i18nMgr._getString("transportCar.attribute_33",[""+c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].Cycle]),e=c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="");break;case 2:this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.TITTLE"),t=s.GameData.instance.MasterData.CanteenLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.UpTips"),-1==s.GameData.instance.MasterData.CanteenLevel?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_XiaoMaiBu0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.attribute_1",[""+c.RoomConfig.Canteen_config[0].num])+"\n"+o.i18nMgr._getString("Canteen.attribute_2",[""+c.RoomConfig.Canteen_config[0].income])+"\n"+o.i18nMgr._getString("Canteen.attribute_3",[""+c.RoomConfig.Canteen_config[0].waiting]),e=c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):s.GameData.instance.MasterData.CanteenLevel+1==c.RoomConfig.Canteen_config.length?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_XiaoMaiBu"+Math.floor(s.GameData.instance.MasterData.CanteenLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.attribute_1",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].num])+"\n"+o.i18nMgr._getString("Canteen.attribute_2",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].income])+"\n"+o.i18nMgr._getString("Canteen.attribute_3",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].waiting]),e=c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel")):(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_XiaoMaiBu"+Math.floor(s.GameData.instance.MasterData.CanteenLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("Canteen.attribute_1",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].num])+o.i18nMgr._getString("Canteen.attribute_11",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].num])+"\n"+o.i18nMgr._getString("Canteen.attribute_2",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].income])+o.i18nMgr._getString("Canteen.attribute_22",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].income])+"\n"+o.i18nMgr._getString("Canteen.attribute_3",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel].waiting])+o.i18nMgr._getString("Canteen.attribute_33",[""+c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].waiting]),e=c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="");break;case 4:this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.TITTLE"),t=s.GameData.instance.MasterData.messHallStationLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.Tips"),-1==s.GameData.instance.MasterData.messHallStationLevel?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_CanGuan0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.attribute_1",[""+c.RoomConfig.messHallStation_config[0].Cycle])+"\n"+o.i18nMgr._getString("MessHallStatio.attribute_2",[""+c.RoomConfig.messHallStation_config[0].Income]),e=c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):s.GameData.instance.MasterData.messHallStationLevel+1==c.RoomConfig.messHallStation_config.length?(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_CanGuan"+Math.floor(s.GameData.instance.MasterData.messHallStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.attribute_1",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].Cycle])+"\n"+o.i18nMgr._getString("MessHallStatio.attribute_2",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].Income]),e=c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel")):(y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_CanGuan"+Math.floor(s.GameData.instance.MasterData.messHallStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("MessHallStatio.attribute_1",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].Cycle])+o.i18nMgr._getString("MessHallStatio.attribute_11",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].Cycle])+"\n"+o.i18nMgr._getString("MessHallStatio.attribute_2",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel].Income])+o.i18nMgr._getString("MessHallStatio.attribute_22",[""+c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].Income]),e=c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="");break;case 5:if(this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.TITTLE"),t=s.GameData.instance.MasterData.rarbageStationLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.Tips"),-1==s.GameData.instance.MasterData.rarbageStationLevel)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_LaJiZhan0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.attribute1",[""+c.RoomConfig.rarbageStation_config[0].capacity])+"\n"+o.i18nMgr._getString("rarbageStation.attribute2",[""+c.RoomConfig.rarbageStation_config[0].Income]),e=c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="";else if(s.GameData.instance.MasterData.rarbageStationLevel+1==c.RoomConfig.rarbageStation_config.length)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_LaJiZhan"+Math.floor(s.GameData.instance.MasterData.rarbageStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.attribute1",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel].capacity])+"\n"+o.i18nMgr._getString("rarbageStation.attribute2",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel].Income]),e=c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel");else{y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_LaJiZhan"+Math.floor(s.GameData.instance.MasterData.rarbageStationLevel/2),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("rarbageStation.attribute1",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel].capacity])+o.i18nMgr._getString("rarbageStation.attribute11",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].capacity])+"\n"+o.i18nMgr._getString("rarbageStation.attribute2",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel].Income])+o.i18nMgr._getString("rarbageStation.attribute22",[""+c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].Income]),e=c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].material;var a=c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].unlock;s.GameData.instance.MasterData.MainRoomLevel>=a?(this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):(this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(a+1)]))}break;case 6:if(this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("logistics.TITTLE"),t=s.GameData.instance.MasterData.deliverGoodsLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("logistics.Tips2"),-1==s.GameData.instance.MasterData.deliverGoodsLevel)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_WuLiuZhongXin0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("logistics.attribute1",[""+c.RoomConfig.deliverGoods_config[0].Cycle])+"\n"+o.i18nMgr._getString("logistics.attribute2",[""+c.RoomConfig.deliverGoods_config[0].Income]),e=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="";else if(s.GameData.instance.MasterData.deliverGoodsLevel+1==c.RoomConfig.deliverGoods_config.length)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_WuLiuZhongXin"+Math.floor(s.GameData.instance.MasterData.deliverGoodsLevel/3),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("logistics.attribute1",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Cycle])+"\n"+o.i18nMgr._getString("logistics.attribute2",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Income]),e=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel");else{y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_WuLiuZhongXin"+Math.floor(s.GameData.instance.MasterData.deliverGoodsLevel/3),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("logistics.attribute1",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Cycle])+o.i18nMgr._getString("logistics.attribute11",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].Cycle])+"\n"+o.i18nMgr._getString("logistics.attribute2",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel].Income])+o.i18nMgr._getString("logistics.attribute22",[""+c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].Income]),e=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].material;a=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].unlock;s.GameData.instance.MasterData.MainRoomLevel>=a?(this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):(this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(a+1)]))}break;case 7:if(this._Tittle.getComponent(cc.Label).string=o.i18nMgr._getString("transitStation.TITTLE"),t=s.GameData.instance.MasterData.transitStationLevel+1,this._describe.getComponent(cc.Label).string=o.i18nMgr._getString("transitStation.Tips"),-1==s.GameData.instance.MasterData.transitStationLevel)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_GongJiaoZhan0",null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transitStation.attribute1",[""+c.RoomConfig.transitStation_config[0].Cycle])+"\n"+o.i18nMgr._getString("transitStation.attribute2",[""+c.RoomConfig.transitStation_config[0].numGuest]),e=c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].material,this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("build"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string="";else if(s.GameData.instance.MasterData.transitStationLevel+1==c.RoomConfig.transitStation_config.length)y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_GongJiaoZhan"+Math.floor(s.GameData.instance.MasterData.transitStationLevel/3),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transitStation.attribute1",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].Cycle])+"\n"+o.i18nMgr._getString("transitStation.attribute2",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].numGuest]),e=c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].material,this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("MaxLevel");else{y.UI_Manager.instance.loadNewReleaseOld(this._icon,"texture/icon/icon_GongJiaoZhan"+Math.floor(s.GameData.instance.MasterData.transitStationLevel/3),null,!1),this._attribute.getComponent(cc.Label).string=o.i18nMgr._getString("transitStation.attribute1",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].Cycle])+o.i18nMgr._getString("transitStation.attribute11",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].Cycle])+"\n"+o.i18nMgr._getString("transitStation.attribute2",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].numGuest])+o.i18nMgr._getString("transitStation.attribute22",[""+c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].numGuest]),e=c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].material;a=c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].unlock;s.GameData.instance.MasterData.MainRoomLevel>=a?(this._upBtn.active=!0,this._upBtn.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("upgrade"),this._upBtn.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(c.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel+1].Price),this._UnlockTips.getComponent(cc.Label).string=""):(this._upBtn.active=!1,this._UnlockTips.getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+(a+1)]))}}this._Level.getComponent(cc.Label).string=0==t?"":"Lv."+t;var i=0;for(var n in e){y.UI_Manager.instance.loadNewReleaseOld(this._material.children[i].getChildByName("icon"),"texture/goods/"+n,null,!1);var l=g.DMA_StorageRoom.instance.ViewItemNumber(n),h=o.i18nMgr._getString("item."+n+"._Name");l>=e[n]?this._material.children[i].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+h+"</color><color=#99e06e><outline color= #233e10 width=2 >"+l+"/"+e[n]+"</outline></color>":this._material.children[i].getChildByName("cycle_").getComponent(cc.RichText).string="<color=#FFF2CE>"+h+"</color><color=#EE7171><outline color= #442812 width=2 >"+l+"/"+e[n]+"</outline></color>",i++}},t.prototype.Fun_upBtn=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0;var e=this;switch(D.UI_PlayMS.instance.playSound("button"),this._Type){case 0:switch(_.DMA_KitchenRoom.instance.UpKitchenRoom()){case 0:C.UI_Events.instance.emitEvents("V_KitchenRoomPre_RefreshUI_left"),C.UI_Events.instance.emitEvents("V_KitchenRoomPre_RefreshUI_lower"),C.UI_Events.instance.emitEvents("V_KitchenRoomPre_RefreshUI_upLevel"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_ChuFang"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 1:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 2:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")});break;case 3:var t=c.RoomConfig.KitchenRoom_config[s.GameData.instance.MasterData.KitchenRoomLevel+1].UnlockLevel;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]))}break;case 1:switch(g.DMA_StorageRoom.instance.UpgradeStorageRoom()){case 0:C.UI_Events.instance.emitEvents("V_StorageRoomPre_RefreshLevel"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_KuFang"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")})}break;case 2:switch(l.DMA_Canteen.instance.upCanteen()){case 0:C.UI_Events.instance.emitEvents("V_CanteenPre_RefreshUI_sort"),C.UI_Events.instance.emitEvents("V_CanteenPre_RefreshUI_Level"),0==s.GameData.instance.MasterData.CanteenLevel&&C.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"CanteenPre",MainType:-1,Subtype:-1}),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_XiaoMaiBu"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:t=c.RoomConfig.Canteen_config[s.GameData.instance.MasterData.CanteenLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]));break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 4:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")});break;case 5:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("transitStation.Tips2"),function(t){t&&(e._Type=7,e.UIInitialize())})}break;case 3:switch(d.DMA_FreightStation.instance.UpFreightStation()){case 0:C.UI_Events.instance.emitEvents("V_FreightStationPre_RefreshUI_orderList"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_HuoYuanZhan"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")});break;case 4:t=c.RoomConfig.freightStation_config[s.GameData.instance.MasterData.FreightStationLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]))}break;case 4:switch(m.DMA_MessHallStation.instance.UpMessHall()){case 0:C.UI_Events.instance.emitEvents("V_MessHallStationPre_RefreshUI_Medium"),C.UI_Events.instance.emitEvents("V_MessHallStationPre_RefreshUI_lower"),C.UI_Events.instance.emitEvents("V_MessHallStationPre_RefreshUI_upLevel"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_CanGuan"),0==s.GameData.instance.MasterData.messHallStationLevel&&(C.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"MessHallStationPre",MainType:-1,Subtype:-1}),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_CanGuanZhuoYi")),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:t=c.RoomConfig.messHallStation_config[s.GameData.instance.MasterData.messHallStationLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]));break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 4:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")});break;case 5:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("transitStation.Tips2"),function(t){t&&(e._Type=7,e.UIInitialize())})}break;case 5:switch(u.DMA_RarbageStation.instance.UpgradeRarbageStation()){case 0:C.UI_Events.instance.emitEvents("V_RarbageStationPre_RefreshRarbageList"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_LaJiZhan"),0==s.GameData.instance.MasterData.rarbageStationLevel&&C.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"RarbageStationPre",MainType:-1,Subtype:-1}),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:t=c.RoomConfig.rarbageStation_config[s.GameData.instance.MasterData.rarbageStationLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]));break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 4:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")})}break;case 6:switch(h.DMA_DeliverGoods.instance.UpBuyDeliverGoods()){case 0:C.UI_Events.instance.emitEvents("V_DeliverGoodsPre_RefreshOrderList"),C.UI_Events.instance.emitEvents("V_DeliverGoodsPre_RefreshDeliverLevel"),C.UI_Events.instance.emitEvents("Game_BuildingRefresh_WuLiuZhongXin"),0==s.GameData.instance.MasterData.deliverGoodsLevel&&C.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"DeliverGoodsPre",MainType:-1,Subtype:-1}),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:t=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.deliverGoodsLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]));break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 4:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")})}break;case 7:switch(p.DMA_TransitStation.instance.UpBuyTransitStation()){case 0:C.UI_Events.instance.emitEvents("Game_BuildingRefresh_GongJiaoZhan"),C.UI_Events.instance.emitEvents("CloseGamePrefab","UpgradeBuildingPre");break;case 2:t=c.RoomConfig.deliverGoods_config[s.GameData.instance.MasterData.transitStationLevel+1].unlock;y.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("unlockLevel",[""+(t+1)]));break;case 3:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Cash_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_Cash")});break;case 4:y.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("material_isUp"),function(e){1==e&&C.UI_Events.instance.emitEvents("openRecharge_material")})}}}},t=n([M],t)}(f.default));a.default=S,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_Canteen":"DMA_Canteen","../../Model/M_instance/DMA_DeliverGoods":"DMA_DeliverGoods","../../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../../Model/M_instance/DMA_KitchenRoom":"DMA_KitchenRoom","../../Model/M_instance/DMA_MessHallStation":"DMA_MessHallStation","../../Model/M_instance/DMA_RarbageStation":"DMA_RarbageStation","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMA_TransitStation":"DMA_TransitStation","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_VideoDoubleHarvestPre:[function(e,t,a){"use strict";cc._RF.push(t,"32948XNhn9LqZNvYt8X4qqY","V_VideoDoubleHarvestPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_instance/DMA_StorageRoom"),c=e("../../Model/network/GameSDK"),l=e("../currency/UI_Manager"),h=e("../currency/UI_PlayMS"),d=cc._decorator,_=d.ccclass,m=d.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.type=0,t.Data=null,t.total=0,t}return i(t,e),t.prototype.init=function(e){this.type=e.Type,this.Data=e.data;var t=0;for(var a in e.data)this.container.children[t].active=!0,l.UI_Manager.instance.loadNewReleaseOld(this.container.children[t].getChildByName("icon"),"texture/goods/"+a,null,!1),this.container.children[t].getChildByName("cycle_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+a+"._Name")+" x"+e.data[a],this.total+=e.data[a],t++;for(var i=t;i<22;i++)this.container.children[i].active=!1},t.prototype.CloseFunc=function(){h.UI_PlayMS.instance.playSound("button"),this.node.active=!1},t.prototype.DoubleHarvestFunc=function(){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else if(r.GameData.instance.ClickTimeCount=0,h.UI_PlayMS.instance.playSound("button"),s.DMA_StorageRoom.instance.ViewResidualCapacity()<this.total)l.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"));else{var e=this;switch(e.type){case 0:c.default.postEvent2("ads_start_position",8);break;case 1:c.default.postEvent2("ads_start_position",9);break;case 2:c.default.postEvent2("ads_start_position",10)}c.default.FcunVideoTsOc(function(t){switch(t){case 0:l.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:h.UI_PlayMS.instance.playSound("confirm");var a=0;for(var i in e.Data)s.DMA_StorageRoom.instance.ModifyNum(i,e.Data[i]),l.UI_Manager.instance.AddFloatSprite(.5,e.container.children[a],cc.find("Canvas/UIMap/CangKu"),"texture/goods/"+i,e.Data[i]),a++;switch(e.node.active=!1,l.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),e.type){case 0:c.default.postEvent2("ads_finish_position",8);break;case 1:c.default.postEvent2("ads_finish_position",9);break;case 2:c.default.postEvent2("ads_finish_position",10)}break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},n([m({type:cc.Node,displayName:"container",tooltip:""})],t.prototype,"container",void 0),t=n([_],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_VideoRewardsPre:[function(e,t,a){"use strict";cc._RF.push(t,"591a1Cy/wlDLaRojo4Aj1WY","V_VideoRewardsPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/CommonFun"),s=e("../Model/M_Basics/GameData"),c=e("../Model/M_instance/DMA_StorageRoom"),l=e("../Model/network/GameSDK"),h=e("./currency/UI_Events"),d=e("./currency/UI_Manager"),_=e("./currency/UI_PlayMS"),m=cc._decorator,u=m.ccclass,g=m.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tittle_=[],t.strTips=null,t._type=0,t.Cash=0,t.Gem=0,t}return i(t,e),t.prototype.init=function(e){this._type=e.MainType,this.Gem=5,this.Cash=2*(500+100*s.GameData.instance.MasterData.MainRoomLevel);for(var t=0;t<4;t++)t==this._type?this.Tittle_[t].active=!0:this.Tittle_[t].active=!1;switch(this._type){case 0:this.strTips.getComponent(cc.RichText).string=o.i18nMgr._getString("Gem_Recharge",[""+this.Gem,""+(s.GameData.instance.videoCount.CountMaxNum-s.GameData.instance.videoCount.CountGem)]);break;case 1:this.strTips.getComponent(cc.RichText).string=o.i18nMgr._getString("Cash_Recharge",[""+this.Cash,""+(s.GameData.instance.videoCount.CountMaxNum-s.GameData.instance.videoCount.CountCash)]);break;case 2:this.strTips.getComponent(cc.RichText).string=o.i18nMgr._getString("material_Recharge",["1"]);break;case 3:this.strTips.getComponent(cc.RichText).string=o.i18nMgr._getString("physical_Recharge",["5"])}h.UI_Events.instance.emitEvents("CloseMask")},t.prototype.Btn_No=function(){_.UI_PlayMS.instance.playSound("button"),h.UI_Events.instance.emitEvents("CloseGamePrefab","VideoRewardsPre")},t.prototype.Btn_Yes=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{switch(s.GameData.instance.ClickTimeCount=0,_.UI_PlayMS.instance.playSound("button"),this._type){case 0:l.default.postEvent2("ads_start_position",31);break;case 1:l.default.postEvent2("ads_start_position",32);break;case 2:l.default.postEvent2("ads_start_position",33);break;case 3:l.default.postEvent2("ads_start_position",26)}var e=this;l.default.FcunVideoTsOc(function(t){switch(t){case 0:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:switch(e._type){case 0:s.GameData.instance.setGameGem(e.Gem),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode"),cc.find("Canvas/UIBtn/top/GemKuang/icon"),"texture/Home_UI1/icon_gem",e.Gem),s.GameData.instance.RecordVideoSrequency("Gem"),h.UI_Events.instance.emitEvents("CashGem_HongDianTips"),d.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),l.default.postEvent2("ads_finish_position",31);break;case 1:s.GameData.instance.setGameCash(e.Cash),_.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode"),cc.find("Canvas/UIBtn/top/CashKuang/icon"),"texture/Home_UI1/icon_cash",e.Cash),s.GameData.instance.RecordVideoSrequency("Cash"),h.UI_Events.instance.emitEvents("CashGem_HongDianTips"),d.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),l.default.postEvent2("ads_finish_position",32);break;case 2:_.UI_PlayMS.instance.playSound("confirm"),c.DMA_StorageRoom.instance.ModifyNum("material_MuCai",1),c.DMA_StorageRoom.instance.ModifyNum("material_DaoCao",1),c.DMA_StorageRoom.instance.ModifyNum("material_ShaZi",1),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_MuCai",1),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_DaoCao",1),d.UI_Manager.instance.AddFloatSprite(1,cc.find("Canvas/UIAddNode"),cc.find("Canvas/UIMap/CangKu"),"texture/goods/material_ShaZi",1),d.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),l.default.postEvent2("ads_finish_position",33);break;case 3:s.GameData.instance.Energy.Existing+=5,s.GameData.instance.Energy.Existing>s.GameData.instance.Energy.MaxVal&&(s.GameData.instance.Energy.Existing=s.GameData.instance.Energy.MaxVal),r.FuncCommon.setStorage("Energy",s.GameData.instance.Energy),d.UI_Manager.instance.OpenPopup(0,o.i18nMgr._getString("popup_LQXG"),function(){}),l.default.postEvent2("ads_finish_position",26)}h.UI_Events.instance.emitEvents("CloseGamePrefab","VideoRewardsPre");break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},n([g({type:cc.Node,displayName:"Tittle_",tooltip:"\u6807\u9898"})],t.prototype,"Tittle_",void 0),n([g({type:cc.Node,displayName:"strTips",tooltip:"\u63d0\u793a\u5185\u5bb9"})],t.prototype,"strTips",void 0),t=n([u],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../Model/M_Basics/CommonFun":"CommonFun","../Model/M_Basics/GameData":"GameData","../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../Model/network/GameSDK":"GameSDK","../i18n/i18nMgr":"i18nMgr","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_PlayMS":"UI_PlayMS"}],V_farming_seed:[function(e,t,a){"use strict";cc._RF.push(t,"5a27aV1X7VAz6tZMZ1yAkx8","V_farming_seed");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/BasicsConfig"),l=e("../../Model/M_config/RoomConfig"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../../Model/M_instance/DMB_Farming"),_=e("../currency/UI_Ctrl"),m=e("../currency/UI_Events"),u=e("../currency/UI_Manager"),g=e("../currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ListNode=null,t.Hand=null,t.gtPos=-1,t.seedboxArr=[],t.landboxArr=[],t.itemId="",t.seedImg=null,t.isClose=!1,t}return i(t,e),t.prototype.init=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.gtPos=-1,this.seedboxArr=[],this.landboxArr=[],this.itemId="",this.seedImg=null;for(var e=s.GameData.instance.sortItem.farming,t=e.length,a=this.ListNode.children.length,i=0;i<a;i++)i<t?(this.ListNode.children[i].active=!0,this.ListNode.children[i].getChildByName("name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[i]+"._Name"),s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[e[i]].unlock?(this.ListNode.children[i].getChildByName("num_").getComponent(cc.Label).string="x"+h.DMA_StorageRoom.instance.ViewItemNumber(e[i]),this.ListNode.children[i].getChildByName("price_").getComponent(cc.Label).string=""+c.BasicsConfig.Item_config[e[i]].seedPrice,this.ListNode.children[i].getChildByName("cycle_").getComponent(cc.Label).string=""+r.FuncCommon.formatTime1(1e3*c.BasicsConfig.Item_config[e[i]].Cycle),this.ListNode.children[i].getChildByName("Unlock").active=!1,u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Icon"),"texture/goods/%s",e[i],!1)):(this.ListNode.children[i].getChildByName("Unlock").active=!0,this.ListNode.children[i].getChildByName("Unlock").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+c.BasicsConfig.Item_config[e[i]].unlock]),u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Unlock").getChildByName("Icon"),"texture/goods/%s",e[i],!1))):this.ListNode.children[i].active=!1;this.add_button_Listen(this.node,this,this.CloseEvent,0),this.add_button_Listen(this.ListNode,this,this.START_Fun,0),this.add_button_Listen(this.ListNode,this,this.MOVE_Fun,1),this.add_button_Listen(this.ListNode,this,this.END_Fun,2),this.add_button_Listen(this.ListNode,this,this.END_Fun,3),1==s.GameData.instance.IsGuidePattern?(this.Hand.active=!0,this.isClose=!1):(this.Hand.active=!1,this.isClose=!0)},t.prototype.CloseEvent=function(){1==this.isClose&&(g.UI_PlayMS.instance.playSound("button"),this.node.setPosition(0,-2500),this.node.active=!1)},t.prototype.START_Fun=function(e){this.gtPos=-1;var t=s.GameData.instance.sortItem.farming,a=t.length;if(0==this.seedboxArr.length)for(var i=0;i<a;i++)this.seedboxArr[i]=this.ListNode.children[i].getChildByName("Btn").getBoundingBoxToWorld();if(0==this.landboxArr.length){var n=l.RoomConfig.farming_config.length,o=cc.find("Canvas/UIMap/farming");for(i=0;i<n;i++)this.landboxArr[i]=o.children[i].getChildByName("Btn").getBoundingBoxToWorld()}var r=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());for(i=0;i<a;i++)if(this.seedboxArr[i].contains(r)&&s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[t[i]].unlock){this.itemId=t[i],this.seedImg=new cc.Node,this.seedImg.addComponent(cc.Sprite),u.UI_Manager.instance.loadNewReleaseOld(this.seedImg,"texture/goods/AZhongZi_ZuoWu",null,!1),this.seedImg.anchorX=.5,this.seedImg.anchorY=.5,this.seedImg.scale=.75;var h=this.ListNode.children[i].parent.convertToWorldSpaceAR(this.ListNode.children[i].getPosition());this.seedImg.setPosition(h),cc.director.getScene().addChild(this.seedImg)}},t.prototype.MOVE_Fun=function(e){if(""!=this.itemId){var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());this.seedImg&&this.seedImg.setPosition(t);for(var a=l.RoomConfig.farming_config.length,i=0;i<a;i++)this.landboxArr[i].contains(t)&&this.gtPos!==i&&i<d.DMB_Farming.instance.Farming_data.count&&0==d.DMB_Farming.instance.Farming_data.data[i].state&&(cc.log("\u8015\u7530\u4f4d\u7f6e=>"+i),this.gtPos=i,m.UI_Events.instance.emitEvents("V_farming_cropsPlanting",{index:i,itemId:this.itemId}))}},t.prototype.END_Fun=function(e){this.seedImg&&(this.seedImg.destroy(),this.seedImg=null),1==s.GameData.instance.IsGuidePattern&&1==this.isClose&&(m.UI_Events.instance.emitEvents("Game_startGuide"),this.node.setPosition(0,-2500),this.node.active=!1)},n([C({type:cc.Node,displayName:"ListNode",tooltip:"\u5217\u8868"})],t.prototype,"ListNode",void 0),n([C({type:cc.Node,displayName:"Hand",tooltip:"\u624b"})],t.prototype,"Hand",void 0),t=n([f],t)}(_.default);a.default=y,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMB_Farming":"DMB_Farming","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_farming:[function(e,t,a){"use strict";cc._RF.push(t,"0ac80xDprBMybegLicdnALS","V_farming");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_instance/DMB_Farming"),l=e("../currency/UI_Ctrl"),h=e("../currency/UI_Events"),d=e("../currency/UI_Manager"),_=e("../currency/UI_ObjectPool"),m=e("../currency/UI_PlayMS"),u=e("./V_farming_seed"),g=cc._decorator,p=g.ccclass,f=g.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seedList=null,t.BoundingBox=[],t.LastPos=-1,t.dropSprite=[],t.cropsArr={},t.isProp=!1,t}return i(t,e),t.prototype.start=function(){this.seedList.node.active=!1,this.initFirst()},t.prototype.initFirst=function(){this.InitUI(),this.add_button_Listen(this.node,this,this.FuncSTART,0),this.add_button_Listen(this.node,this,this.FuncMOVE,1),this.add_button_Listen(this.node,this,this.FuncEND,2),this.add_button_Listen(this.node,this,this.FuncEND,3),h.UI_Events.instance.onEvents("V_farming_InitUI",this.InitUI,this),h.UI_Events.instance.onEvents("V_farming_playAnimation",this.playAnimation,this),h.UI_Events.instance.onEvents("V_farming_cropsPlanting",this.cropsPlanting,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,h.UI_Events.instance.offEvents("V_farming_InitUI",this.InitUI,this),h.UI_Events.instance.offEvents("V_farming_playAnimation",this.playAnimation,this),h.UI_Events.instance.offEvents("V_farming_cropsPlanting",this.cropsPlanting,this)},t.prototype.RefreshStatus=function(){for(var e=c.DMB_Farming.instance.Farming_data.data.length,t=0;t<e;t++)1==c.DMB_Farming.instance.Farming_data.data[t].state&&(c.DMB_Farming.instance.Farming_data.data[t].endTime>r.GameData.instance.TimeServer||(cc.log("\u8015\u7530"+(t+1)+" \u6210\u719f\u4e86"),c.DMB_Farming.instance.acelerarFarming(t,1),this.playAnimation(t)))},t.prototype.InitUI=function(){for(var e=c.DMB_Farming.instance.Farming_data.data.length,t=this.node.children.length,a=0;a<t;a++)a<e?(this.playAnimation(a),this.node.children[a].getChildByName("Suo").active=!1):a==e?(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!0):a>e&&(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!1)},t.prototype.playAnimation=function(e){var t=c.DMB_Farming.instance.Farming_data.data[e].itemId,a=c.DMB_Farming.instance.Farming_data.data[e].state,i=this;0==a?this.node.children[e].getChildByName("SpineFarming")&&_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineFarming",this.node.children[e].getChildByName("SpineFarming")):void 0==this.node.children[e].getChildByName("SpineFarming")||null==this.node.children[e].getChildByName("SpineFarming")?_.UI_ObjectPool.instance.create_CS_Enemy("SpineFarming",function(n){void 0!=i.node.children[e].getChildByName("SpineFarming")&&null!=i.node.children[e].getChildByName("SpineFarming")||i.node.children[e].addChild(n),1==a?i.node.children[e].getChildByName("SpineFarming").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0):2==a&&i.node.children[e].getChildByName("SpineFarming").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0),cc.log("\u8015\u7530\u5df2\u79cd\u690d \u4e0d\u5b58\u5728\u521b\u5efa",e)}):(1==a?this.node.children[e].getChildByName("SpineFarming").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0):2==a&&this.node.children[e].getChildByName("SpineFarming").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0),cc.log("\u8015\u7530\u5df2\u79cd\u690d \u5b58\u5728",e))},t.prototype.FuncSTART=function(e){this.cropsArr={},this.isProp=!1,this.LastPos=-1;for(var t=c.DMB_Farming.instance.Farming_data.data.length,a=this.node.children.length,i=0;i<a;i++)this.BoundingBox[i]=this.node.children[i].getChildByName("Btn").getBoundingBoxToWorld();var n=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),r=function(e){if(s.BoundingBox[e].contains(n)&&s.LastPos!==e)if(s.LastPos=e,e<t)switch(c.DMB_Farming.instance.Farming_data.data[e].state){case 0:m.UI_PlayMS.instance.playSound("button"),s.seedList.node.setPosition(0,0),s.seedList.node.active=!0,s.seedList.getComponent("V_farming_seed").init();break;case 1:m.UI_PlayMS.instance.playSound("button");var a=s.node.children[e].parent.convertToWorldSpaceAR(s.node.children[e].getPosition()),i=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(a),r=cc.find("Canvas/UIAddNode/FeedFastMature");r.setPosition(i),r.active=!0,r.getComponent("V_FeedFastMature").init(c.DMB_Farming.instance.Farming_data.data[e],function(){switch(c.DMB_Farming.instance.acelerarFarming(e,0)){case 0:h.UI_Events.instance.emitEvents("V_farming_playAnimation",e);break;case 1:d.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&h.UI_Events.instance.emitEvents("openRecharge_Gem")})}});break;case 2:s.cropsColheita(e)}else e==t?h.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:0,Subtype:e}):e>t&&cc.log(e,"\u672a\u8d2d\u4e70")},s=this;for(i=0;i<a;i++)r(i)},t.prototype.FuncMOVE=function(e){for(var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),a=c.DMB_Farming.instance.Farming_data.data.length,i=0;i<a;i++)this.BoundingBox[i].contains(t)&&this.LastPos!==i&&(this.LastPos=i,2==c.DMB_Farming.instance.Farming_data.data[i].state&&this.cropsColheita(i))},t.prototype.FuncEND=function(e){!this.isProp&&s.VideoSwitch.instance.farmingDouble&&"{}"!=JSON.stringify(this.cropsArr)&&h.UI_Events.instance.emitEvents("OpenDoubleHarvest",{Type:0,data:this.cropsArr})},t.prototype.cropsPlanting=function(e){if(null==this.dropSprite[e.index]){if(1==r.GameData.instance.IsGuidePattern){var t=cc.find("Canvas/UIAddNode/SeedSelection_farming").getComponent("V_farming_seed");0==t.isClose&&(t.isClose=!0,t.Hand.active=!1)}var a=this;this.dropSprite[e.index]=new cc.Node,this.dropSprite[e.index].addComponent(cc.Sprite),d.UI_Manager.instance.loadNewReleaseOld(this.dropSprite[e.index],"texture/goods/AZhongZi_ZuoWu",null,!1),this.dropSprite[e.index].anchorX=.5,this.dropSprite[e.index].anchorY=.5,this.dropSprite[e.index].scale=.5,this.dropSprite[e.index].opacity=255,this.dropSprite[e.index].setPosition(0,60),this.node.children[e.index].addChild(this.dropSprite[e.index]),cc.tween(a.dropSprite[e.index]).delay(.1).to(.5,{position:cc.v3(0,0),scale:.3},{easing:"sineInOut"}).call(function(){a.dropSprite[e.index].destroy(),a.dropSprite[e.index]=null,c.DMB_Farming.instance.plantFarming(e.index,e.itemId),a.playAnimation(e.index)}).start()}},t.prototype.cropsColheita=function(e){var t=c.DMB_Farming.instance.Farming_data.data[e].itemId,a=c.DMB_Farming.instance.Farming_data.data[e].itemNum;switch(a>1&&(this.isProp=!0),c.DMB_Farming.instance.colheitaFarming(e)){case 0:1==this.cropsArr.hasOwnProperty(t)?this.cropsArr[t]+=a:this.cropsArr[t]=a,this.playAnimation(e),m.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(.5,this.node.children[e],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+t,a);break;case 1:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},n([f({type:u.default,displayName:"seedList",tooltip:"\u79cd\u5b50\u5217\u8868"})],t.prototype,"seedList",void 0),t=n([p],t)}(l.default);a.default=C,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMB_Farming":"DMB_Farming","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_ObjectPool":"UI_ObjectPool","../currency/UI_PlayMS":"UI_PlayMS","./V_farming_seed":"V_farming_seed"}],V_farm:[function(e,t,a){"use strict";cc._RF.push(t,"15738XD6mJGRrLa77Xt0nAl","V_farm");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_Basics/GameData"),r=e("../../Model/M_instance/DMB_Farm"),s=e("../currency/UI_Ctrl"),c=e("../currency/UI_Events"),l=e("../currency/UI_Manager"),h=e("../currency/UI_PlayMS"),d=cc._decorator,_=d.ccclass,m=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){for(var e=this,t=this.node.children.length,a=function(t){i.add_button_Listen(i.node.children[t].getChildByName("Btn"),i,function(){e.clickFunc(t)},0)},i=this,n=0;n<t;n++)a(n);this.RefreshUI(),c.UI_Events.instance.onEvents("V_farm_RefreshUI",this.RefreshUI,this),c.UI_Events.instance.onEvents("V_farm_playAnimation",this.playAnimation,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,c.UI_Events.instance.offEvents("V_farm_RefreshUI",this.RefreshUI,this),c.UI_Events.instance.offEvents("V_farm_playAnimation",this.playAnimation,this)},t.prototype.clickFunc=function(e){h.UI_PlayMS.instance.playSound("button"),cc.log(e),1==r.DMB_Farm.instance.Farm_Data.own[e]?c.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FarmPre",MainType:-1,Subtype:e}):c.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:3,Subtype:e})},t.prototype.RefreshUI=function(){for(var e=this.node.children.length,t=0;t<e;t++)1==r.DMB_Farm.instance.Farm_Data.own[t]?(this.node.children[t].getChildByName("item").active=!0,this.node.children[t].getChildByName("GouMai").active=!1,this.playAnimation(t),5!=t&&(l.UI_Manager.instance.loadNewReleaseOld(this.node.children[t].getChildByName("item").getChildByName("Di"),"texture/build/YangZhi_"+(t+1)+"_"+r.DMB_Farm.instance.Farm_Data.data[t].Poslevel,null,!0),l.UI_Manager.instance.loadNewReleaseOld(this.node.children[t].getChildByName("item").getChildByName("Ding"),"texture/build/YangZhi_Qian_"+(t+1)+"_"+r.DMB_Farm.instance.Farm_Data.data[t].Poslevel,null,!0))):(this.node.children[t].getChildByName("item").active=!1,this.node.children[t].getChildByName("GouMai").active=!0)},t.prototype.RefreshStatus=function(){for(var e=r.DMB_Farm.instance.Farm_Data.data.length,t=0;t<e;t++)1==r.DMB_Farm.instance.Farm_Data.data[t].state&&(r.DMB_Farm.instance.Farm_Data.data[t].endTime>o.GameData.instance.TimeServer?c.UI_Events.instance.emitEvents("V_FarmPre_updatetime_",{index:t,state:!1}):(cc.log("\u517b\u6b96"+(t+1)+" \u6210\u719f\u4e86"),r.DMB_Farm.instance.FastFarm(t,0),h.UI_PlayMS.instance.playSound("farm_"+t),c.UI_Events.instance.emitEvents("V_FarmPre_updatetime_",{index:t,state:!0}),this.playAnimation(t)))},t.prototype.playAnimation=function(e){var t=r.DMB_Farm.instance.Farm_Data.data[e].itemId,a=r.DMB_Farm.instance.Farm_Data.data[e].state,i=r.DMB_Farm.instance.Farm_Data.data[e].Poslevel;if(this.node.children[e].getChildByName("ChengShu").active=!1,5==e){if(2==a){for(var n=0;n<4;n++)n<i?(this.node.children[e].getChildByName("item").children[n].active=!0,this.node.children[e].getChildByName("item").children[n].getChildByName("Ding").active=!0,this.node.children[e].getChildByName("item").children[n].getChildByName("Spine").active=!0):this.node.children[e].getChildByName("item").children[n].active=!1;this.node.children[e].getChildByName("ChengShu").active=!0}else if(1==a)for(n=0;n<4;n++)n<i?(this.node.children[e].getChildByName("item").children[n].active=!0,this.node.children[e].getChildByName("item").children[n].getChildByName("Ding").active=!1,this.node.children[e].getChildByName("item").children[n].getChildByName("Spine").active=!0):this.node.children[e].getChildByName("item").children[n].active=!1;else if(0==a)for(n=0;n<4;n++)n<i?(this.node.children[e].getChildByName("item").children[n].active=!0,this.node.children[e].getChildByName("item").children[n].getChildByName("Ding").active=!1,this.node.children[e].getChildByName("item").children[n].getChildByName("Spine").active=!1):this.node.children[e].getChildByName("item").children[n].active=!1}else switch(a){case 0:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,t+"_C_"+i,!0);break;case 1:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,t+"_G_"+i,!0);break;case 2:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,t+"_S_"+i,!0),this.node.children[e].getChildByName("ChengShu").active=!0}},t=n([_],t)}(s.default));a.default=m,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_instance/DMB_Farm":"DMB_Farm","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_fish:[function(e,t,a){"use strict";cc._RF.push(t,"783d8e9splI24xbWBxbb1+q","V_fish");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../Model/M_Basics/GameData"),r=e("../../Model/M_instance/DMB_Fish"),s=e("../currency/UI_Ctrl"),c=e("../currency/UI_Events"),l=e("../currency/UI_Manager"),h=e("../currency/UI_PlayMS"),d=cc._decorator,_=d.ccclass,m=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){for(var e=this,t=this.node.children.length,a=function(t){i.add_button_Listen(i.node.children[t].getChildByName("Btn"),i,function(){e.clickFunc(t)},0)},i=this,n=0;n<t;n++)a(n);this.RefreshUI(),c.UI_Events.instance.onEvents("V_fish_RefreshUI",this.RefreshUI,this),c.UI_Events.instance.onEvents("V_fish_playAnimation",this.playAnimation,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,c.UI_Events.instance.offEvents("V_fish_RefreshUI",this.RefreshUI,this),c.UI_Events.instance.offEvents("V_fish_playAnimation",this.playAnimation,this)},t.prototype.clickFunc=function(e){h.UI_PlayMS.instance.playSound("button"),cc.log(e),1==r.DMB_Fish.instance.Fish_Data.own[e]?c.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"FishPre",MainType:e,Subtype:-1}):c.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:4,Subtype:e})},t.prototype.RefreshUI=function(){for(var e=this.node.children.length,t=0;t<e;t++)1==r.DMB_Fish.instance.Fish_Data.own[t]?(this.node.children[t].getChildByName("item").active=!0,this.node.children[t].getChildByName("GouMai").active=!1,this.playAnimation(t),l.UI_Manager.instance.loadNewReleaseOld(this.node.children[t].getChildByName("item"),"texture/build/ShuiChan_"+(r.DMB_Fish.instance.Fish_Data.data[t].Poslevel-1),null,!1)):(this.node.children[t].getChildByName("item").active=!1,this.node.children[t].getChildByName("GouMai").active=!0)},t.prototype.RefreshStatus=function(){for(var e=r.DMB_Fish.instance.Fish_Data.data.length,t=0;t<e;t++)1==r.DMB_Fish.instance.Fish_Data.data[t].state&&(r.DMB_Fish.instance.Fish_Data.data[t].endTime>o.GameData.instance.TimeServer?c.UI_Events.instance.emitEvents("V_FishPre_updatetime_",{index:t,state:!1}):(cc.log("\u6c34\u4ea7"+(t+1)+" \u6210\u719f\u4e86"),r.DMB_Fish.instance.FastFish(t,0),h.UI_PlayMS.instance.playSound("fish"),c.UI_Events.instance.emitEvents("V_FishPre_updatetime_",{index:t,state:!0}),this.playAnimation(t)))},t.prototype.playAnimation=function(e){var t=r.DMB_Fish.instance.Fish_Data.data[e].itemId,a=r.DMB_Fish.instance.Fish_Data.data[e].state,i=r.DMB_Fish.instance.Fish_Data.data[e].Poslevel;switch(this.node.children[e].getChildByName("ChengShu").active=!1,a){case 0:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,"fish_DaiJi",!0);break;case 1:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,t+"_G_"+i,!0);break;case 2:this.node.children[e].getChildByName("item").getChildByName("Spine").getChildByName("YanngZhi").getComponent("sp.Skeleton").setAnimation(0,t+"_S_"+i,!0),this.node.children[e].getChildByName("ChengShu").active=!0,l.UI_Manager.instance.loadNewReleaseOld(this.node.children[e].getChildByName("ChengShu").getChildByName("icon"),"texture/goods/"+t,null,!1)}},t=n([_],t)}(s.default));a.default=m,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_instance/DMB_Fish":"DMB_Fish","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_flowers_seed:[function(e,t,a){"use strict";cc._RF.push(t,"d44a0EMQl9FgYJrW8vnA3hH","V_flowers_seed");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/BasicsConfig"),l=e("../../Model/M_config/RoomConfig"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../../Model/M_instance/DMB_Flowers"),_=e("../currency/UI_Ctrl"),m=e("../currency/UI_Events"),u=e("../currency/UI_Manager"),g=e("../currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ListNode=null,t.gtPos=-1,t.seedboxArr=[],t.landboxArr=[],t.itemId="",t.seedImg=null,t}return i(t,e),t.prototype.init=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.gtPos=-1,this.seedboxArr=[],this.landboxArr=[],this.itemId="",this.seedImg=null;for(var e=s.GameData.instance.sortItem.flowers,t=e.length,a=this.ListNode.children.length,i=0;i<a;i++)i<t?(this.ListNode.children[i].active=!0,this.ListNode.children[i].getChildByName("name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[i]+"._Name"),s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[e[i]].unlock?(this.ListNode.children[i].getChildByName("num_").getComponent(cc.Label).string="x"+h.DMA_StorageRoom.instance.ViewItemNumber(e[i]),this.ListNode.children[i].getChildByName("price_").getComponent(cc.Label).string=""+c.BasicsConfig.Item_config[e[i]].seedPrice,this.ListNode.children[i].getChildByName("cycle_").getComponent(cc.Label).string=""+r.FuncCommon.formatTime1(1e3*c.BasicsConfig.Item_config[e[i]].Cycle),this.ListNode.children[i].getChildByName("Unlock").active=!1,u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Icon"),"texture/goods/%s",e[i],!1)):(this.ListNode.children[i].getChildByName("Unlock").active=!0,this.ListNode.children[i].getChildByName("Unlock").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+c.BasicsConfig.Item_config[e[i]].unlock]),u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Unlock").getChildByName("Icon"),"texture/goods/%s",e[i],!1))):this.ListNode.children[i].active=!1;this.add_button_Listen(this.node,this,this.CloseEvent,0),this.add_button_Listen(this.ListNode,this,this.START_Fun,0),this.add_button_Listen(this.ListNode,this,this.MOVE_Fun,1),this.add_button_Listen(this.ListNode,this,this.END_Fun,2),this.add_button_Listen(this.ListNode,this,this.END_Fun,3)},t.prototype.CloseEvent=function(){g.UI_PlayMS.instance.playSound("button"),this.node.setPosition(0,-2500),this.node.active=!1},t.prototype.START_Fun=function(e){this.gtPos=-1;var t=s.GameData.instance.sortItem.flowers,a=t.length;if(0==this.seedboxArr.length)for(var i=0;i<a;i++)this.seedboxArr[i]=this.ListNode.children[i].getChildByName("Btn").getBoundingBoxToWorld();if(0==this.landboxArr.length){var n=l.RoomConfig.flowers_config.length,o=cc.find("Canvas/UIMap/flowers");for(i=0;i<n;i++)this.landboxArr[i]=o.children[i].getChildByName("Btn").getBoundingBoxToWorld()}var r=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());for(i=0;i<a;i++)if(this.seedboxArr[i].contains(r)&&s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[t[i]].unlock){this.itemId=t[i],this.seedImg=new cc.Node,this.seedImg.addComponent(cc.Sprite),u.UI_Manager.instance.loadNewReleaseOld(this.seedImg,"texture/goods/AZhongZi_Hua",null,!1),this.seedImg.anchorX=.5,this.seedImg.anchorY=.5,this.seedImg.scale=.75;var h=this.ListNode.children[i].parent.convertToWorldSpaceAR(this.ListNode.children[i].getPosition());this.seedImg.setPosition(h),cc.director.getScene().addChild(this.seedImg)}},t.prototype.MOVE_Fun=function(e){if(""!=this.itemId){var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());this.seedImg&&this.seedImg.setPosition(t);for(var a=l.RoomConfig.flowers_config.length,i=0;i<a;i++)this.landboxArr[i].contains(t)&&this.gtPos!==i&&i<d.DMB_Flowers.instance.Flowers_data.count&&0==d.DMB_Flowers.instance.Flowers_data.data[i].state&&(cc.log("\u82b1\u56ed\u4f4d\u7f6e=>"+i),this.gtPos=i,m.UI_Events.instance.emitEvents("V_flowers_cropsPlanting",{index:i,itemId:this.itemId}))}},t.prototype.END_Fun=function(e){this.seedImg&&(this.seedImg.destroy(),this.seedImg=null)},n([C({type:cc.Node,displayName:"ListNode",tooltip:"\u5217\u8868"})],t.prototype,"ListNode",void 0),t=n([f],t)}(_.default);a.default=y,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMB_Flowers":"DMB_Flowers","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_flowers:[function(e,t,a){"use strict";cc._RF.push(t,"6f50fe8CZpHZJwElqkl+ITd","V_flowers");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_instance/DMB_Flowers"),l=e("../currency/UI_Ctrl"),h=e("../currency/UI_Events"),d=e("../currency/UI_Manager"),_=e("../currency/UI_ObjectPool"),m=e("../currency/UI_PlayMS"),u=e("./V_flowers_seed"),g=cc._decorator,p=g.ccclass,f=g.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seedList=null,t.BoundingBox=[],t.LastPos=-1,t.dropSprite=[],t.cropsArr={},t.isProp=!1,t}return i(t,e),t.prototype.start=function(){this.seedList.node.active=!1,this.initFirst()},t.prototype.initFirst=function(){this.InitUI(),this.add_button_Listen(this.node,this,this.FuncSTART,0),this.add_button_Listen(this.node,this,this.FuncMOVE,1),this.add_button_Listen(this.node,this,this.FuncEND,2),this.add_button_Listen(this.node,this,this.FuncEND,3),h.UI_Events.instance.onEvents("V_flowers_InitUI",this.InitUI,this),h.UI_Events.instance.onEvents("V_flowers_playAnimation",this.playAnimation,this),h.UI_Events.instance.onEvents("V_flowers_cropsPlanting",this.cropsPlanting,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,h.UI_Events.instance.offEvents("V_flowers_InitUI",this.InitUI,this),h.UI_Events.instance.offEvents("V_flowers_playAnimation",this.playAnimation,this),h.UI_Events.instance.offEvents("V_flowers_cropsPlanting",this.cropsPlanting,this)},t.prototype.RefreshStatus=function(){for(var e=c.DMB_Flowers.instance.Flowers_data.data.length,t=0;t<e;t++)1==c.DMB_Flowers.instance.Flowers_data.data[t].state&&(c.DMB_Flowers.instance.Flowers_data.data[t].endTime>r.GameData.instance.TimeServer||(cc.log("\u82b1\u56ed"+(t+1)+" \u6210\u719f\u4e86"),c.DMB_Flowers.instance.acelerarFlowers(t,1),this.playAnimation(t)))},t.prototype.InitUI=function(){for(var e=c.DMB_Flowers.instance.Flowers_data.data.length,t=this.node.children.length,a=0;a<t;a++)a<e?(this.playAnimation(a),this.node.children[a].getChildByName("Suo").active=!1):a==e?(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!0):a>e&&(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!1)},t.prototype.playAnimation=function(e){var t=c.DMB_Flowers.instance.Flowers_data.data[e].itemId,a=c.DMB_Flowers.instance.Flowers_data.data[e].state,i=this;0==a?this.node.children[e].getChildByName("SpineFlowers")&&_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineFlowers",this.node.children[e].getChildByName("SpineFlowers")):void 0==this.node.children[e].getChildByName("SpineFlowers")||null==this.node.children[e].getChildByName("SpineFlowers")?_.UI_ObjectPool.instance.create_CS_Enemy("SpineFlowers",function(n){void 0!=i.node.children[e].getChildByName("SpineFlowers")&&null!=i.node.children[e].getChildByName("SpineFlowers")||i.node.children[e].addChild(n),1==a?(i.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").y=-20,i.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0)):2==a&&(i.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").y=-35,i.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0))}):1==a?(this.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").y=-20,this.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0)):2==a&&(this.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").y=-35,this.node.children[e].getChildByName("SpineFlowers").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0))},t.prototype.FuncSTART=function(e){this.cropsArr={},this.isProp=!1,this.LastPos=-1;for(var t=c.DMB_Flowers.instance.Flowers_data.data.length,a=this.node.children.length,i=0;i<a;i++)this.BoundingBox[i]=this.node.children[i].getChildByName("Btn").getBoundingBoxToWorld();var n=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),r=function(e){if(s.BoundingBox[e].contains(n)&&s.LastPos!==e)if(s.LastPos=e,e<t)switch(c.DMB_Flowers.instance.Flowers_data.data[e].state){case 0:m.UI_PlayMS.instance.playSound("button"),s.seedList.node.setPosition(0,0),s.seedList.node.active=!0,s.seedList.getComponent("V_flowers_seed").init();break;case 1:m.UI_PlayMS.instance.playSound("button");var a=s.node.children[e].parent.convertToWorldSpaceAR(s.node.children[e].getPosition()),i=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(a),r=cc.find("Canvas/UIAddNode/FeedFastMature");r.setPosition(i),r.active=!0,r.getComponent("V_FeedFastMature").init(c.DMB_Flowers.instance.Flowers_data.data[e],function(){switch(c.DMB_Flowers.instance.acelerarFlowers(e,0)){case 0:h.UI_Events.instance.emitEvents("V_flowers_playAnimation",e);break;case 1:d.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&h.UI_Events.instance.emitEvents("openRecharge_Gem")})}});break;case 2:s.cropsColheita(e)}else e==t?h.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:2,Subtype:e}):e>t&&cc.log(e,"\u672a\u8d2d\u4e70")},s=this;for(i=0;i<a;i++)r(i)},t.prototype.FuncMOVE=function(e){for(var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),a=c.DMB_Flowers.instance.Flowers_data.data.length,i=0;i<a;i++)this.BoundingBox[i].contains(t)&&this.LastPos!==i&&(this.LastPos=i,2==c.DMB_Flowers.instance.Flowers_data.data[i].state&&this.cropsColheita(i))},t.prototype.FuncEND=function(e){!this.isProp&&s.VideoSwitch.instance.flowersDouble&&"{}"!=JSON.stringify(this.cropsArr)&&h.UI_Events.instance.emitEvents("OpenDoubleHarvest",{Type:2,data:this.cropsArr})},t.prototype.cropsPlanting=function(e){if(null==this.dropSprite[e.index]){var t=this;this.dropSprite[e.index]=new cc.Node,this.dropSprite[e.index].addComponent(cc.Sprite),d.UI_Manager.instance.loadNewReleaseOld(this.dropSprite[e.index],"texture/goods/AZhongZi_Hua",null,!1),this.dropSprite[e.index].anchorX=.5,this.dropSprite[e.index].anchorY=.5,this.dropSprite[e.index].scale=.5,this.dropSprite[e.index].opacity=255,this.dropSprite[e.index].setPosition(0,60),this.node.children[e.index].addChild(this.dropSprite[e.index]),cc.tween(t.dropSprite[e.index]).delay(.1).to(.5,{position:cc.v3(0,0),scale:.3},{easing:"sineInOut"}).call(function(){t.dropSprite[e.index].destroy(),t.dropSprite[e.index]=null,c.DMB_Flowers.instance.plantFlowers(e.index,e.itemId),t.playAnimation(e.index)}).start()}},t.prototype.cropsColheita=function(e){var t=c.DMB_Flowers.instance.Flowers_data.data[e].itemId,a=c.DMB_Flowers.instance.Flowers_data.data[e].itemNum;switch(a>1&&(this.isProp=!0),c.DMB_Flowers.instance.colheitaFlowers(e)){case 0:1==this.cropsArr.hasOwnProperty(t)?this.cropsArr[t]+=a:this.cropsArr[t]=a,this.playAnimation(e),m.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(.5,this.node.children[e],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+t,a);break;case 1:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},n([f({type:u.default,displayName:"seedList",tooltip:"\u79cd\u5b50\u5217\u8868"})],t.prototype,"seedList",void 0),t=n([p],t)}(l.default);a.default=C,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMB_Flowers":"DMB_Flowers","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_ObjectPool":"UI_ObjectPool","../currency/UI_PlayMS":"UI_PlayMS","./V_flowers_seed":"V_flowers_seed"}],V_goOut1Pre:[function(e,t,a){"use strict";cc._RF.push(t,"71723fdVw1PAIXlIX7j+Z3X","V_goOut1Pre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_Basics/VideoSwitch"),l=e("../../Model/M_instance/DMA_GoOut"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../../Model/network/GameSDK"),_=e("../currency/UI_Ctrl"),m=e("../currency/UI_Events"),u=e("../currency/UI_Manager"),g=e("../currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.carIcon=null,t.changeBtn=null,t.capacity=null,t.Energy=null,t.WuPinNode=null,t.RefreshBtn=null,t.RefreshVideoBtn=null,t.MeetDeparture=!0,t}return i(t,e),t.prototype.CloseFunc=function(){g.UI_PlayMS.instance.playSound("button"),m.UI_Events.instance.emitEvents("CloseGamePrefab","goOut1Pre")},t.prototype.init=function(e){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.carIcon=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/shang/Che"),this.changeBtn=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/shang/GengHuan"),this.capacity=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/shang/RongLiang"),this.Energy=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/shang/TiLi"),this.WuPinNode=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/Zhong/WuPin"),this.RefreshBtn=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/Zhong/Btn/Refresh"),this.RefreshVideoBtn=cc.find("Canvas/UIAddNode/goOut1Pre/DiBan/Zhong/Btn/RefreshVideo"),this.RefreshUI(),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("Zhong").getChildByName("Btn_ChuFa"),this,this.Func_setOut,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("shang").getChildByName("GengHuan"),this,this.replaceCar,0),this.add_button_Listen(this.RefreshBtn,this,this.Func_Refresh,0),this.add_button_Listen(this.RefreshVideoBtn,this,this.Func_RefreshVideo,0),this.add_button_Listen(this.Energy,this,this.VideoRecharge_physical,0),this.RefreshVideoBtn.active=c.VideoSwitch.instance.goOutGoodsRefresh,this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),m.UI_Events.instance.onEvents("V_goOut1_RefreshUI",this.RefreshUI,this),m.UI_Events.instance.onEvents("V_goOut_RefreshTimeEnergy",this.RefreshTimeEnergy,this),m.UI_Events.instance.emitEvents("CloseMask")},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,m.UI_Events.instance.offEvents("V_goOut1_RefreshUI",this.RefreshUI,this),m.UI_Events.instance.offEvents("V_goOut_RefreshTimeEnergy",this.RefreshTimeEnergy,this)},t.prototype.RefreshUI=function(){this.MeetDeparture=!0;var e=l.DMA_GoOut.instance.GoOut_DSata.car.indexOf(1);u.UI_Manager.instance.loadNewReleaseOld(this.carIcon,"texture/icon/icon_GoOut_%s",e,!1),this.capacity.getComponent(cc.Label).string=o.i18nMgr._getString("goOut.capacity2")+""+l.DMA_GoOut.instance.GoOut_DSata.get.capacity;var t=l.DMA_GoOut.instance.GoOut_DSata.sell;cc.log(t);for(var a=0;a<4;a++)for(var i in this.WuPinNode.children[a].off(cc.Node.EventType.TOUCH_END,this.MaterialDetails,this),t[a]){u.UI_Manager.instance.loadNewReleaseOld(this.WuPinNode.children[a].getChildByName("icon"),"texture/goods/%s",i,!1);var n=h.DMA_StorageRoom.instance.ViewItemNumber(i);this.WuPinNode.children[a].getChildByName("Num_").getComponent(cc.Label).string=n+"/"+t[a][i],n>=t[a][i]?this.WuPinNode.children[a].getChildByName("Num_").color=new cc.Color(143,220,103):(this.MeetDeparture=!1,this.WuPinNode.children[a].getChildByName("Num_").color=new cc.Color(255,117,0)),this.WuPinNode.children[a].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+i+"._Name"),this.WuPinNode.children[a].index=a,this.WuPinNode.children[a].ItemId=i,this.WuPinNode.children[a].on(cc.Node.EventType.TOUCH_END,this.MaterialDetails,this)}},t.prototype.RefreshTimeEnergy=function(e){this.Energy.getChildByName("num").getComponent(cc.Label).string=s.GameData.instance.Energy.Existing+"/"+s.GameData.instance.Energy.MaxVal,this.Energy.getChildByName("time").getComponent(cc.Label).string=r.FuncCommon.formatTime1(e)},t.prototype.MaterialDetails=function(e){var t=e.target.index,a=this.WuPinNode.children[t],i=e.target.ItemId,n=cc.find("Canvas/UIAddNode/GetGoodsPre");n.active=!0;var o=a.parent.convertToWorldSpaceAR(a.getPosition()),r=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(o);n.getChildByName("DiBan").setPosition(r);var s=cc.find("Canvas/UIAddNode").children.length+1;n.setSiblingIndex(s),n.getComponent("V_GetGoodsPre").init(i,"goOut")},t.prototype.replaceCar=function(){m.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"JianZaoPre",MainType:0,Subtype:0})},t.prototype.Func_setOut=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button"),m.UI_Events.instance.emitEvents("OpenMask"),0==this.MeetDeparture?u.UI_Manager.instance.OpenPopup(1,"\u672a\u6ee1\u8db3\u6240\u9700\u7269\u54c1(\u5f71\u54cd\u5e02\u573a\u4ea4\u6613),\u662f\u5426\u5ffd\u7565\u76f4\u63a5\u51fa\u53d1?",function(e){1==e?s.GameData.instance.Energy.Existing>=5?(s.GameData.instance.Energy.Existing-=5,r.FuncCommon.setStorage("Energy",s.GameData.instance.Energy),cc.director.loadScene("scene_GoOut")):(u.UI_Manager.instance.AddFloatLabel("\u4f53\u529b\u4e0d\u8db3"),m.UI_Events.instance.emitEvents("CloseMask")):m.UI_Events.instance.emitEvents("CloseMask")}):s.GameData.instance.Energy.Existing>=5?(s.GameData.instance.Energy.Existing-=5,r.FuncCommon.setStorage("Energy",s.GameData.instance.Energy),cc.director.loadScene("scene_GoOut")):(u.UI_Manager.instance.AddFloatLabel("\u4f53\u529b\u4e0d\u8db3"),m.UI_Events.instance.emitEvents("CloseMask")))},t.prototype.Func_Refresh=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button"),l.DMA_GoOut.instance.RefreshSellGoods(1)){case 0:this.RefreshUI();break;case 1:u.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&m.UI_Events.instance.emitEvents("openRecharge_Gem")})}},t.prototype.Func_RefreshVideo=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var e=this;d.default.postEvent2("ads_start_position",27),d.default.FcunVideoTsOc(function(t){switch(t){case 0:u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:l.DMA_GoOut.instance.RefreshSellGoods(0),e.RefreshUI(),d.default.postEvent2("ads_finish_position",27);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.VideoRecharge_physical=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button"),m.UI_Events.instance.emitEvents("openRecharge_physical"))},t=n([f],t)}(_.default));a.default=C,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMA_GoOut":"DMA_GoOut","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_goOut2Pre:[function(e,t,a){"use strict";cc._RF.push(t,"c24e5KMRipF5YU9CPUxhgJf","V_goOut2Pre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_instance/DMA_GoOut"),l=e("../../Model/network/GameSDK"),h=e("../currency/UI_Ctrl"),d=e("../currency/UI_Events"),_=e("../currency/UI_Manager"),m=e("../currency/UI_PlayMS"),u=cc._decorator,g=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tittlearr=[],t.ContainerNode=[],t}return i(t,e),t.prototype.CloseFunc=function(){m.UI_PlayMS.instance.playSound("button"),d.UI_Events.instance.emitEvents("CloseGamePrefab","goOut2Pre")},t.prototype.init=function(e){r.GameData.instance.BackFromShopping=!1,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.Tittlearr[0]=cc.find("Canvas/UIAddNode/goOut2Pre/DiBan/ScrollView/view/content/Tittle0"),this.Tittlearr[1]=cc.find("Canvas/UIAddNode/goOut2Pre/DiBan/ScrollView/view/content/Tittle1"),this.ContainerNode[0]=cc.find("Canvas/UIAddNode/goOut2Pre/DiBan/ScrollView/view/content/node0"),this.ContainerNode[1]=cc.find("Canvas/UIAddNode/goOut2Pre/DiBan/ScrollView/view/content/node1"),this.RefreshUI(),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("Btn").getChildByName("uninstall"),this,this.Func_uninstall,0),this.add_button_Listen(this.node.getChildByName("DiBan").getChildByName("Btn").getChildByName("uninstallVideo"),this,this.Func_uninstallVideo,0),this.node.getChildByName("DiBan").getChildByName("Btn").getChildByName("uninstallVideo").active=s.VideoSwitch.instance.goOutDoubleUnloading,this.add_button_Listen(this.node.getChildByName("CloseBtnMask"),this,this.CloseFunc,0),d.UI_Events.instance.emitEvents("CloseMask")},t.prototype.RefreshUI=function(){if("{}"==JSON.stringify(c.DMA_GoOut.instance.GoOut_DSata.get.rare))this.Tittlearr[0].active=!1,this.ContainerNode[0].active=!1;else{this.Tittlearr[0].active=!0,this.ContainerNode[0].active=!0;var e=0;for(var t in c.DMA_GoOut.instance.GoOut_DSata.get.rare)void 0!=this.ContainerNode[0].children[e]&&null!=this.ContainerNode[0].children[e]||this.ContainerNode[0].addChild(cc.instantiate(this.ContainerNode[0].children[0])),_.UI_Manager.instance.loadNewReleaseOld(this.ContainerNode[0].children[e].getChildByName("icon"),"texture/goods/%s",t,!1),this.ContainerNode[0].children[e].getChildByName("Num_").getComponent(cc.Label).string="x"+c.DMA_GoOut.instance.GoOut_DSata.get.rare[t],this.ContainerNode[0].children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+t+"._Name"),e++}if("{}"==JSON.stringify(c.DMA_GoOut.instance.GoOut_DSata.get.other))this.Tittlearr[1].active=!1,this.ContainerNode[1].active=!1;else{this.Tittlearr[1].active=!0,this.ContainerNode[1].active=!0;e=0;for(var t in c.DMA_GoOut.instance.GoOut_DSata.get.other)void 0!=this.ContainerNode[1].children[e]&&null!=this.ContainerNode[1].children[e]||this.ContainerNode[1].addChild(cc.instantiate(this.ContainerNode[1].children[0])),_.UI_Manager.instance.loadNewReleaseOld(this.ContainerNode[1].children[e].getChildByName("icon"),"texture/goods/%s",t,!1),this.ContainerNode[1].children[e].getChildByName("Num_").getComponent(cc.Label).string="x"+c.DMA_GoOut.instance.GoOut_DSata.get.other[t],this.ContainerNode[1].children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+t+"._Name"),e++}},t.prototype.Func_uninstall=function(){if(r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else switch(r.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),c.DMA_GoOut.instance.uninstallItem(!0,1)){case 0:d.UI_Events.instance.emitEvents("CloseGamePrefab","goOut2Pre"),d.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"goOut1Pre",MainType:-1,Subtype:-1});break;case 1:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},t.prototype.Func_uninstallVideo=function(){r.GameData.instance.ClickTimeCount<r.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+r.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(r.GameData.instance.ClickTimeCount=0,m.UI_PlayMS.instance.playSound("button"),2==c.DMA_GoOut.instance.uninstallItem(!1,2)?(l.default.postEvent2("ads_start_position",30),l.default.FcunVideoTsOc(function(e){switch(e){case 0:_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:c.DMA_GoOut.instance.uninstallItem(!0,2),d.UI_Events.instance.emitEvents("CloseGamePrefab","goOut2Pre"),d.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"goOut1Pre",MainType:-1,Subtype:-1}),l.default.postEvent2("ads_finish_position",30);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})):_.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1")))},t=n([g],t)}(h.default));a.default=p,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMA_GoOut":"DMA_GoOut","../../Model/network/GameSDK":"GameSDK","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_goOutStockPre:[function(e,t,a){"use strict";cc._RF.push(t,"4a6c2CPHXJLmIBTnRr+JmsR","V_goOutStockPre");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_instance/DMA_GoOut"),s=e("../currency/UI_Manager"),c=e("../currency/UI_PlayMS"),l=cc._decorator,h=l.ccclass,d=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tittlearr=[],t.ContainerNode=[],t}return i(t,e),t.prototype.CloseFunc=function(){c.UI_PlayMS.instance.playSound("button"),this.node.setPosition(0,-2500),this.node.active=!1},t.prototype.init=function(){if(this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.node.getChildByName("ShuoMing").getChildByName("Level_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.capacity",[""+r.DMA_GoOut.instance.GoOut_DSata.get.Mounted,""+r.DMA_GoOut.instance.GoOut_DSata.get.capacity]),"{}"==JSON.stringify(r.DMA_GoOut.instance.GoOut_DSata.get.rare))this.Tittlearr[0].active=!1,this.ContainerNode[0].active=!1;else{this.Tittlearr[0].active=!0,this.ContainerNode[0].active=!0;var e=0;for(var t in r.DMA_GoOut.instance.GoOut_DSata.get.rare)void 0!=this.ContainerNode[0].children[e]&&null!=this.ContainerNode[0].children[e]||this.ContainerNode[0].addChild(cc.instantiate(this.ContainerNode[0].children[0])),s.UI_Manager.instance.loadNewReleaseOld(this.ContainerNode[0].children[e].getChildByName("icon"),"texture/goods/%s",t,!1),this.ContainerNode[0].children[e].getChildByName("Num_").getComponent(cc.Label).string="x"+r.DMA_GoOut.instance.GoOut_DSata.get.rare[t],this.ContainerNode[0].children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+t+"._Name"),e++}if("{}"==JSON.stringify(r.DMA_GoOut.instance.GoOut_DSata.get.other))this.Tittlearr[1].active=!1,this.ContainerNode[1].active=!1;else{this.Tittlearr[1].active=!0,this.ContainerNode[1].active=!0;e=0;for(var t in r.DMA_GoOut.instance.GoOut_DSata.get.other)void 0!=this.ContainerNode[1].children[e]&&null!=this.ContainerNode[1].children[e]||this.ContainerNode[1].addChild(cc.instantiate(this.ContainerNode[1].children[0])),s.UI_Manager.instance.loadNewReleaseOld(this.ContainerNode[1].children[e].getChildByName("icon"),"texture/goods/%s",t,!1),this.ContainerNode[1].children[e].getChildByName("Num_").getComponent(cc.Label).string="x"+r.DMA_GoOut.instance.GoOut_DSata.get.other[t],this.ContainerNode[1].children[e].getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+t+"._Name"),e++}},n([d({type:cc.Node,displayName:"Tittlearr",tooltip:"\u5c0f\u6807\u9898"})],t.prototype,"Tittlearr",void 0),n([d({type:cc.Node,displayName:"ContainerNode",tooltip:"\u5bb9\u5668\u8282\u70b9"})],t.prototype,"ContainerNode",void 0),t=n([h],t)}(cc.Component);a.default=_,cc._RF.pop()},{"../../Model/M_instance/DMA_GoOut":"DMA_GoOut","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_orchard_seed:[function(e,t,a){"use strict";cc._RF.push(t,"e32ffHmIylLeJzcy8h9Plao","V_orchard_seed");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/CommonFun"),s=e("../../Model/M_Basics/GameData"),c=e("../../Model/M_config/BasicsConfig"),l=e("../../Model/M_config/RoomConfig"),h=e("../../Model/M_instance/DMA_StorageRoom"),d=e("../../Model/M_instance/DMB_Orchard"),_=e("../currency/UI_Ctrl"),m=e("../currency/UI_Events"),u=e("../currency/UI_Manager"),g=e("../currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ListNode=null,t.gtPos=-1,t.seedboxArr=[],t.landboxArr=[],t.itemId="",t.seedImg=null,t}return i(t,e),t.prototype.init=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.gtPos=-1,this.seedboxArr=[],this.landboxArr=[],this.itemId="",this.seedImg=null;for(var e=s.GameData.instance.sortItem.orchard,t=e.length,a=this.ListNode.children.length,i=0;i<a;i++)i<t?(this.ListNode.children[i].active=!0,this.ListNode.children[i].getChildByName("name_").getComponent(cc.Label).string=o.i18nMgr._getString("item."+e[i]+"._Name"),s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[e[i]].unlock?(this.ListNode.children[i].getChildByName("num_").getComponent(cc.Label).string="x"+h.DMA_StorageRoom.instance.ViewItemNumber(e[i]),this.ListNode.children[i].getChildByName("price_").getComponent(cc.Label).string=""+c.BasicsConfig.Item_config[e[i]].seedPrice,this.ListNode.children[i].getChildByName("cycle_").getComponent(cc.Label).string=""+r.FuncCommon.formatTime1(1e3*c.BasicsConfig.Item_config[e[i]].Cycle),this.ListNode.children[i].getChildByName("Unlock").active=!1,u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Icon"),"texture/goods/%s",e[i],!1)):(this.ListNode.children[i].getChildByName("Unlock").active=!0,this.ListNode.children[i].getChildByName("Unlock").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("unlockLevel",[""+c.BasicsConfig.Item_config[e[i]].unlock]),u.UI_Manager.instance.loadNewReleaseOld(this.ListNode.children[i].getChildByName("Unlock").getChildByName("Icon"),"texture/goods/%s",e[i],!1))):this.ListNode.children[i].active=!1;this.add_button_Listen(this.node,this,this.CloseEvent,0),this.add_button_Listen(this.ListNode,this,this.START_Fun,0),this.add_button_Listen(this.ListNode,this,this.MOVE_Fun,1),this.add_button_Listen(this.ListNode,this,this.END_Fun,2),this.add_button_Listen(this.ListNode,this,this.END_Fun,3)},t.prototype.CloseEvent=function(){g.UI_PlayMS.instance.playSound("button"),this.node.setPosition(0,-2500),this.node.active=!1},t.prototype.START_Fun=function(e){this.gtPos=-1;var t=s.GameData.instance.sortItem.orchard,a=t.length;if(0==this.seedboxArr.length)for(var i=0;i<a;i++)this.seedboxArr[i]=this.ListNode.children[i].getChildByName("Btn").getBoundingBoxToWorld();if(0==this.landboxArr.length){var n=l.RoomConfig.orchard_config.length,o=cc.find("Canvas/UIMap/orchard");for(i=0;i<n;i++)this.landboxArr[i]=o.children[i].getChildByName("Btn").getBoundingBoxToWorld()}var r=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());for(i=0;i<a;i++)if(this.seedboxArr[i].contains(r)&&s.GameData.instance.MasterData.MainRoomLevel>=c.BasicsConfig.Item_config[t[i]].unlock){this.itemId=t[i],this.seedImg=new cc.Node,this.seedImg.addComponent(cc.Sprite),u.UI_Manager.instance.loadNewReleaseOld(this.seedImg,"texture/goods/AZhongZi_GuoShu",null,!1),this.seedImg.anchorX=.5,this.seedImg.anchorY=.5,this.seedImg.scale=.75;var h=this.ListNode.children[i].parent.convertToWorldSpaceAR(this.ListNode.children[i].getPosition());this.seedImg.setPosition(h),cc.director.getScene().addChild(this.seedImg)}},t.prototype.MOVE_Fun=function(e){if(""!=this.itemId){var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation());this.seedImg&&this.seedImg.setPosition(t);for(var a=l.RoomConfig.orchard_config.length,i=0;i<a;i++)this.landboxArr[i].contains(t)&&this.gtPos!==i&&i<d.DMB_Orchard.instance.Orchard_data.count&&0==d.DMB_Orchard.instance.Orchard_data.data[i].state&&(cc.log("\u679c\u56ed\u4f4d\u7f6e=>"+i),this.gtPos=i,m.UI_Events.instance.emitEvents("V_orchard_cropsPlanting",{index:i,itemId:this.itemId}))}},t.prototype.END_Fun=function(e){this.seedImg&&(this.seedImg.destroy(),this.seedImg=null)},n([C({type:cc.Node,displayName:"ListNode",tooltip:"\u5217\u8868"})],t.prototype,"ListNode",void 0),t=n([f],t)}(_.default);a.default=y,cc._RF.pop()},{"../../Model/M_Basics/CommonFun":"CommonFun","../../Model/M_Basics/GameData":"GameData","../../Model/M_config/BasicsConfig":"BasicsConfig","../../Model/M_config/RoomConfig":"RoomConfig","../../Model/M_instance/DMA_StorageRoom":"DMA_StorageRoom","../../Model/M_instance/DMB_Orchard":"DMB_Orchard","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_PlayMS":"UI_PlayMS"}],V_orchard:[function(e,t,a){"use strict";cc._RF.push(t,"837faGCJcdLVbUwYo2r1jAY","V_orchard");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../../i18n/i18nMgr"),r=e("../../Model/M_Basics/GameData"),s=e("../../Model/M_Basics/VideoSwitch"),c=e("../../Model/M_instance/DMB_Orchard"),l=e("../currency/UI_Ctrl"),h=e("../currency/UI_Events"),d=e("../currency/UI_Manager"),_=e("../currency/UI_ObjectPool"),m=e("../currency/UI_PlayMS"),u=e("./V_orchard_seed"),g=cc._decorator,p=g.ccclass,f=g.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seedList=null,t.BoundingBox=[],t.LastPos=-1,t.dropSprite=[],t.cropsArr={},t.isProp=!1,t}return i(t,e),t.prototype.start=function(){this.seedList.node.active=!1,this.initFirst()},t.prototype.initFirst=function(){this.InitUI(),this.add_button_Listen(this.node,this,this.FuncSTART,0),this.add_button_Listen(this.node,this,this.FuncMOVE,1),this.add_button_Listen(this.node,this,this.FuncEND,2),this.add_button_Listen(this.node,this,this.FuncEND,3),h.UI_Events.instance.onEvents("V_orchard_InitUI",this.InitUI,this),h.UI_Events.instance.onEvents("V_orchard_playAnimation",this.playAnimation,this),h.UI_Events.instance.onEvents("V_orchard_cropsPlanting",this.cropsPlanting,this)},t.prototype.onDisable=function(){this.remove_button_Listen(),this.IsItSmall=!0,h.UI_Events.instance.offEvents("V_orchard_InitUI",this.InitUI,this),h.UI_Events.instance.offEvents("V_orchard_playAnimation",this.playAnimation,this),h.UI_Events.instance.offEvents("V_orchard_cropsPlanting",this.cropsPlanting,this)},t.prototype.RefreshStatus=function(){for(var e=c.DMB_Orchard.instance.Orchard_data.data.length,t=0;t<e;t++)1==c.DMB_Orchard.instance.Orchard_data.data[t].state&&(c.DMB_Orchard.instance.Orchard_data.data[t].endTime>r.GameData.instance.TimeServer||(cc.log("\u679c\u56ed"+(t+1)+" \u6210\u719f\u4e86"),c.DMB_Orchard.instance.acelerarOrchard(t,1),this.playAnimation(t)))},t.prototype.InitUI=function(){for(var e=c.DMB_Orchard.instance.Orchard_data.data.length,t=this.node.children.length,a=0;a<t;a++)a<e?(this.playAnimation(a),this.node.children[a].getChildByName("Suo").active=!1):a==e?(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!0):a>e&&(this.node.children[a].getChildByName("Suo").active=!0,this.node.children[a].getChildByName("Suo").getChildByName("GouMai").active=!1)},t.prototype.playAnimation=function(e){var t=c.DMB_Orchard.instance.Orchard_data.data[e].itemId,a=c.DMB_Orchard.instance.Orchard_data.data[e].state,i=this;0==a?this.node.children[e].getChildByName("SpineOrchard")&&_.UI_ObjectPool.instance.Killed_CS_Enemy("SpineOrchard",this.node.children[e].getChildByName("SpineOrchard")):void 0==this.node.children[e].getChildByName("SpineOrchard")||null==this.node.children[e].getChildByName("SpineOrchard")?_.UI_ObjectPool.instance.create_CS_Enemy("SpineOrchard",function(n){void 0!=i.node.children[e].getChildByName("SpineOrchard")&&null!=i.node.children[e].getChildByName("SpineOrchard")||i.node.children[e].addChild(n),1==a?i.node.children[e].getChildByName("SpineOrchard").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0):2==a&&i.node.children[e].getChildByName("SpineOrchard").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0)}):1==a?this.node.children[e].getChildByName("SpineOrchard").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,t+"_C",!0):2==a&&this.node.children[e].getChildByName("SpineOrchard").getChildByName("Spine").getComponent("sp.Skeleton").setAnimation(0,""+t,!0)},t.prototype.FuncSTART=function(e){this.cropsArr={},this.isProp=!1,this.LastPos=-1;for(var t=c.DMB_Orchard.instance.Orchard_data.data.length,a=this.node.children.length,i=0;i<a;i++)this.BoundingBox[i]=this.node.children[i].getChildByName("Btn").getBoundingBoxToWorld();var n=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),r=function(e){if(s.BoundingBox[e].contains(n)&&s.LastPos!==e)if(s.LastPos=e,e<t)switch(c.DMB_Orchard.instance.Orchard_data.data[e].state){case 0:m.UI_PlayMS.instance.playSound("button"),s.seedList.node.setPosition(0,0),s.seedList.node.active=!0,s.seedList.getComponent("V_orchard_seed").init();break;case 1:m.UI_PlayMS.instance.playSound("button");var a=s.node.children[e].parent.convertToWorldSpaceAR(s.node.children[e].getPosition()),i=cc.find("Canvas/UIAddNode").parent.convertToNodeSpaceAR(a),r=cc.find("Canvas/UIAddNode/FeedFastMature");r.setPosition(i),r.active=!0,r.getComponent("V_FeedFastMature").init(c.DMB_Orchard.instance.Orchard_data.data[e],function(){switch(c.DMB_Orchard.instance.acelerarOrchard(e,0)){case 0:h.UI_Events.instance.emitEvents("V_orchard_playAnimation",e);break;case 1:d.UI_Manager.instance.OpenPopup(1,o.i18nMgr._getString("Gem_isUp"),function(e){1==e&&h.UI_Events.instance.emitEvents("openRecharge_Gem")})}});break;case 2:s.cropsColheita(e)}else e==t?h.UI_Events.instance.emitEvents("OpenGamePrefab",{_name:"BuildPurchasePre",MainType:1,Subtype:e}):e>t&&cc.log(e,"\u672a\u8d2d\u4e70")},s=this;for(i=0;i<a;i++)r(i)},t.prototype.FuncMOVE=function(e){for(var t=cc.find("Canvas").parent.convertToWorldSpaceAR(e.getLocation()),a=c.DMB_Orchard.instance.Orchard_data.data.length,i=0;i<a;i++)this.BoundingBox[i].contains(t)&&this.LastPos!==i&&(this.LastPos=i,2==c.DMB_Orchard.instance.Orchard_data.data[i].state&&this.cropsColheita(i))},t.prototype.FuncEND=function(e){!this.isProp&&s.VideoSwitch.instance.orchardDouble&&"{}"!=JSON.stringify(this.cropsArr)&&h.UI_Events.instance.emitEvents("OpenDoubleHarvest",{Type:1,data:this.cropsArr})},t.prototype.cropsPlanting=function(e){if(null==this.dropSprite[e.index]){var t=this;this.dropSprite[e.index]=new cc.Node,this.dropSprite[e.index].addComponent(cc.Sprite),d.UI_Manager.instance.loadNewReleaseOld(this.dropSprite[e.index],"texture/goods/AZhongZi_GuoShu",null,!1),this.dropSprite[e.index].anchorX=.5,this.dropSprite[e.index].anchorY=.5,this.dropSprite[e.index].scale=.5,this.dropSprite[e.index].opacity=255,this.dropSprite[e.index].setPosition(0,60),this.node.children[e.index].addChild(this.dropSprite[e.index]),cc.tween(t.dropSprite[e.index]).delay(.1).to(.5,{position:cc.v3(0,0),scale:.3},{easing:"sineInOut"}).call(function(){t.dropSprite[e.index].destroy(),t.dropSprite[e.index]=null,c.DMB_Orchard.instance.plantOrchard(e.index,e.itemId),t.playAnimation(e.index)}).start()}},t.prototype.cropsColheita=function(e){var t=c.DMB_Orchard.instance.Orchard_data.data[e].itemId,a=c.DMB_Orchard.instance.Orchard_data.data[e].itemNum;switch(a>1&&(this.isProp=!0),c.DMB_Orchard.instance.colheitaOrchard(e)){case 0:1==this.cropsArr.hasOwnProperty(t)?this.cropsArr[t]+=a:this.cropsArr[t]=a,this.playAnimation(e),m.UI_PlayMS.instance.playSound("confirm"),d.UI_Manager.instance.AddFloatSprite(.5,this.node.children[e],cc.find("Canvas/UIMap/CangKu/Btn"),"texture/goods/"+t,a);break;case 1:d.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Public_CKRLBU1"))}},n([f({type:u.default,displayName:"seedList",tooltip:"\u79cd\u5b50\u5217\u8868"})],t.prototype,"seedList",void 0),t=n([p],t)}(l.default);a.default=C,cc._RF.pop()},{"../../Model/M_Basics/GameData":"GameData","../../Model/M_Basics/VideoSwitch":"VideoSwitch","../../Model/M_instance/DMB_Orchard":"DMB_Orchard","../../i18n/i18nMgr":"i18nMgr","../currency/UI_Ctrl":"UI_Ctrl","../currency/UI_Events":"UI_Events","../currency/UI_Manager":"UI_Manager","../currency/UI_ObjectPool":"UI_ObjectPool","../currency/UI_PlayMS":"UI_PlayMS","./V_orchard_seed":"V_orchard_seed"}],VideoSwitch:[function(e,t,a){"use strict";cc._RF.push(t,"6d5a1Y0GVFILJjOOHPjysQ4","VideoSwitch"),Object.defineProperty(a,"__esModule",{value:!0}),a.VideoSwitch=void 0;var i=function(){function e(){this.RechargeControl_Gem=!0,this.RechargeControl_Cash=!0,this.RechargeControl_material=!0,this.balloonControl=!0,this.farmingDouble=!0,this.orchardDouble=!0,this.flowersDouble=!0,this.farmDouble=!0,this.farmFast=!0,this.fishDouble=!0,this.fishFast=!0,this.kitchenRoomOnekeyDouble=!0,this.StorageRoomOnekeyDouble=!0,this.canteenDouble=!0,this.freightStationCome=!0,this.freightStationFast=!0,this.freightStationDouble=!0,this.MessHallDouble=!0,this.DeliverGoodsDouble=!0,this.DeliverGoodsRefresh=!0,this.DeliverGoodsImmediately=!0,this.RarbageStationCome=!0,this.goOutGoodsRefresh=!0,this.goOutRefreshOrder=!0,this.goOutDoubleSell=!0,this.goOutDoubleUnloading=!0,this.EveryDayTaskComplete=!0,this.EveryDayTask_RewardDouble=!0,this.EveryDayTaskTotal_RewardDouble=!0,this.BranchLineTaskRefresh=!0,this.BranchLineTaskDouble=!0,this.ThreadaskDouble=!0,this.AchievementDouble=!0,this.SignInDouble=!0}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();a.VideoSwitch=i,cc._RF.pop()},{}],httpSever:[function(e,t,a){"use strict";cc._RF.push(t,"b8accZWfwdMxKUIByAGbegn","httpSever"),Object.defineProperty(a,"__esModule",{value:!0}),a.httpServer=void 0;var i=function(){function e(){}return e.httpPost=function(e,t,a){void 0===a&&(a=null),cc.log("httpPost \u5f00\u59cb\u8bf7\u6c42\u670d\u52a1\u7aef  \u5730\u5740 = > "+e,"\u5f00\u59cb\u8bf7\u6c42\u670d\u52a1\u7aef  \u53c2\u6570 = > "+JSON.stringify(t));var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){if(cc.log("httpPost \u670d\u52a1\u7aef\u8bf7\u6c42 \u8fd4\u56de ","\nxhr.status =>"+i.status,"\nxhr.readyState =>"+i.readyState,"\nxhr.responseText =>"+i.responseText),4==i.readyState&&i.status>=200&&i.status<400){var e=i.responseText,t=JSON.parse(e);null!=a&&a(t)}},i.onabort=function(){},i.onerror=function(){},i.ontimeout=function(){},i.open("POST",e,!0),i.setRequestHeader("Access-Control-Allow-Origin","*"),i.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),i.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),i.setRequestHeader("Content-Type","application/json"),i.timeout=8e3,i.send(JSON.stringify(t))},e.httpGet=function(e,t){void 0===t&&(t=null),cc.log("httpGet \u5f00\u59cb\u8bf7\u6c42\u670d\u52a1\u7aef  \u5730\u5740 = > "+e);var a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){if(cc.log("httpGet \u670d\u52a1\u7aef\u8bf7\u6c42 \u8fd4\u56de ","\nxhr.status =>"+a.status,"\nxhr.readyState =>"+a.readyState,"\nxhr.responseText =>"+a.responseText),4==a.readyState&&200==a.status){var e=a.responseText,i=JSON.parse(e);null!=t&&t(i)}},a.onabort=function(){},a.onerror=function(){},a.ontimeout=function(){},a.open("GET",e,!0),a.setRequestHeader("Access-Control-Allow-Origin","*"),a.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),a.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),a.setRequestHeader("Content-Type","application/json"),a.timeout=8e3,a.send()},e}();a.httpServer=i,cc._RF.pop()},{}],i18nLabel:[function(e,t,a){"use strict";cc._RF.push(t,"b9886QzqYZGsqulf57BDo3/","i18nLabel");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.i18nLabel=void 0;var o=e("./i18nMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=r.executeInEditMode,h=r.disallowMultiple,d=r.requireComponent,_=r.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.i18n_string="",t.i18n_params=[],t}return i(t,e),t.prototype.start=function(){o.i18nMgr._addOrDelLabel(this,!0),this._resetValue()},Object.defineProperty(t.prototype,"string",{get:function(){return this.i18n_string},set:function(e){this.i18n_string=e;var t=this.getComponent(cc.Label);cc.isValid(t)&&(t.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.i18n_params},set:function(e){this.i18n_params=e;var t=this.getComponent(cc.Label);cc.isValid(t)&&(cc.log(this.i18n_string),t.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){this.i18n_string=e,this.i18n_params=t;var a=this.getComponent(cc.Label);cc.isValid(a)&&(a.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},t.prototype._resetValue=function(){this.string=this.i18n_string},t.prototype.onDestroy=function(){o.i18nMgr._addOrDelLabel(this,!1)},n([c({visible:!1})],t.prototype,"i18n_string",void 0),n([c({visible:!1})],t.prototype,"i18n_params",void 0),n([c({type:cc.String})],t.prototype,"string",null),n([c({type:[cc.String]})],t.prototype,"params",null),t=n([s,l,d(cc.Label),h,_("\u591a\u8bed\u8a00/i18nLabel")],t)}(cc.Component);a.i18nLabel=m,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],i18nMgr:[function(e,t,a){"use strict";cc._RF.push(t,"ce4b73uahBK0py5CBNOQqCP","i18nMgr"),Object.defineProperty(a,"__esModule",{value:!0}),a.i18nMgr=void 0;var i=function(){function e(){}return e.checkInit=function(){this.language||this.setLanguage("zhj")},e.setLanguage=function(e){this.language!==e&&(this.language=e,this.reloadTxT(),this.reloadSprite())},e._addOrDelLabel=function(e,t){if(t)this.labelArr.push(e);else{var a=this.labelArr.indexOf(e);-1!==a&&this.labelArr.splice(a,1)}},e._addOrDelRichtext=function(e,t){if(t)this.RichtextArr.push(e);else{var a=this.RichtextArr.indexOf(e);-1!==a&&this.RichtextArr.splice(a,1)}},e._addOrDelSprite=function(e,t){if(t)this.spriteArr.push(e);else{var a=this.spriteArr.indexOf(e);-1!==a&&this.spriteArr.splice(a,1)}},e._getString=function(e,t){void 0===t&&(t=[]),this.checkInit();var a=e.split("."),i=a.length,n=this.TxTData[a[0]];if(void 0==n)return e;for(var o=1;o<i;o++){if(void 0==n[a[o]])return e;n=n[a[o]]}if(0===t.length)return n||e;for(var r=0;r<t.length;r++)n=n.replace("%s",t[r]);return n||e},e._getSprite=function(e,t){this.checkInit(),cc.loader.loadRes("i18n/Sprite/"+this.language+"/"+e,cc.SpriteFrame,function(e,a){if(e)return t(null);t(a)})},e.reloadTxT=function(){var e=this,t="i18n/TxTString/"+this.language;cc.loader.loadRes(t,function(t,a){t?(cc.error(t),e.TxTData={}):e.TxTData=a.json;for(var i=0,n=e.labelArr;i<n.length;i++){n[i]._resetValue()}for(var o=0,r=e.RichtextArr;o<r.length;o++){r[o]._resetValue()}})},e.reloadSprite=function(){for(var e=0,t=this.spriteArr;e<t.length;e++){t[e]._resetValue()}},e.language="",e.TxTData={},e.labelArr=[],e.RichtextArr=[],e.spriteArr=[],e}();a.i18nMgr=i,cc._RF.pop()},{}],i18nRichtext:[function(e,t,a){"use strict";cc._RF.push(t,"5d9d5cSqWJGuIlnsjO/E10H","i18nRichtext");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.i18nRichtext=void 0;var o=e("./i18nMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=r.executeInEditMode,h=r.disallowMultiple,d=r.requireComponent,_=r.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.i18n_string="",t.i18n_params=[],t}return i(t,e),t.prototype.start=function(){o.i18nMgr._addOrDelRichtext(this,!0),this._resetValue()},Object.defineProperty(t.prototype,"string",{get:function(){return this.i18n_string},set:function(e){this.i18n_string=e;var t=this.getComponent(cc.RichText);cc.isValid(t)&&(t.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.i18n_params},set:function(e){this.i18n_params=e;var t=this.getComponent(cc.RichText);cc.isValid(t)&&(t.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){this.i18n_string=e,this.i18n_params=t;var a=this.getComponent(cc.RichText);cc.isValid(a)&&(a.string=o.i18nMgr._getString(this.i18n_string,this.i18n_params))},t.prototype._resetValue=function(){this.string=this.i18n_string},t.prototype.onDestroy=function(){o.i18nMgr._addOrDelRichtext(this,!1)},n([c({visible:!1})],t.prototype,"i18n_string",void 0),n([c({visible:!1})],t.prototype,"i18n_params",void 0),n([c({type:cc.String})],t.prototype,"string",null),n([c({type:[cc.String]})],t.prototype,"params",null),t=n([s,l,d(cc.RichText),h,_("\u591a\u8bed\u8a00/i18nRichtext")],t)}(cc.Component);a.i18nRichtext=m,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],i18nSprite:[function(e,t,a){"use strict";cc._RF.push(t,"d1431G9aXxAALUWC8UI/P/y","i18nSprite");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.i18nSprite=void 0;var o=e("./i18nMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=r.executeInEditMode,h=r.disallowMultiple,d=r.requireComponent,_=r.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.i18n_string="",t}return i(t,e),t.prototype.start=function(){o.i18nMgr._addOrDelSprite(this,!0),this._resetValue()},Object.defineProperty(t.prototype,"string",{get:function(){return this.i18n_string},set:function(e){this.i18n_string=e;var t=this.getComponent(cc.Sprite);cc.isValid(t)&&o.i18nMgr._getSprite(e,function(e){cc.isValid(t)&&(t.spriteFrame=e)})},enumerable:!1,configurable:!0}),t.prototype._resetValue=function(){this.string=this.i18n_string},t.prototype.onDestroy=function(){o.i18nMgr._addOrDelSprite(this,!1)},n([c({visible:!1})],t.prototype,"i18n_string",void 0),n([c({type:cc.String})],t.prototype,"string",null),t=n([s,l,d(cc.Sprite),h,_("\u591a\u8bed\u8a00/i18nSprite")],t)}(cc.Component);a.i18nSprite=m,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],interface:[function(e,t,a){"use strict";cc._RF.push(t,"3a882f19VNLBadFFR8soVVE","interface"),cc._RF.pop()},{}],scene_APKUpdate:[function(e,t,a){"use strict";cc._RF.push(t,"94aa55kYJBOg55SSu1rwe/5","scene_APKUpdate");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../Model/M_Basics/GameData"),r=e("../Model/network/httpSever"),s=cc._decorator,c=s.ccclass,l=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DialogLayer=null,t.TipsTxt=null,t.CloseBtn=null,t.UPBtn=null,t.errcode=0,t.VersionNum=0,t}return i(t,e),t.prototype.start=function(){var e=this;this.DialogLayer.active=!1,this.CloseBtn.active=!1,this.UPBtn.active=!1,this.VersionNum=0,this.CloseBtn.on(cc.Node.EventType.TOUCH_END,function(e){cc.director.loadScene("HotUpdateScene")},this),this.UPBtn.on(cc.Node.EventType.TOUCH_END,function(t){switch(this.errcode){case 0:cc.sys.openURL("http://47.106.211.251:9089/apk/nzcyzn_"+e.VersionNum+".apk");break;case 1:cc.game.end()}},this),cc.sys.isNative?this.httpPost():(cc.log("web \u5e73\u53f0\u4e0d\u9700\u66f4\u65b0APK"),cc.director.loadScene("HotUpdateScene"))},t.prototype.httpPost=function(){var e=this;r.httpServer.httpPost("http://47.106.211.251:9059/user/getVersionInfo",null,function(t){0==t.errcode?(e.VersionNum=t.data.version,e.VersionNum!=o.GameData.instance.APKVersion?(e.TipsTxt.getComponent(cc.Label).string="\u5ba2\u6237\u7aef\u53d1\u73b0\u65b0\u7248\u672c\u8bf7\u66f4\u65b0\uff01",e.DialogLayer.active=!0,1==t.data.type?(e.CloseBtn.active=!1,e.UPBtn.active=!0,e.UPBtn.x=0,cc.log("\u5f3a\u5236 \u66f4\u65b0APK")):(e.CloseBtn.active=!0,e.CloseBtn.x=-150,e.UPBtn.active=!0,e.UPBtn.x=150,cc.log("\u4e0d\u5f3a\u5236 \u66f4\u65b0APK"))):(cc.log("\u65e0\u9700 \u66f4\u65b0APK"),cc.director.loadScene("HotUpdateScene"))):1==t.errcode&&(cc.log("\u9519\u8bef"),e.TipsTxt.getComponent(cc.Label).string=t.sucess,e.CloseBtn.active=!1,e.UPBtn.active=!0,e.UPBtn.x=0)})},n([l({type:cc.Node,displayName:"DialogLayer",tooltip:"\u63d0\u793a\u6846"})],t.prototype,"DialogLayer",void 0),n([l({type:cc.Node,displayName:"TipsTxt",tooltip:"\u63d0\u793a\u6587\u5b57"})],t.prototype,"TipsTxt",void 0),n([l({type:cc.Node,displayName:"CloseBtn",tooltip:"\u8df3\u8fc7\u6309\u94ae"})],t.prototype,"CloseBtn",void 0),n([l({type:cc.Node,displayName:"UPBtn",tooltip:"\u5347\u7ea7\u6309\u94ae"})],t.prototype,"UPBtn",void 0),t=n([c],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../Model/M_Basics/GameData":"GameData","../Model/network/httpSever":"httpSever"}],scene_Game:[function(e,t,a){"use strict";cc._RF.push(t,"a4157L41lZJ2ZMmLGgLE0VL","scene_Game");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/CommonFun"),s=e("../Model/M_Basics/GameData"),c=e("../Model/M_Basics/VideoSwitch"),l=e("../Model/M_config/AuxiliaryConfig"),h=e("../Model/M_config/RoomConfig"),d=e("../Model/M_instance/DMA_Canteen"),_=e("../Model/M_instance/DMA_DeliverGoods"),m=e("../Model/M_instance/DMA_FreightStation"),u=e("../Model/M_instance/DMA_KitchenRoom"),g=e("../Model/M_instance/DMA_MessHallStation"),p=e("../Model/M_instance/DMA_RarbageStation"),f=e("../Model/M_instance/DMC_Achievement"),C=e("../Model/M_instance/DMC_Task"),y=e("../Model/M_instance/DMD_7DaySignIn"),D=e("../Model/M_instance/DME_Decoration"),v=e("../Model/M_instance/DME_Pet"),M=e("../Model/M_instance/DME_Theme"),S=e("./currency/UI_Events"),I=e("./currency/UI_Manager"),B=e("./currency/UI_ObjectPool"),N=e("./currency/UI_PlayMS"),k=e("./V_Game"),b=cc._decorator,T=b.ccclass,U=b.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIGame=null,t.ChuaFangAnimName="",t.ShiTangAnimName="",t.count=0,t.transitCount=0,t.leadScriptCount=0,t.userPos=[[!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1]],t.LastType=-1,t}return i(t,e),t.prototype.onDestroy=function(){this.removeMonitorEvent()},t.prototype.start=function(){var e=this;N.UI_PlayMS.instance.playMusic2("season"),this.UIGame.getObjectNode(),this.UIGame.Add_clickEvent(),this.scheduleOnce(function(t){e.CloseMask(),e.RefreshCashGem(),e.BuildingRefresh_ChuFang(),e.BuildingRefresh_ZhuFang(),e.BuildingRefresh_KuFang(),e.BuildingRefresh_CanGuan(),e.BuildingRefresh_CanGuanZhuoYi(),e.BuildingRefresh_XiaoMaiBu(),e.BuildingRefresh_LaJiZhan(),e.BuildingRefresh_HuoYuanZhan(),e.BuildingRefresh_WuLiuZhongXin(),e.BuildingRefresh_GongJiaoZhan();for(var a=0;a<4;a++)e.ThemeRefresh_Public(a);for(a=0;a<6;a++)e.Ornament_Refresh_Public(a);e.RefreshHomeTask(),e.RefresPet(),e.FreightStationAnimation(2),e.DeliverGoodsAnimation(2),e.CashGem_HongDianTips(),e.CanteenPre_Tips(),e.FreightStation_HongDianTips(),e.DeliverGoods_HongDianTips(),e.SignIn7_HongDianTips(),e.Achievement_HongDianTips(),e.addMonitorEvent()})},t.prototype.addMonitorEvent=function(){S.UI_Events.instance.onEvents("OpenMask",this.OpenMask,this),S.UI_Events.instance.onEvents("CloseMask",this.CloseMask,this),S.UI_Events.instance.onEvents("RefreshCashGem",this.RefreshCashGem,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_ChuFang",this.BuildingRefresh_ChuFang,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_ZhuFang",this.BuildingRefresh_ZhuFang,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_KuFang",this.BuildingRefresh_KuFang,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_CanGuan",this.BuildingRefresh_CanGuan,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_CanGuanZhuoYi",this.BuildingRefresh_CanGuanZhuoYi,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_XiaoMaiBu",this.BuildingRefresh_XiaoMaiBu,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_LaJiZhan",this.BuildingRefresh_LaJiZhan,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_HuoYuanZhan",this.BuildingRefresh_HuoYuanZhan,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_WuLiuZhongXin",this.BuildingRefresh_WuLiuZhongXin,this),S.UI_Events.instance.onEvents("Game_BuildingRefresh_GongJiaoZhan",this.BuildingRefresh_GongJiaoZhan,this),S.UI_Events.instance.onEvents("Game_ThemeRefresh_Public",this.ThemeRefresh_Public,this),S.UI_Events.instance.onEvents("Game_Ornament_Refresh_Public",this.Ornament_Refresh_Public,this),S.UI_Events.instance.onEvents("OpenGamePrefab",this.UIGame.OpenGamePrefab,this.UIGame),S.UI_Events.instance.onEvents("CloseGamePrefab",this.UIGame.CloseGamePrefab,this.UIGame),S.UI_Events.instance.onEvents("openRecharge_Cash",this.UIGame.openRecharge_Cash,this.UIGame),S.UI_Events.instance.onEvents("openRecharge_Gem",this.UIGame.openRecharge_Gem,this.UIGame),S.UI_Events.instance.onEvents("openRecharge_material",this.UIGame.openRecharge_material,this.UIGame),S.UI_Events.instance.onEvents("openRecharge_physical",this.UIGame.openRecharge_physical,this.UIGame),S.UI_Events.instance.onEvents("OpenDoubleHarvest",this.UIGame.OpenDoubleHarvest,this.UIGame),S.UI_Events.instance.onEvents("RefreshHomeTask",this.RefreshHomeTask,this),S.UI_Events.instance.onEvents("NPC_dropLitter",this.Func_dropLitter,this),S.UI_Events.instance.onEvents("FreightStationAnimation",this.FreightStationAnimation,this),S.UI_Events.instance.onEvents("DeliverGoodsAnimation",this.DeliverGoodsAnimation,this),S.UI_Events.instance.onEvents("RefresPet",this.RefresPet,this),S.UI_Events.instance.onEvents("CashGem_HongDianTips",this.CashGem_HongDianTips,this),S.UI_Events.instance.onEvents("CanteenPre_Tips",this.CanteenPre_Tips,this),S.UI_Events.instance.onEvents("FreightStation_HongDianTips",this.FreightStation_HongDianTips,this),S.UI_Events.instance.onEvents("DeliverGoods_HongDianTips",this.DeliverGoods_HongDianTips,this),S.UI_Events.instance.onEvents("SignIn7_HongDianTips",this.SignIn7_HongDianTips,this),S.UI_Events.instance.onEvents("Achievement_HongDianTips",this.Achievement_HongDianTips,this)},t.prototype.removeMonitorEvent=function(){S.UI_Events.instance.offEvents("OpenMask",this.OpenMask,this),S.UI_Events.instance.offEvents("CloseMask",this.CloseMask,this),S.UI_Events.instance.offEvents("RefreshCashGem",this.RefreshCashGem,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_ChuFang",this.BuildingRefresh_ChuFang,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_ZhuFang",this.BuildingRefresh_ZhuFang,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_KuFang",this.BuildingRefresh_KuFang,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_CanGuan",this.BuildingRefresh_CanGuan,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_CanGuanZhuoYi",this.BuildingRefresh_CanGuanZhuoYi,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_XiaoMaiBu",this.BuildingRefresh_XiaoMaiBu,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_LaJiZhan",this.BuildingRefresh_LaJiZhan,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_HuoYuanZhan",this.BuildingRefresh_HuoYuanZhan,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_WuLiuZhongXin",this.BuildingRefresh_WuLiuZhongXin,this),S.UI_Events.instance.offEvents("Game_BuildingRefresh_GongJiaoZhan",this.BuildingRefresh_GongJiaoZhan,this),S.UI_Events.instance.offEvents("Game_ThemeRefresh_Public",this.ThemeRefresh_Public,this),S.UI_Events.instance.offEvents("Game_Ornament_Refresh_Public",this.Ornament_Refresh_Public,this),S.UI_Events.instance.offEvents("OpenGamePrefab",this.UIGame.OpenGamePrefab,this.UIGame),S.UI_Events.instance.offEvents("CloseGamePrefab",this.UIGame.CloseGamePrefab,this.UIGame),S.UI_Events.instance.offEvents("openRecharge_Cash",this.UIGame.openRecharge_Cash,this.UIGame),S.UI_Events.instance.offEvents("openRecharge_Gem",this.UIGame.openRecharge_Gem,this.UIGame),S.UI_Events.instance.offEvents("openRecharge_material",this.UIGame.openRecharge_material,this.UIGame),S.UI_Events.instance.offEvents("openRecharge_physical",this.UIGame.openRecharge_physical,this.UIGame),S.UI_Events.instance.offEvents("OpenDoubleHarvest",this.UIGame.OpenDoubleHarvest,this.UIGame),S.UI_Events.instance.offEvents("RefreshHomeTask",this.RefreshHomeTask,this),S.UI_Events.instance.offEvents("NPC_dropLitter",this.Func_dropLitter,this),S.UI_Events.instance.offEvents("FreightStationAnimation",this.FreightStationAnimation,this),S.UI_Events.instance.offEvents("DeliverGoodsAnimation",this.DeliverGoodsAnimation,this),S.UI_Events.instance.offEvents("RefresPet",this.RefresPet,this),S.UI_Events.instance.offEvents("CashGem_HongDianTips",this.CashGem_HongDianTips,this),S.UI_Events.instance.offEvents("CanteenPre_Tips",this.CanteenPre_Tips,this),S.UI_Events.instance.offEvents("FreightStation_HongDianTips",this.FreightStation_HongDianTips,this),S.UI_Events.instance.offEvents("DeliverGoods_HongDianTips",this.DeliverGoods_HongDianTips,this),S.UI_Events.instance.offEvents("SignIn7_HongDianTips",this.SignIn7_HongDianTips,this),S.UI_Events.instance.offEvents("Achievement_HongDianTips",this.Achievement_HongDianTips,this)},t.prototype.RefreshCashGem=function(){this.UIGame._CashNode.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(s.GameData.instance.MasterData.GameCash),this.UIGame._GemNode.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(s.GameData.instance.MasterData.GameGem)},t.prototype.OpenMask=function(){this.UIGame._UIMaskNode.active=!0},t.prototype.CloseMask=function(){this.UIGame._UIMaskNode.active=!1},t.prototype.BuildingRefresh_ChuFang=function(){Math.ceil((s.GameData.instance.MasterData.KitchenRoomLevel+1)/2);var e=Math.floor(s.GameData.instance.MasterData.KitchenRoomLevel/2);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ChuFangNode,"texture/build/ChuFang_%s",e,!0)},t.prototype.BuildingRefresh_ZhuFang=function(){var e=Math.floor(s.GameData.instance.MasterData.MainRoomLevel/3);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ZhuFangNode,"texture/build/ZhuFang_%s",e,!0)},t.prototype.BuildingRefresh_KuFang=function(){var e=Math.floor(s.GameData.instance.MasterData.StorageRoomLevel/4);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._KuFangNode,"texture/build/CangKu_%s",e,!0)},t.prototype.BuildingRefresh_CanGuan=function(){if(s.GameData.instance.MasterData.messHallStationLevel>=0){var e=Math.floor(s.GameData.instance.MasterData.messHallStationLevel/2);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ShiTangNode,"texture/build/CanYin_%s",e,!0)}else I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ShiTangNode,"texture/build/CanYin_%s",0,!0)},t.prototype.BuildingRefresh_CanGuanZhuoYi=function(){if(s.GameData.instance.MasterData.messHallStationLevel>=0)for(var e=g.DMA_MessHallStation.instance.TablesChairs_Data.indexOf(1),t=0;t<2;t++)this.UIGame._CanZhuoNode.children[t].active=!0,I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._CanZhuoNode.children[t].getChildByName("Zhuo"),"texture/build/messHall_Zhuo_%s",e,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._CanZhuoNode.children[t].getChildByName("Yi_Left"),"texture/build/messHall_Yi_%s",e,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._CanZhuoNode.children[t].getChildByName("Yi_Right"),"texture/build/messHall_Yi_%s",e,!0);else for(t=0;t<2;t++)this.UIGame._CanZhuoNode.children[t].active=!1},t.prototype.BuildingRefresh_XiaoMaiBu=function(){if(s.GameData.instance.MasterData.CanteenLevel>=0){var e=Math.floor(s.GameData.instance.MasterData.CanteenLevel/2);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._XiaoMaiBuNode,"texture/build/XiaoMaiBu_%s",e,!0)}else I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._XiaoMaiBuNode,"texture/build/XiaoMaiBu_%s",0,!0)},t.prototype.BuildingRefresh_LaJiZhan=function(){if(s.GameData.instance.MasterData.rarbageStationLevel>=0){var e=Math.floor(s.GameData.instance.MasterData.rarbageStationLevel/2);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._LaJiZhanBuNode,"texture/build/LaJiZhan_%s",e,!0)}else I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._LaJiZhanBuNode,"texture/build/LaJiZhan_%s",0,!0)},t.prototype.BuildingRefresh_HuoYuanZhan=function(){var e=Math.floor(s.GameData.instance.MasterData.FreightStationLevel/2);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._HuoYunZhanBuNode,"texture/build/HuoYunZhan_%s",e,!0)},t.prototype.BuildingRefresh_WuLiuZhongXin=function(){if(s.GameData.instance.MasterData.deliverGoodsLevel>=0){var e=Math.floor(s.GameData.instance.MasterData.deliverGoodsLevel/3);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._YunShuZhanNode,"texture/build/WuLiuZhongXin_%s",e,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._YunShuCheNode,"texture/build/WuLiuChe_%s",e,!0)}else I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._YunShuZhanNode,"texture/build/WuLiuZhongXin_%s",0,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._YunShuCheNode,"texture/build/WuLiuChe_%s",0,!0)},t.prototype.BuildingRefresh_GongJiaoZhan=function(){if(s.GameData.instance.MasterData.transitStationLevel>=0){var e=Math.floor(s.GameData.instance.MasterData.transitStationLevel/3);I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._GongJiaoZhanNode,"texture/build/GongJiaoZhan_%s",e,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._GongJiaoCheNode,"texture/build/GongJiaoZhan_Che_%s",e,!0)}else I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._GongJiaoZhanNode,"texture/build/GongJiaoZhan_%s",0,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._GongJiaoCheNode,"texture/build/GongJiaoZhan_Che_%s",0,!0),this.UIGame._GongJiaoCheNode.setPosition(88,-1250)},t.prototype.ThemeRefresh_Public=function(e){var t=M.DME_Theme.instance.Theme_Data[e].indexOf(1);switch(e){case 0:I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._floor,"texture/DiMianjpg/floor_%s",t,!0);break;case 1:I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._wallTop,"texture/build/wall_B_%s",t+1,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._wallTop.getChildByName("Left"),"texture/build/wall_C_%s",t+1,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._wallTop.getChildByName("Right"),"texture/build/wall_C_%s",t+1,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._wallBottum,"texture/build/wall_Z_%s",t+1,!0),this.UIGame._wallMenLou.active=!0,I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._wallMenLou,"texture/build/wall_T_%s",t+1,!0);break;case 2:I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ZhaLan.getChildByName("ZhaLan_S"),"texture/build/fence_TianDi_a%s",t,!0),I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ZhaLan.getChildByName("ZhaLan_C"),"texture/build/fence_TianDi_b%s",t,!0);break;case 3:I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._road,"texture/build/road_%s",t,!0)}},t.prototype.Ornament_Refresh_Public=function(e){var t=D.DME_Decoration.instance.Decoration_Data[e].indexOf(1);-1==t?this.UIGame._ZhuangShiNode[e].active=!1:(this.UIGame._ZhuangShiNode[e].active=!0,I.UI_Manager.instance.loadNewReleaseOld(this.UIGame._ZhuangShiNode[e],"texture/build/zhuangshi"+(e+1)+"_"+(t+1),null,!0))},t.prototype.RefreshHomeTask=function(){var e=C.DMC_Task.instance.Thread_Task_Data.taskID;e>=l.AuxiliaryConfig.taskThread_config.length?this.UIGame._ZhuXianTask.active=!1:(this.UIGame._ZhuXianTask.active=!0,this.UIGame._ZhuXianTask.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("task.Task_"+C.DMC_Task.instance.Thread_Task_Data.type,[""+l.AuxiliaryConfig.taskThread_config[e].target]),this.UIGame._ZhuXianTask.getChildByName("DuiHao").active=C.DMC_Task.instance.IsNotClaimed_TaskThread());var t=C.DMC_Task.instance.taskBranchLineData.item,a=C.DMC_Task.instance.taskBranchLineData.type,i=C.DMC_Task.instance.taskBranchLineData.target;if(""==t)this.UIGame._ZhiXianTask.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("task."+a,[""+i]);else{var n=o.i18nMgr._getString("item."+t+"._Name");this.UIGame._ZhiXianTask.getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("task."+a+"1",[""+n,""+i])}this.UIGame._ZhiXianTask.getChildByName("DuiHao").active=C.DMC_Task.instance.taskBranchLineData.complete,cc.find("Canvas/UIBtn/bottom/RenWu/Tips").active=1==C.DMC_Task.instance.taskBranchLineData.complete||1==C.DMC_Task.instance.IsNotClaimed_TaskThread()||1==C.DMC_Task.instance.SatisfyTaskEveryDay()},t.prototype.RefresPet=function(){for(var e=0;e<3;e++)0==v.DME_Pet.instance.Pet_Data[e]?this.UIGame._PetNode[e].active=!1:this.UIGame._PetNode[e].active=!0},t.prototype.DeliverGoodsAnimation=function(e){0==e?(this.UIGame._YunShuCheNode.setPosition(-75,-958),cc.tween(this.UIGame._YunShuCheNode).to(3,{position:cc.v3(-75,-1250)}).start()):1==e?(this.UIGame._YunShuCheNode.setPosition(-75,-1250),cc.tween(this.UIGame._YunShuCheNode).to(3,{position:cc.v3(-75,-958)}).start()):-1==_.DMA_DeliverGoods.instance.DeliverGoods_Data.endTime?this.UIGame._YunShuCheNode.setPosition(-75,-958):this.UIGame._YunShuCheNode.setPosition(-75,-1250)},t.prototype.FreightStationAnimation=function(e){var t=this;this.UIGame._HuoYunZhanCheNode.stopAllActions();var a=m.DMA_FreightStation.instance.FreightCar_Data.own.indexOf(1)+1;0==e?(this.UIGame._HuoYunZhanBuNode.getChildByName("animation").active=!1,this.UIGame._HuoYunZhanCheNode.getChildByName("truck").getComponent(sp.Skeleton).setAnimation(0,"truck_"+a+"_walk",!0),this.UIGame._HuoYunZhanCheNode.setPosition(380,-980),this.UIGame._HuoYunZhanCheNode.scaleX=1,cc.tween(this.UIGame._HuoYunZhanCheNode).to(3,{position:cc.v3(1100,-980)}).call(function(){t.UIGame._HuoYunZhanCheNode.getChildByName("truck").getComponent(sp.Skeleton).setAnimation(0,"truck_"+a+"_wait",!0),t.UIGame._HuoYunZhanCheNode.scaleX=1}).start()):1==e?(this.UIGame._HuoYunZhanCheNode.getChildByName("truck").getComponent(sp.Skeleton).setAnimation(0,"truck_"+a+"_walk",!0),this.UIGame._HuoYunZhanCheNode.setPosition(1100,-980),this.UIGame._HuoYunZhanCheNode.scaleX=-1,cc.tween(this.UIGame._HuoYunZhanCheNode).to(3,{position:cc.v3(380,-980)}).call(function(){t.UIGame._HuoYunZhanCheNode.getChildByName("truck").getComponent(sp.Skeleton).setAnimation(0,"truck_"+a+"_wait",!0),t.UIGame._HuoYunZhanCheNode.scaleX=1,t.UIGame._HuoYunZhanBuNode.getChildByName("animation").active=!0}).start()):(this.UIGame._HuoYunZhanCheNode.getChildByName("truck").getComponent(sp.Skeleton).setAnimation(0,"truck_"+a+"_wait",!0),this.UIGame._HuoYunZhanCheNode.scaleX=1,2==m.DMA_FreightStation.instance.FreightCar_Data.Data.state?(this.UIGame._HuoYunZhanCheNode.setPosition(1100,-980),this.UIGame._HuoYunZhanBuNode.getChildByName("animation").active=!1):(this.UIGame._HuoYunZhanCheNode.setPosition(380,-980),this.UIGame._HuoYunZhanBuNode.getChildByName("animation").active=!0))},t.prototype.Refresh_ChuFang_Animation=function(e){var t=e.state1,a=e.state2;this.UIGame._ChuFangNode&&(1==t?"b_cook"!=this.ChuaFangAnimName&&(this.ChuaFangAnimName="b_cook",this.UIGame._ChuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"b_cook",!0)):"z_wait"!=this.ChuaFangAnimName&&(this.ChuaFangAnimName="z_wait",this.UIGame._ChuFangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait",!0)),this.UIGame._ChuFangNode.getChildByName("Yan").active!=a&&(this.UIGame._ChuFangNode.getChildByName("Yan").active=a))},t.prototype.Refresh_ShiTang_Animation=function(e){this.UIGame._ShiTangNode&&(1==e?"c_cook"!=this.ShiTangAnimName&&(this.ShiTangAnimName="c_cook",this.UIGame._ShiTangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"c_cook",!0)):"z_wait"!=this.ShiTangAnimName&&(this.ShiTangAnimName="z_wait",this.UIGame._ShiTangNode.getChildByName("animation").getChildByName("Spine").getComponent(sp.Skeleton).setAnimation(0,"z_wait",!0)))},t.prototype.update=function(e){var t=this;if(this.count+=e,this.count>=1){this.count=0,this.leadScriptCount++,50==this.leadScriptCount?(this.UIGame._ChuFangNode.getChildByName("animation").getChildByName("Jiao").active=!0,this.UIGame._ChuFangNode.getChildByName("animation").getChildByName("Jiao").getChildByName("Kuang").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lead1."+r.FuncCommon.random(1,10))):60==this.leadScriptCount?(this.UIGame._ChuFangNode.getChildByName("animation").getChildByName("Jiao").active=!1,this.UIGame._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Jiao").active=!0,this.UIGame._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Jiao").getChildByName("Kuang").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lead2."+r.FuncCommon.random(1,10))):70==this.leadScriptCount?(this.UIGame._HuoYunZhanBuNode.getChildByName("animation").getChildByName("Jiao").active=!1,this.UIGame._ShiTangNode.getChildByName("animation").getChildByName("Jiao").active=!0,this.UIGame._ShiTangNode.getChildByName("animation").getChildByName("Jiao").getChildByName("Kuang").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lead3."+r.FuncCommon.random(1,10))):80==this.leadScriptCount?(this.UIGame._ShiTangNode.getChildByName("animation").getChildByName("Jiao").active=!1,this.UIGame._XiaoMaiBuNode.getChildByName("animation").getChildByName("Jiao").active=!0,this.UIGame._XiaoMaiBuNode.getChildByName("animation").getChildByName("Jiao").getChildByName("Kuang").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lead4."+r.FuncCommon.random(1,10))):90==this.leadScriptCount?(this.UIGame._XiaoMaiBuNode.getChildByName("animation").getChildByName("Jiao").active=!1,this.UIGame._ZhuFangNode.getChildByName("animation").getChildByName("Jiao").active=!0,this.UIGame._ZhuFangNode.getChildByName("animation").getChildByName("Jiao").getChildByName("Kuang").getChildByName("TXT").getComponent(cc.Label).string=o.i18nMgr._getString("secretary.lead5."+r.FuncCommon.random(1,10))):100==this.leadScriptCount&&(this.leadScriptCount=0,this.UIGame._ZhuFangNode.getChildByName("animation").getChildByName("Jiao").active=!1);for(var a=u.DMA_KitchenRoom.instance.MachiningData.length,i=!1,n=!1,l=0;l<a;l++)for(var d=u.DMA_KitchenRoom.instance.MachiningData[l].length,f=0;f<d;f++)u.DMA_KitchenRoom.instance.MachiningData[l][f].endTime>s.GameData.instance.TimeServer?(S.UI_Events.instance.emitEvents("V_KitchenRoomPre_updatetime",{Category:l,index:f,state:!1}),i=!0):1==u.DMA_KitchenRoom.instance.MachiningData[l][f].state?(u.DMA_KitchenRoom.instance.FastMaking(l,f),S.UI_Events.instance.emitEvents("V_KitchenRoomPre_updatetime",{Category:l,index:f,state:!0})):2==u.DMA_KitchenRoom.instance.MachiningData[l][f].state&&(n=!0);this.Refresh_ChuFang_Animation({state1:i,state2:n}),2==m.DMA_FreightStation.instance.FreightCar_Data.Data.state&&(m.DMA_FreightStation.instance.FreightCar_Data.Data.endTime>s.GameData.instance.TimeServer?S.UI_Events.instance.emitEvents("V_FreightStationPre_updateOrderState",!1):(m.DMA_FreightStation.instance.FastDelivery(0),S.UI_Events.instance.emitEvents("V_FreightStationPre_updateOrderState",!0),this.FreightStationAnimation(1)));var C=!1;if(s.GameData.instance.MasterData.messHallStationLevel>=0)if((d=g.DMA_MessHallStation.instance.messHall_machiningData.data.length)>=1)for(var y=0;y<d;y++){if(!(g.DMA_MessHallStation.instance.messHall_machiningData.data[y].endTime[0]>s.GameData.instance.TimeServer)){g.DMA_MessHallStation.instance.quickenMachining(y,0),S.UI_Events.instance.emitEvents("V_MessHallStationPre_updatetime",-1);break}S.UI_Events.instance.emitEvents("V_MessHallStationPre_updatetime",y),C=!0}if(this.Refresh_ShiTang_Animation(C),s.GameData.instance.MasterData.deliverGoodsLevel>=0&&-1!=_.DMA_DeliverGoods.instance.DeliverGoods_Data.endTime&&(_.DMA_DeliverGoods.instance.DeliverGoods_Data.endTime>s.GameData.instance.TimeServer?S.UI_Events.instance.emitEvents("V_DeliverGoodsPre_updateComeBack",!1):(_.DMA_DeliverGoods.instance.transportFast(0),S.UI_Events.instance.emitEvents("V_DeliverGoodsPre_updateComeBack",!0),this.DeliverGoodsAnimation(1))),s.GameData.instance.MasterData.rarbageStationLevel>=0)for(y=0;y<3;y++)-1!=p.DMA_RarbageStation.instance.rarbageStation_Data.order[y].endTime&&(p.DMA_RarbageStation.instance.rarbageStation_Data.order[y].endTime>s.GameData.instance.TimeServer?S.UI_Events.instance.emitEvents("V_RarbageStationPre_updateOrder",y):(p.DMA_RarbageStation.instance.RefreshOrder(1,y),S.UI_Events.instance.emitEvents("V_RarbageStationPre_updateOrder",-1)));var D=s.GameData.instance.TimeServer-s.GameData.instance.Energy.LastTime;if(D>0){var v=Math.floor(D/(1e3*s.GameData.instance.Energy.Cycle));v>0&&(s.GameData.instance.Energy.Existing+=v,s.GameData.instance.Energy.Existing>s.GameData.instance.Energy.MaxVal&&(s.GameData.instance.Energy.Existing=s.GameData.instance.Energy.MaxVal),s.GameData.instance.Energy.LastTime=s.GameData.instance.TimeServer,r.FuncCommon.setStorage("Energy",s.GameData.instance.Energy));var M=1e3*s.GameData.instance.Energy.Cycle-D%(1e3*s.GameData.instance.Energy.Cycle);S.UI_Events.instance.emitEvents("V_goOut_RefreshTimeEnergy",M)}}if(s.GameData.instance.MasterData.transitStationLevel>=0&&(this.transitCount+=e,this.transitCount>=h.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].Cycle)){this.transitCount=0;var I=this,B=function(){I.UIGame._GongJiaoCheNode.stopAllActions(),cc.tween(I.UIGame._GongJiaoCheNode).to(3,{position:cc.v3(88,-1250)}).start()};(function(){var e=h.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].numGuest;I.UIGame._GongJiaoCheNode.stopAllActions(),cc.tween(I.UIGame._GongJiaoCheNode).to(3,{position:cc.v3(88,-965)}).call(function(){I.GenerateGuest()}).delay(e).call(function(){B()}).start()})()}if(1==c.VideoSwitch.instance.balloonControl&&0==s.GameData.instance.IsGuidePattern&&-1!=this.UIGame.VideoBalloonTime&&(this.UIGame.VideoBalloonTime+=e,this.UIGame.VideoBalloonTime>=60)){this.UIGame.VideoBalloonTime=-1;var N=cc.find("Canvas/VideoRewards"),k=cc.winSize.width/2+200,b=-k;N.stopAllActions(),N.setPosition(k,300);var T=Math.abs(k/100);cc.tween(N).to(T,{position:cc.v3(0,300)}).delay(1).to(T,{position:cc.v3(b,300)}).call(function(){N.setPosition(k,300),t.UIGame.VideoBalloonTime=0}).start()}},t.prototype.GenerateGuest=function(){var e=this,t=h.RoomConfig.transitStation_config[s.GameData.instance.MasterData.transitStationLevel].numGuest;this.schedule(function(){B.UI_ObjectPool.instance.create_CS_Enemy("SpineGuest",function(t){var a=-1,i=-1;if(-1!=s.GameData.instance.MasterData.CanteenLevel&&-1!=s.GameData.instance.MasterData.messHallStationLevel)if(-1==e.LastType)a=0,e.LastType=0;else{0==e.LastType?(e.LastType=1,a=1):1==e.LastType&&(e.LastType=0,a=0);for(var n=e.userPos[a].length,o=[],c=0;c<n;c++)0==e.userPos[a][c]&&o.push(c);if(o.length>0&&(i=(o=r.FuncCommon.Func_Array_shuffle(o))[0],e.userPos[a][i]=!0),0==a&&-1==i){a=1;var l=e.userPos[a].length,h=[];for(c=0;c<l;c++)0==e.userPos[1][c]&&h.push(c);h.length>0&&(i=(h=r.FuncCommon.Func_Array_shuffle(h))[0],e.userPos[a][i]=!0)}}else if(-1!=s.GameData.instance.MasterData.CanteenLevel&&-1==s.GameData.instance.MasterData.messHallStationLevel?a=0:-1==s.GameData.instance.MasterData.CanteenLevel&&-1!=s.GameData.instance.MasterData.messHallStationLevel&&(a=1),-1!=a){for(n=e.userPos[a].length,o=[],c=0;c<n;c++)0==e.userPos[a][c]&&o.push(c);o.length>0&&(i=(o=r.FuncCommon.Func_Array_shuffle(o))[0],e.userPos[a][i]=!0)}if(-1==i){for(n=e.userPos[2].length,o=[],c=0;c<n;c++)0==e.userPos[2][c]&&o.push(c);o.length>0&&(a=2,i=(o=r.FuncCommon.Func_Array_shuffle(o))[0],e.userPos[2][i]=!0)}cc.find("Canvas/UIMap/NpcAnimationNode").addChild(t),t.getComponent("V_SpineGuest").init(a,i,function(t,a){e.userPos[t][a]=!1})})},1,t-1,1)},t.prototype.Func_dropLitter=function(){if(r.FuncCommon.probability(20,100)&&p.DMA_RarbageStation.instance.UnlockedItem.length>0){var e=p.DMA_RarbageStation.instance.guestAddGarbage();B.UI_ObjectPool.instance.create_CS_Enemy("LaJiPre",function(t){cc.find("Canvas/UIMap/NpcAnimationNode/addLaJi").addChild(t);var a=13*r.FuncCommon.random(-3,3),i=50*r.FuncCommon.random(-10,10);t.setPosition(a,i),t.getComponent("V_LaJiPre").init(e)})}},t.prototype.CashGem_HongDianTips=function(){cc.find("Canvas/UIBtn/top/GemKuang/Tips").active=s.GameData.instance.videoCount.CountGem<s.GameData.instance.videoCount.CountMaxNum,cc.find("Canvas/UIBtn/top/CashKuang/Tips").active=s.GameData.instance.videoCount.CountCash<s.GameData.instance.videoCount.CountMaxNum},t.prototype.FreightStation_HongDianTips=function(){1==m.DMA_FreightStation.instance.FreightStation_order_issatisfy()||3==m.DMA_FreightStation.instance.FreightCar_Data.Data.state?cc.find("Canvas/UIMap/HuoYunZhan/Tips").active=!0:cc.find("Canvas/UIMap/HuoYunZhan/Tips").active=!1},t.prototype.DeliverGoods_HongDianTips=function(){1==_.DMA_DeliverGoods.instance.isLoadable()||1==_.DMA_DeliverGoods.instance.isAvailable()?cc.find("Canvas/UIMap/YunShuZhan/Tips").active=!0:cc.find("Canvas/UIMap/YunShuZhan/Tips").active=!1},t.prototype.CanteenPre_Tips=function(){cc.find("Canvas/UIMap/XiaoMaiBu/Tips").active=d.DMA_Canteen.instance.Canteen_Data.profit>=500},t.prototype.SignIn7_HongDianTips=function(){cc.find("Canvas/UIBtn/top/QianDao/Tips").active=y.DMD_7DaySignIn.instance.SatisfySignIn7()},t.prototype.Achievement_HongDianTips=function(){cc.find("Canvas/UIBtn/bottom/ChengJiu/Tips").active=f.DMC_Achievement.instance.isCompleteAchievement()},n([U({type:k.default,displayName:"UIGame",tooltip:"UI\u8282\u70b9"})],t.prototype,"UIGame",void 0),t=n([T],t)}(cc.Component);a.default=P,cc._RF.pop()},{"../Model/M_Basics/CommonFun":"CommonFun","../Model/M_Basics/GameData":"GameData","../Model/M_Basics/VideoSwitch":"VideoSwitch","../Model/M_config/AuxiliaryConfig":"AuxiliaryConfig","../Model/M_config/RoomConfig":"RoomConfig","../Model/M_instance/DMA_Canteen":"DMA_Canteen","../Model/M_instance/DMA_DeliverGoods":"DMA_DeliverGoods","../Model/M_instance/DMA_FreightStation":"DMA_FreightStation","../Model/M_instance/DMA_KitchenRoom":"DMA_KitchenRoom","../Model/M_instance/DMA_MessHallStation":"DMA_MessHallStation","../Model/M_instance/DMA_RarbageStation":"DMA_RarbageStation","../Model/M_instance/DMC_Achievement":"DMC_Achievement","../Model/M_instance/DMC_Task":"DMC_Task","../Model/M_instance/DMD_7DaySignIn":"DMD_7DaySignIn","../Model/M_instance/DME_Decoration":"DME_Decoration","../Model/M_instance/DME_Pet":"DME_Pet","../Model/M_instance/DME_Theme":"DME_Theme","../i18n/i18nMgr":"i18nMgr","./V_Game":"V_Game","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_ObjectPool":"UI_ObjectPool","./currency/UI_PlayMS":"UI_PlayMS"}],scene_GoOut:[function(e,t,a){"use strict";cc._RF.push(t,"ad792MEaMBIgbsOO/gVcaBc","scene_GoOut");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../i18n/i18nMgr"),r=e("../Model/M_Basics/CommonFun"),s=e("../Model/M_Basics/GameData"),c=e("../Model/M_Basics/VideoSwitch"),l=e("../Model/M_instance/DMA_GoOut"),h=e("../Model/M_instance/DMC_Achievement"),d=e("../Model/M_instance/DMC_Task"),_=e("../Model/network/GameSDK"),m=e("./currency/UI_Events"),u=e("./currency/UI_Manager"),g=e("./currency/UI_PlayMS"),p=cc._decorator,f=p.ccclass,C=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Map1=null,t.Map2=null,t.Mapevent=null,t.DianXianGFan=null,t.BottomNode=null,t.EventFunc=null,t.Spine_=null,t._Steps=0,t._speed=270,t.EventType=[],t.orderData={},t.CarID=0,t._CashNode=null,t._GemNode=null,t._KuNode=null,t}return i(t,e),t.prototype.start=function(){g.UI_PlayMS.instance.playMusic2("background0"),_.default.postEvent1("out"),this._Steps=0,this.EventType=l.DMA_GoOut.instance.BuildEventType(),this.BottomNode.active=!0,this.EventFunc.active=!1,this.loadMap(),s.GameData.instance.BackFromShopping=!0,this._CashNode=cc.find("Canvas/top/CashKuang"),this._GemNode=cc.find("Canvas/top/GemKuang"),this._KuNode=cc.find("Canvas/top/KuKuang/Num"),this.RefreshCashGem(),this.RefreshKu(),m.UI_Events.instance.onEvents("GoOutRefreshCashGem",this.RefreshCashGem,this),d.DMC_Task.instance.addTaskBranchLine("goOut",1),d.DMC_Task.instance.addTaskEveryDay("goOut",1),h.DMC_Achievement.instance.progressAddAchievement("goOut",1),this.CarID=l.DMA_GoOut.instance.GoOut_DSata.car.indexOf(1)+1,this.Spine_.getChildByName("out").getComponent(sp.Skeleton).setAnimation(0,"car_"+this.CarID+"_wait",!0)},t.prototype.onDestroy=function(){m.UI_Events.instance.offEvents("GoOutRefreshCashGem",this.RefreshCashGem,this)},t.prototype.RefreshCashGem=function(){cc.log("\u5916\u573a\u666f \u5237\u65b0 \u949e\u7968 \u94bb\u77f3"),this._CashNode.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(s.GameData.instance.MasterData.GameCash),this._GemNode.getChildByName("Num").getComponent(cc.Label).string=""+r.FuncCommon.Funcformat_0(s.GameData.instance.MasterData.GameGem)},t.prototype.RefreshKu=function(){this._KuNode.getComponent(cc.Label).string=l.DMA_GoOut.instance.GoOut_DSata.get.Mounted+"/"+l.DMA_GoOut.instance.GoOut_DSata.get.capacity},t.prototype.loadMap=function(){for(var e=this.EventType.length,t=0;t<e;t++)if(0==this.EventType[t])u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+this.EventType[t],null,!1);else if(1==this.EventType[t])u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+this.EventType[t],null,!1);else if(2==this.EventType[t])u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+this.EventType[t],null,!1);else if(3==this.EventType[t]){u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+r.FuncCommon.GetRandNum(5,8),null,!1),(a=new cc.Node).addComponent(cc.Sprite),u.UI_Manager.instance.loadNewReleaseOld(a,"texture/goOut/BG/npc_3",null,!1),this.Mapevent.children[t].addChild(a),a.anchorY=0,a.setPosition(r.FuncCommon.GetRandNum(-300,300),-90)}else if(4==this.EventType[t]){u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+r.FuncCommon.GetRandNum(5,8),null,!1);var a,i=r.FuncCommon.GetRandNum(0,3);(a=new cc.Node).addComponent(cc.Sprite),u.UI_Manager.instance.loadNewReleaseOld(a,"texture/goOut/BG/npc_4_%s",i,!1),this.Mapevent.children[t].addChild(a),a.anchorY=0,a.setPosition(r.FuncCommon.GetRandNum(-300,300),-90),this.Mapevent.children[t].Id=i}else u.UI_Manager.instance.loadNewReleaseOld(this.Mapevent.children[t].getChildByName("eventSprite"),"texture/goOut/BG/Event_icon"+r.FuncCommon.GetRandNum(5,8),null,!1)},t.prototype.FuncStock=function(){g.UI_PlayMS.instance.playSound("button");var e=cc.find("Canvas/addNode/goOutStockPre");void 0==e||null==e?u.UI_Manager.instance.loading("Prefab/goOut/goOutStockPre",cc.Prefab,function(e){var t=cc.instantiate(e);cc.find("Canvas/addNode").addChild(t),t.setPosition(0,0),t.active=!0,t.getComponent("V_goOutStockPre").init()}):(e.setPosition(0,0),e.active=!0,e.getComponent("V_goOutStockPre").init())},t.prototype.FuncGoHome=function(){g.UI_PlayMS.instance.playSound("button"),l.DMA_GoOut.instance.RefreshSellGoods(0),cc.director.loadScene("scene_Game")},t.prototype.FuncShopping=function(){g.UI_PlayMS.instance.playSound("button"),this.BottomNode.active=!1,this.QianJin_FUN()},t.prototype.QianJin_FUN=function(){var e=this;this._Steps++;var t=1080/this._speed;this.Spine_.getChildByName("out").getComponent(sp.Skeleton).setAnimation(0,"car_"+this.CarID+"_walk",!0),cc.tween(this.Map1).to(t,{position:cc.v3(this.Map1.x-540,0)}).start(),cc.tween(this.Map2).to(t,{position:cc.v3(this.Map2.x-1080,0)}).call(function(){13==e._Steps?(cc.log("\u7ed3\u675f",e._Steps),l.DMA_GoOut.instance.RefreshSellGoods(0),cc.director.loadScene("scene_Game")):-1==e.EventType[e._Steps]?(cc.log("\u65e0\u4e8b\u4ef6 \u4f4d\u7f6e =>"+e._Steps+"   \u4e8b\u4ef6\u7c7b\u578b =>"+e.EventType[e._Steps]),e.QianJin_FUN()):(cc.log("\u6709\u4e8b\u4ef6\u5904\u7406 \u4f4d\u7f6e =>"+e._Steps+"   \u4e8b\u4ef6\u7c7b\u578b =>"+e.EventType[e._Steps]),e.Spine_.getChildByName("out").getComponent(sp.Skeleton).setAnimation(0,"car_"+e.CarID+"_wait",!0),e.EventHandling())}).start()},t.prototype.EventHandling=function(){this.EventFunc.active=!0;var e=this.EventType[this._Steps];if(this.orderData=l.DMA_GoOut.instance.createGoOutBuyGoods(e),4==e){var t=this.Mapevent.children[this._Steps].Id;u.UI_Manager.instance.loadNewReleaseOld(this.EventFunc.getChildByName("icon"),"texture/goOut/BG/icon_npc_4_%s",t,!1),this.EventFunc.getChildByName("BtnNode").getChildByName("BtnDouble").active=c.VideoSwitch.instance.goOutDoubleSell,this.EventFunc.getChildByName("refreshBtn").active=!1,this.EventFunc.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.NpcName4_"+t)}else 3==e?(u.UI_Manager.instance.loadNewReleaseOld(this.EventFunc.getChildByName("icon"),"texture/goOut/BG/icon_npc_%s",e,!1),this.EventFunc.getChildByName("BtnNode").getChildByName("BtnDouble").active=!1,this.EventFunc.getChildByName("refreshBtn").active=!1,this.EventFunc.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.NpcName3")):(u.UI_Manager.instance.loadNewReleaseOld(this.EventFunc.getChildByName("icon"),"texture/goOut/BG/icon_npc_%s",e,!1),this.EventFunc.getChildByName("BtnNode").getChildByName("BtnDouble").active=!1,this.EventFunc.getChildByName("refreshBtn").active=c.VideoSwitch.instance.goOutRefreshOrder,this.EventFunc.getChildByName("Name_").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.NpcName"+e));for(var a=this.orderData.data.length,i=0;i<4;i++)if(i<a)for(var n in this.EventFunc.getChildByName("GoodNode").children[i].active=!0,this.orderData.data[i])u.UI_Manager.instance.loadNewReleaseOld(this.EventFunc.getChildByName("GoodNode").children[i].getChildByName("icon"),"texture/goods/%s",n,!1),this.EventFunc.getChildByName("GoodNode").children[i].getChildByName("Num").getComponent(cc.Label).string="x"+this.orderData.data[i][n],this.EventFunc.getChildByName("GoodNode").children[i].getChildByName("Name").getComponent(cc.Label).string=o.i18nMgr._getString("item."+n+"._Name");else this.EventFunc.getChildByName("GoodNode").children[i].active=!1;this.EventFunc.getChildByName("describe").getComponent(cc.Label).string=o.i18nMgr._getString("goOut.WenAn"+e),this.EventFunc.getChildByName("BtnNode").getChildByName("BtnGouMai").getChildByName("cash").getComponent(cc.Label).string=r.FuncCommon.Funcformat_0(this.orderData.profit),_.default.postEvent2("out_event",e)},t.prototype.Func_transaction=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var e=this.EventType[this._Steps];switch(l.DMA_GoOut.instance.SaleOrPurchase(this.orderData,e,1)){case 0:this.BottomNode.active=!0,this.EventFunc.active=!1,this.RefreshKu();break;case 1:u.UI_Manager.instance.AddFloatLabel("\u5bb9\u91cf\u4e0d\u8db3");break;case 2:u.UI_Manager.instance.AddFloatLabel("\u7269\u54c1\u6570\u91cf\u4e0d\u8db3 \u4ea4\u6613\u5931\u8d25");break;case 3:u.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3,\u4ea4\u6613\u5931\u8d25")}}},t.prototype.Func_DoubleTransaction=function(){var e=this;if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var t=this;_.default.postEvent2("ads_start_position",29),_.default.FcunVideoTsOc(function(a){switch(a){case 0:u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:var i=t.EventType[t._Steps];switch(l.DMA_GoOut.instance.SaleOrPurchase(t.orderData,i,2)){case 0:t.BottomNode.active=!0,t.EventFunc.active=!1,e.RefreshKu(),_.default.postEvent2("ads_finish_position",29);break;case 1:u.UI_Manager.instance.AddFloatLabel("\u5bb9\u91cf\u4e0d\u8db3");break;case 2:u.UI_Manager.instance.AddFloatLabel("\u7269\u54c1\u6570\u91cf\u4e0d\u8db3 \u4ea4\u6613\u5931\u8d25");break;case 3:u.UI_Manager.instance.AddFloatLabel("\u949e\u7968\u4e0d\u8db3,\u4ea4\u6613\u5931\u8d25")}break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},t.prototype.Func_Leave=function(){s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax?cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;"):(s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button"),this.BottomNode.active=!0,this.EventFunc.active=!1)},t.prototype.Func_refresh=function(){if(s.GameData.instance.ClickTimeCount<s.GameData.instance.ClickTimeMax)cc.log("%c \u6309\u94ae\u70b9\u51fb\u65f6\u95f4\u95f4\u9694\u4e3a"+s.GameData.instance.ClickTimeMax+"s"," font-size : 12px ; color : #DDD111 ;");else{s.GameData.instance.ClickTimeCount=0,g.UI_PlayMS.instance.playSound("button");var e=this;_.default.postEvent2("ads_start_position",28),_.default.FcunVideoTsOc(function(t){switch(t){case 0:u.UI_Manager.instance.AddFloatLabel(o.i18nMgr._getString("Video_No"));break;case 1:e.EventHandling(),_.default.postEvent2("ads_finish_position",28);break;case 2:cc.log("\u7528\u6237\u4e3b\u52a8\u53d6\u6d88")}})}},n([C({type:cc.Node,displayName:"Map1",tooltip:"\u5730\u56fe \u8fdc\u666f"})],t.prototype,"Map1",void 0),n([C({type:cc.Node,displayName:"Map2",tooltip:"\u5730\u56fe \u8fd1\u666f"})],t.prototype,"Map2",void 0),n([C({type:cc.Node,displayName:"Mapevent",tooltip:"\u5730\u56fe \u4e8b\u4ef6"})],t.prototype,"Mapevent",void 0),n([C({type:cc.Node,displayName:"DianXianGFan",tooltip:"\u88c5\u9970"})],t.prototype,"DianXianGFan",void 0),n([C({type:cc.Node,displayName:"BottomNode",tooltip:"\u6309\u94ae"})],t.prototype,"BottomNode",void 0),n([C({type:cc.Node,displayName:"EventFunc",tooltip:"\u4e8b\u4ef6\u5904\u7406"})],t.prototype,"EventFunc",void 0),n([C({type:cc.Node,displayName:"Spine_",tooltip:"spine\u52a8\u753b"})],t.prototype,"Spine_",void 0),t=n([f],t)}(cc.Component);a.default=y,cc._RF.pop()},{"../Model/M_Basics/CommonFun":"CommonFun","../Model/M_Basics/GameData":"GameData","../Model/M_Basics/VideoSwitch":"VideoSwitch","../Model/M_instance/DMA_GoOut":"DMA_GoOut","../Model/M_instance/DMC_Achievement":"DMC_Achievement","../Model/M_instance/DMC_Task":"DMC_Task","../Model/network/GameSDK":"GameSDK","../i18n/i18nMgr":"i18nMgr","./currency/UI_Events":"UI_Events","./currency/UI_Manager":"UI_Manager","./currency/UI_PlayMS":"UI_PlayMS"}],scene_HotUpdate:[function(e,t,a){"use strict";cc._RF.push(t,"25488W+A0FMMYF3lGtyVH2i","scene_HotUpdate");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.HotUpdate=a.HotOptions=a.modifyManifest=void 0;var o=e("../Model/network/httpSever"),r=function(){function e(){}return e.getRemoteFile=function(t,a){o.httpServer.httpGet("http://8.142.24.253:10200/dispose/getGameDispose?field=dispose&key=HotUpdateUrl",function(i){var n=i.value;cc.log("\u65b0\u7684\u5347\u7ea7\u5305\u5730\u5740"+n),e.checkNeedModifyManifest(t,n,a)})},e.checkNeedModifyManifest=function(e,t,a){var i=cc.sys.localStorage.getItem("appHotUpdateUrl");if(i){if(i==t)return void a();cc.sys.localStorage.setItem("appHotUpdateUrl",t)}else cc.sys.localStorage.setItem("appHotUpdateUrl",t);this.modifyAppLoadUrlForManifestFile(e,t,a)},e.modifyAppLoadUrlForManifestFile=function(e,t,a){try{if(jsb.fileUtils.isFileExist(jsb.fileUtils.getWritablePath()+"remote-asset/project.manifest")){cc.log("\u6709\u4e0b\u8f7d\u7684manifest\u6587\u4ef6");var i=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset",n=jsb.fileUtils.getStringFromFile(i+"/project.manifest");(o=JSON.parse(n)).packageUrl=t,o.remoteManifestUrl=t+"project.manifest",o.remoteVersionUrl=t+"version.manifest",jsb.fileUtils.writeStringToFile(JSON.stringify(o),i+"/project.manifest")&&(cc.log("\u518d\u6b21 \u4fee\u6539\u4e14\u50a8\u5b58\u6210\u529f",i+"/project.manifest"),cc.log("\u518d\u6b21 \u4fee\u6539\u4e14\u50a8\u5b58\u6210\u529f",JSON.stringify(o))),a()}else{cc.log("\u4fee\u6539\u539f\u59cbmanifest\u6587\u4ef6");i=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset";jsb.fileUtils.isDirectoryExist(i)||jsb.fileUtils.createDirectory(i);var o,r=jsb.fileUtils.getStringFromFile(e);(o=JSON.parse(r)).packageUrl=t,o.remoteManifestUrl=t+"project.manifest",o.remoteVersionUrl=t+"version.manifest",jsb.fileUtils.writeStringToFile(JSON.stringify(o),i+"/project.manifest")&&(cc.log("\u9996\u6b21 \u4fee\u6539\u4e14\u50a8\u5b58\u6210\u529f",i+"/project.manifest"),cc.log("\u9996\u6b21 \u4fee\u6539\u4e14\u50a8\u5b58\u6210\u529f",JSON.stringify(o))),a()}}catch(e){cc.log("\u8bfb\u5199manifest\u6587\u4ef6\u9519\u8bef!!!(\u8bf7\u770b\u9519\u8bef\u8be6\u60c5--\x3e) ",e)}},e}();a.modifyManifest=r;var s=function(){function e(){}return e.prototype.check=function(){for(var e in this)if("check"!==e&&!this[e])return cc.log("\u53c2\u6570HotOptions."+e+"\u672a\u8bbe\u7f6e\uff01"),!1;return!0},e}();a.HotOptions=s;var c=function(){function e(){this._assetsMgr=null,this._options=null,this._state=e.State.None}return e.prototype.init=function(e,t){var a=this;if(cc.sys.isNative&&t.check()&&(this._options=t,!this._assetsMgr)){cc.log("========================\u641c\u7d22\u8def\u5f84========================");for(var i=jsb.fileUtils.getSearchPaths(),n=0;n<i.length;n++)cc.log("["+n+"]: "+i[n]);cc.log("======================================================");var o=e.nativeUrl;cc.loader.md5Pipe&&(o=cc.loader.md5Pipe.transformURL(o));var r=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset";this._assetsMgr=new jsb.AssetsManager(o,r,function(e,t){cc.log("\u7248\u672c\u5bf9\u6bd4   \u5ba2\u6237\u7aef\u7248\u672c=>"+e+"   \u670d\u52a1\u7aef\u7248\u672c=>"+t),a._options.OnVersionInfo({local:e,server:t});for(var i=e.split("."),n=t.split("."),o=0;o<i.length;++o){var r=parseInt(i[o]),s=parseInt(n[o]||"0");if(r!==s)return r-s}return n.length>i.length?-1:0}),this._assetsMgr.setVerifyCallback(function(e,t){t.compressed,t.md5,t.path,t.size;return!0}),cc.sys.os,cc.sys.OS_ANDROID;var s=this._assetsMgr.getLocalManifest();cc.log("[HotUpdate] \u70ed\u66f4\u65b0\u8d44\u6e90\u5b58\u653e\u8def\u5f84: "+r),cc.log("[HotUpdate] \u672c\u5730manifest\u8def\u5f84: "+o),cc.log("[HotUpdate] local packageUrl: "+s.getPackageUrl()),cc.log("[HotUpdate] project.manifest remote url: "+s.getManifestFileUrl()),cc.log("[HotUpdate] version.manifest remote url: "+s.getVersionFileUrl())}},e.prototype.checkUpdate=function(){this._assetsMgr?this._assetsMgr.getState()!==jsb.AssetsManager.State.UNINITED?this._assetsMgr.getLocalManifest().isLoaded()?(this._assetsMgr.setEventCallback(this._hotUpdateCallBack.bind(this)),this._state=e.State.Check,this._assetsMgr.checkUpdate()):cc.log("\u52a0\u8f7d\u672c\u5730 manifest \u5931\u8d25 ..."):cc.error("\u672a\u521d\u59cb\u5316"):cc.log("\u8bf7\u5148\u521d\u59cb\u5316")},e.prototype.hotUpdate=function(){this._assetsMgr?(this._assetsMgr.setEventCallback(this._hotUpdateCallBack.bind(this)),this._state=e.State.Update,this._assetsMgr.update()):cc.log("\u8bf7\u5148\u521d\u59cb\u5316")},e.prototype._hotUpdateCallBack=function(t){var a=t.getEventCode();switch(cc.log("hotUpdate Code: "+a),a){case jsb.EventAssetsManager.UPDATE_PROGRESSION:cc.log("\u70ed\u66f4\u65b0\u4e2d..."),this._state===e.State.Update&&this._options.OnUpdateProgress&&this._options.OnUpdateProgress(t);break;case jsb.EventAssetsManager.UPDATE_FINISHED:cc.log("\u70ed\u66f4\u65b0\u5b8c\u6210,\u5373\u5c06\u91cd\u542f\u6e38\u620f. "+t.getMessage()),this._assetsMgr.setEventCallback(null);var i=jsb.fileUtils.getSearchPaths(),n=this._assetsMgr.getLocalManifest().getSearchPaths();cc.log("[HotUpdate] \u641c\u7d22\u8def\u5f84: "+JSON.stringify(n)),Array.prototype.unshift(i,n),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),jsb.fileUtils.setSearchPaths(i),this._options.OnUpdateSucceed&&this._options.OnUpdateSucceed();break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("\u5df2\u7ecf\u548c\u8fdc\u7a0b\u7248\u672c\u4e00\u81f4,\u65e0\u987b\u70ed\u66f4\u65b0"),this._options.OnNoNeedToUpdate&&this._options.OnNoNeedToUpdate(a);break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:cc.log("\u53d1\u73b0\u65b0\u7248\u672c,\u8bf7\u66f4\u65b0"),this._options.OnNeedToUpdate&&this._options.OnNeedToUpdate(a);break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("\u70ed\u66f4\u65b0 \u4e0b\u8f7d\u8fdc\u7a0bmanifest\u6587\u4ef6\u5931\u8d25,\u8df3\u8fc7\u70ed\u66f4."),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a);break;case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("\u672a\u627e\u5230\u672c\u5730\u6e05\u5355\u6587\u4ef6,\u5df2\u8df3\u8fc7\u70ed\u66f4\u65b0"),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a);break;case jsb.EventAssetsManager.UPDATE_FAILED:cc.log("\u66f4\u65b0\u5931\u8d25,\u5df2\u8df3\u8fc7\u70ed\u66f4\u65b0"),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a);break;case jsb.EventAssetsManager.ERROR_UPDATING:cc.log("\u8d44\u6e90\u66f4\u65b0\u9519\u8bef,\u5df2\u8df3\u8fc7\u70ed\u66f4\u65b0"),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:cc.log("\u4e0b\u8f7d\u65f6\u51fa\u9519"),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a);break;case jsb.EventAssetsManager.ASSET_UPDATED:break;default:cc.log("\u70ed\u66f4\u65b0  \u5404\u79cd\u539f\u56e0\u5bfc\u81f4\u5931\u8d25."),this._assetsMgr.setEventCallback(null),this._options.OnUpdateFailed&&this._options.OnUpdateFailed(a)}},e.State={None:0,Check:1,Update:2},e}();a.HotUpdate=c;var l=cc._decorator,h=l.ccclass,d=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.projectManifest=null,t.versionLabel=null,t.updateProgress=null,t.tipsLabel=null,t.DialogLayer=null,t.okBtn=null,t.cancelBtn=null,t.tipsLabelTxt=null,t._okCb=null,t._cancelCb=null,t.options=null,t.hotInstance=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.showTipsWithOkBtn=function(e,t,a){void 0===a&&(a=null),this.tipsLabelTxt.string=e,null==a?(this.okBtn.active=!0,this.cancelBtn.active=!1,this._okCb=t,this._cancelCb=null):(this.okBtn.active=!0,this.cancelBtn.active=!1,this._okCb=t,this._cancelCb=a)},t.prototype.onClickBtnOk=function(){this._okCb&&this._okCb(),this.DialogLayer.active=!1,this._okCb=null,this._cancelCb=null},t.prototype.onClickBtnCancel=function(){this._cancelCb&&this._cancelCb(),this.DialogLayer.active=!1,this._okCb=null,this._cancelCb=null},t.prototype.onLoad=function(){this.tipsLabel.string="",this.versionLabel.string="",this.updateProgress.progress=0,this.DialogLayer.active=!1,cc.sys.isNative?(cc.log("\u672c\u5730\u8d44\u6e90\u4fe1\u606f\u6587\u4ef6 =>(\u76ee\u6807\u5e73\u53f0\u8d44\u6e90\u7684 URL :"+this.projectManifest.nativeUrl+") "),r.getRemoteFile(this.projectManifest.nativeUrl,this.onLoadHotUp)):(cc.log("web \u5e73\u53f0\u4e0d\u9700\u8981\u70ed\u66f4\u65b0"),this._enterGame())},t.prototype.onLoadHotUp=function(){var e=this;this.options=new s,this.hotInstance=new c;var t=this;this.options.OnVersionInfo=function(t){var a=t.local,i=t.server;e.versionLabel.string="\u5ba2\u6237\u7aef\u7248\u672c:"+a+"    \u670d\u52a1\u7aef\u7248\u672c:"+i},this.options.OnUpdateProgress=function(e){e.getDownloadedBytes(),e.getTotalBytes(),e.getDownloadedFiles(),e.getTotalFiles();var a=e.getPercentByFile().toFixed(2),i=(e.getPercent().toFixed(2),e.getMessage());cc.log(i),cc.log("[update]: \u8fdb\u5ea6="+a),t.updateProgress.progress=parseFloat(a),t.tipsLabel.string="\u6b63\u5728\u66f4\u65b0\u4e2d,\u8bf7\u8010\u5fc3\u7b49\u5f85"},this.options.OnNeedToUpdate=function(e){t.hotInstance.hotUpdate()},this.options.OnNoNeedToUpdate=function(){t._enterGame()},this.options.OnUpdateFailed=function(){t.tipsLabel.string="\u66f4\u65b0\u5931\u8d25",t.DialogLayer.active=!0,t.showTipsWithOkBtn("\u66f4\u65b0\u5931\u8d25,\u70b9\u51fb\u91cd\u8bd5",function(){t.hotInstance.checkUpdate()})},this.options.OnUpdateSucceed=function(){t.tipsLabel.string="\u66f4\u65b0\u6210\u529f",t.DialogLayer.active=!0,t.showTipsWithOkBtn("\u66f4\u65b0\u6210\u529f,\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u6e38\u620f",function(){cc.game.restart()})},this.hotInstance.init(this.projectManifest,this.options),cc.log("\u68c0\u67e5\u70ed\u66f4\u65b0"),this.projectManifest&&(this.tipsLabel.string="\u6b63\u5728\u83b7\u53d6\u7248\u672c...",this.hotInstance.checkUpdate())},t.prototype._enterGame=function(){cc.log("\u8fdb\u5165\u6e38\u620f\u6210\u529f"),this.updateProgress.node.active=!1,cc.director.loadScene("StartScene")},n([d({displayName:"project.manifest",type:cc.Asset,tooltip:"\u672c\u5730 project.manifest \u8d44\u6e90\u4fe1\u606f\u6587\u4ef6"})],t.prototype,"projectManifest",void 0),n([d({displayName:"versionLabel",type:cc.Label,tooltip:"\u7248\u672c\u53f7"})],t.prototype,"versionLabel",void 0),n([d({displayName:"updateProgress",type:cc.ProgressBar,tooltip:"\u70ed\u66f4\u65b0\u8fdb\u5ea6\u6761"})],t.prototype,"updateProgress",void 0),n([d({displayName:"tipsLabel",type:cc.Label,tooltip:"\u6d88\u606f\u63d0\u793a"})],t.prototype,"tipsLabel",void 0),n([d({displayName:"DialogLayer",type:cc.Node,tooltip:"\u63d0\u793a\u6846 \u8282\u70b9"})],t.prototype,"DialogLayer",void 0),n([d({displayName:"okBtn",type:cc.Node,tooltip:"\u63d0\u793a\u6846 \u786e\u5b9a\u6309\u94ae"})],t.prototype,"okBtn",void 0),n([d({displayName:"cancelBtn",type:cc.Node,tooltip:"\u63d0\u793a\u6846 \u53d6\u6d88\u6309\u94ae"})],t.prototype,"cancelBtn",void 0),n([d({displayName:"tipsLabelTxt",type:cc.Label,tooltip:"\u63d0\u793a\u6846 \u63d0\u793a\u8bed"})],t.prototype,"tipsLabelTxt",void 0),t=n([h],t)}(cc.Component);a.default=_,cc._RF.pop()},{"../Model/network/httpSever":"httpSever"}],scene_Load:[function(e,t,a){"use strict";cc._RF.push(t,"b0c7ehT/Y5Eu7yG0mIPOZr6","scene_Load");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../Model/M_Basics/GameData"),r=e("../Model/network/GameSDK"),s=e("../Model/network/httpSever"),c=e("./currency/UI_ObjectPool"),l=e("./currency/UI_PlayMS"),h=cc._decorator,d=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressTxt=null,t.ProgressBar=null,t.stateNode=[],t}return i(t,e),t.prototype.start=function(){r.default.postEvent1("enter_loading"),cc.sys.os===cc.sys.OS_ANDROID?1==o.GameData.instance.IsGuidePattern&&s.httpServer.httpGet("http://8.142.24.253:9000/dispose/getGameDispose?field=wdy-android&key=AntiAddsat",function(e){cc.log("GroMore \u5b9e\u540d\u8ba4\u8bc1\u8fd4\u56de\u7ed3\u679c",JSON.stringify(e)),null!=e&&"1"==e.value&&(cc.log("GroMore data.value=",e.value),r.default.UserAntiAddicting(o.GameData.instance.GameUserID))}):cc.sys.os===cc.sys.OS_IOS&&r.default.UserAntiAddicting(o.GameData.instance.GameUserID),this.startLoading1()},t.prototype.startLoading1=function(){this.stateNode[0].active=!0,this.stateNode[1].active=!1,this.stateNode[2].active=!1;var e=[],t=[{url:"audio/season",type:cc.AudioClip},{url:"audio/button",type:cc.AudioClip},{url:"audio/confirm",type:cc.AudioClip},{url:"audio/farm_0",type:cc.AudioClip},{url:"audio/farm_1",type:cc.AudioClip},{url:"audio/farm_2",type:cc.AudioClip},{url:"audio/farm_3",type:cc.AudioClip},{url:"audio/farm_4",type:cc.AudioClip},{url:"audio/farm_5",type:cc.AudioClip},{url:"audio/fish",type:cc.AudioClip},{url:"audio/pet_0",type:cc.AudioClip},{url:"audio/pet_1",type:cc.AudioClip},{url:"audio/pet_2",type:cc.AudioClip},{url:"audio/background0",type:cc.AudioClip},{url:"spine/farming/ZhongZhi",type:sp.SkeletonData},{url:"spine/flowers/HuaYuan",type:sp.SkeletonData},{url:"spine/orchard/GuoYuan",type:sp.SkeletonData},{url:"spine/farm/YanngZhi",type:sp.SkeletonData},{url:"spine/fish/ShuiChan",type:sp.SkeletonData},{url:"spine/HuoYuanZhan/truck",type:sp.SkeletonData},{url:"spine/WaiChu/out",type:sp.SkeletonData},{url:"spine/pet/pet",type:sp.SkeletonData},{url:"spine/ZhuJue/zj_1",type:sp.SkeletonData},{url:"spine/ZhuJue/zj_2",type:sp.SkeletonData},{url:"spine/ZhuJue/zj_3",type:sp.SkeletonData},{url:"spine/ZhuJue/zj_4",type:sp.SkeletonData},{url:"spine/ZhuJue/zj_5",type:sp.SkeletonData},{url:"spine/KeRen/kr_0",type:sp.SkeletonData},{url:"spine/KeRen/kr_1",type:sp.SkeletonData},{url:"spine/KeRen/kr_2",type:sp.SkeletonData},{url:"spine/KeRen/kr_3",type:sp.SkeletonData},{url:"spine/KeRen/kr_4",type:sp.SkeletonData},{url:"spine/KeRen/kr_5",type:sp.SkeletonData},{url:"spine/KeRen/kr_6",type:sp.SkeletonData},{url:"spine/KeRen/kr_7",type:sp.SkeletonData},{url:"spine/KeRen/kr_8",type:sp.SkeletonData},{url:"spine/KeRen/kr_9",type:sp.SkeletonData},{url:"spine/KeRen/kr_10",type:sp.SkeletonData},{url:"spine/KeRen/kr_11",type:sp.SkeletonData},{url:"spine/KeRen/kr_12",type:sp.SkeletonData},{url:"spine/KeRen/kr_13",type:sp.SkeletonData},{url:"spine/KeRen/kr_14",type:sp.SkeletonData},{url:"spine/KeRen/kr_15",type:sp.SkeletonData},{url:"spine/KeRen/kr_16",type:sp.SkeletonData},{url:"spine/KeRen/kr_17",type:sp.SkeletonData},{url:"spine/KeRen/kr_18",type:sp.SkeletonData},{url:"spine/KeRen/kr_19",type:sp.SkeletonData},{url:"Prefab/goOut/goOut1Pre",type:cc.Prefab},{url:"Prefab/goOut/goOut2Pre",type:cc.Prefab},{url:"Prefab/goOut/goOutStockPre",type:cc.Prefab},{url:"Prefab/infrastructure/CanteenPre",type:cc.Prefab},{url:"Prefab/infrastructure/DeliverGoodsPre",type:cc.Prefab},{url:"Prefab/infrastructure/FreightStationPre",type:cc.Prefab},{url:"Prefab/infrastructure/KitchenRoomPre",type:cc.Prefab},{url:"Prefab/infrastructure/MainRoomPre",type:cc.Prefab},{url:"Prefab/infrastructure/MessHallStationPre",type:cc.Prefab},{url:"Prefab/infrastructure/RarbageStationPre",type:cc.Prefab},{url:"Prefab/infrastructure/StorageRoomPre",type:cc.Prefab},{url:"Prefab/infrastructure/UpgradeBuildingPre",type:cc.Prefab},{url:"Prefab/menu/ChengJiuPre",type:cc.Prefab},{url:"Prefab/menu/JianZaoPre",type:cc.Prefab},{url:"Prefab/menu/RenWuPre",type:cc.Prefab},{url:"Prefab/menu/QianDaoPre",type:cc.Prefab},{url:"Prefab/menu/SheZhiPre",type:cc.Prefab},{url:"Prefab/Planting_Breeding/BuildPurchasePre",type:cc.Prefab},{url:"Prefab/Planting_Breeding/FarmPre",type:cc.Prefab},{url:"Prefab/Planting_Breeding/FishPre",type:cc.Prefab},{url:"Prefab/BalloonRewardsPre",type:cc.Prefab}],a=this;this.progressTxt.active=!0,this.ProgressBar.progress=0;var i=0,n=e.length,o=function(){i<n?cc.resources.loadDir(e[i].url,cc.SpriteFrame,function(e,t,i){a.ProgressBar.progress=e/t,a.progressTxt.getComponent(cc.RichText).string="<color= #FFFFFF  ><size=30>"+(e/t*100).toFixed(2)+"%</size></color>"},function(e,t){i++,o()}):l()},r=0,s=t.length,l=function(){r<s?cc.resources.load(t[r].url,t[r].type,function(e,t){r++,a.ProgressBar.progress=r/s,a.progressTxt.getComponent(cc.RichText).string="<color= #FFFFFF  ><size=30>"+(r/s*100).toFixed(2)+"%</size></color>",l()}):a.scheduleOnce(function(){a.stateNode[0].active=!1,a.stateNode[1].active=!0,a.stateNode[1].getChildByName("Button").active=!0,c.UI_ObjectPool.instance.Add_CS_Enemy()})};o()},t.prototype.StartGame=function(){l.UI_PlayMS.instance.playSound("button"),this.stateNode[1].getChildByName("Button").active=!1,cc.director.loadScene("scene_Game",function(){o.GameData.instance.setFirstSignIn(),r.default.postEvent1("enter_game")})},t.prototype.OpenAgeTips=function(){l.UI_PlayMS.instance.playSound("button"),this.stateNode[2].active=!0},t.prototype.CloseAgeTips=function(){l.UI_PlayMS.instance.playSound("button"),this.stateNode[2].active=!1},n([_({type:cc.Node,displayName:"progressTxt",tooltip:"\u8d44\u6e90\u52a0\u8f7d\u4fe1\u606f"})],t.prototype,"progressTxt",void 0),n([_({type:cc.ProgressBar,displayName:"ProgressBar",tooltip:"\u8d44\u6e90\u52a0\u8f7d\u8fdb\u5ea6"})],t.prototype,"ProgressBar",void 0),n([_({type:cc.Node,displayName:"stateNode",tooltip:"\u72b6\u6001"})],t.prototype,"stateNode",void 0),t=n([d],t)}(cc.Component);a.default=m,cc._RF.pop()},{"../Model/M_Basics/GameData":"GameData","../Model/network/GameSDK":"GameSDK","../Model/network/httpSever":"httpSever","./currency/UI_ObjectPool":"UI_ObjectPool","./currency/UI_PlayMS":"UI_PlayMS"}],scene_Start:[function(e,t,a){"use strict";cc._RF.push(t,"990e59Tr71DDK2xKkJsJjhO","scene_Start");var i=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,a,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(o<3?n(r):o>3?n(t,a,r):n(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o,r=e("../i18n/i18nMgr"),s=e("../Model/M_Basics/GameData"),c=e("../Model/network/GameSDK"),l=cc._decorator,h=l.ccclass,d=l.property;(function(e){e[e.zhj=0]="zhj",e[e.zhf=1]="zhf",e[e.en=2]="en"})(o||(o={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameFont=[],t.Spine_=null,t.ClickCount=0,t}return i(t,e),t.prototype.onLoad=function(){this.ClickCount=0,cc.macro.ENABLE_MULTI_TOUCH=!1,cc.game.setFrameRate(60),cc.game.addPersistRootNode(this.node)},t.prototype.start=function(){s.GameData.instance.init(),this.setGameLanguage(s.GameData.instance.MasterData.language),0==s.GameData.instance.MasterData.FirstSignIn?s.GameData.instance.IsGuidePattern=!0:s.GameData.instance.IsGuidePattern=!1,this.Spine_.active=!1,c.default.postEvent1("enter_start"),cc.director.loadScene("scene_Load")},t.prototype.ClickSkip=function(){0==this.ClickCount&&(this.ClickCount=1,c.default.postEvent1("enter_start"),cc.director.loadScene("scene_Load"))},t.prototype.setGameLanguage=function(e){r.i18nMgr.setLanguage(o[e]),s.GameData.instance.setLanguage(e)},t.prototype.get_GameFont=function(){return this.GameFont[s.GameData.instance.MasterData.language]},t.prototype.update=function(e){s.GameData.instance.TimeServer+=1e3*e,s.GameData.instance.ClickTimeCount<1&&(s.GameData.instance.ClickTimeCount+=e)},n([d({type:cc.Font,displayName:"GameFont",tooltip:"\u6e38\u620f\u5b57\u4f53 0-\u4e2d\u6587 1-\u7e41\u4f53 2-\u82f1\u6587"})],t.prototype,"GameFont",void 0),n([d({type:cc.Node,displayName:"Spine_",tooltip:"\u5f00\u573a\u6f2b\u753b"})],t.prototype,"Spine_",void 0),t=n([h],t)}(cc.Component);a.default=_,cc._RF.pop()},{"../Model/M_Basics/GameData":"GameData","../Model/network/GameSDK":"GameSDK","../i18n/i18nMgr":"i18nMgr"}]},{},["CommonFun","GameData","VideoSwitch","AuxiliaryConfig","BasicsConfig","RoomConfig","interface","DMA_Canteen","DMA_DeliverGoods","DMA_FreightStation","DMA_GoOut","DMA_KitchenRoom","DMA_MainRoom","DMA_MessHallStation","DMA_RarbageStation","DMA_StorageRoom","DMA_TransitStation","DMB_Farm","DMB_Farming","DMB_Fish","DMB_Flowers","DMB_Orchard","DMC_Achievement","DMC_Statistics","DMC_Task","DMD_7DaySignIn","DME_Decoration","DME_Pet","DME_Theme","GameSDK","httpSever","Popup","V_BuildPurchasePre","V_FarmPre","V_FeedFastMature","V_FishPre","V_VideoDoubleHarvestPre","V_farm","V_farming","V_farming_seed","V_fish","V_flowers","V_flowers_seed","V_orchard","V_orchard_seed","V_BalloonRewardsPre","V_Game","V_LaJiPre","V_SpineGuest","V_VideoRewardsPre","SuperScrollView","UI_Ctrl","UI_Events","UI_Guide","UI_Layout","UI_Manager","UI_ObjectPool","UI_PlayMS","V_goOut1Pre","V_goOut2Pre","V_goOutStockPre","V_CanteenPre","V_DeliverGoodsPre","V_FreightStationChidrenPre","V_FreightStationPre","V_GetGoodsPre","V_KitchenRoomPre","V_MainRoomPre","V_MessHallStationPre","V_RarbageStationPre","V_StorageRoomChildrenPre","V_StorageRoomPre - 001","V_StorageRoomPre","V_StorageRoomSellPre","V_TransitStationPre","V_UpgradeBuildingPre","V_ChengJiuChildrenPre","V_ChengJiuPre - 001","V_ChengJiuPre","V_JianZaoChildren_0","V_JianZaoChildren_1","V_JianZaoChildren_2","V_JianZaoChildren_3","V_JianZaoChildren_4","V_JianZaoChildren_5","V_JianZaoPre","V_QianDaoPre","V_RenWuPre","V_SheZhiPre","scene_APKUpdate","scene_Game","scene_GoOut","scene_HotUpdate","scene_Load","scene_Start","UI_GradientColor","UI_ScrollViewList","UI_Scrollview_load","UI_SetNodezIndex","UI_isInPolygon","Set_Font","i18nLabel","i18nMgr","i18nRichtext","i18nSprite"]);